window.AUDIOMASS_BASE_PATH="/audiomass/",window.AUDIOMASS_ASSET_PATH=function(e){return e?e.startsWith("http")||e.startsWith("//")||e.startsWith("/")?e:window.AUDIOMASS_BASE_PATH+e:""};let FFT=function(e,t,n,a){switch(this.bufferSize=e,this.sampleRate=t,this.bandwidth=2/e*(t/2),this.sinTable=new Float32Array(e),this.cosTable=new Float32Array(e),this.windowValues=new Float32Array(e),this.reverseTable=new Uint32Array(e),this.peakBand=0,this.peak=0,n){case"bartlett":for(r=0;r<e;r++)this.windowValues[r]=2/(e-1)*((e-1)/2-Math.abs(r-(e-1)/2));break;case"bartlettHann":for(r=0;r<e;r++)this.windowValues[r]=.62-.48*Math.abs(r/(e-1)-.5)-.38*Math.cos(2*Math.PI*r/(e-1));break;case"blackman":for(a=a||.16,r=0;r<e;r++)this.windowValues[r]=(1-a)/2-.5*Math.cos(2*Math.PI*r/(e-1))+a/2*Math.cos(4*Math.PI*r/(e-1));break;case"cosine":for(r=0;r<e;r++)this.windowValues[r]=Math.cos(Math.PI*r/(e-1)-Math.PI/2);break;case"gauss":for(a=a||.25,r=0;r<e;r++)this.windowValues[r]=Math.pow(Math.E,-.5*Math.pow((r-(e-1)/2)/(a*(e-1)/2),2));break;case"hamming":for(r=0;r<e;r++)this.windowValues[r]=.54-.46*Math.cos(2*Math.PI*r/(e-1));break;case"hann":case void 0:for(r=0;r<e;r++)this.windowValues[r]=.5*(1-Math.cos(2*Math.PI*r/(e-1)));break;case"lanczoz":for(r=0;r<e;r++)this.windowValues[r]=Math.sin(Math.PI*(2*r/(e-1)-1))/(Math.PI*(2*r/(e-1)-1));break;case"rectangular":for(r=0;r<e;r++)this.windowValues[r]=1;break;case"triangular":for(r=0;r<e;r++)this.windowValues[r]=2/e*(e/2-Math.abs(r-(e-1)/2));break;default:throw Error("No such window function '"+n+"'")}for(var r,i=1,s=e>>1;i<e;){for(r=0;r<i;r++)this.reverseTable[r+i]=this.reverseTable[r]+s;i<<=1,s>>=1}for(r=0;r<e;r++)this.sinTable[r]=Math.sin(-Math.PI/r),this.cosTable[r]=Math.cos(-Math.PI/r);this.calculateSpectrum=function(e){var t,n=this.bufferSize,a=this.cosTable,r=this.sinTable,i=this.reverseTable,s=new Float32Array(n),o=new Float32Array(n),l=2/this.bufferSize,c=Math.sqrt,u=new Float32Array(n/2),f=Math.floor(Math.log(n)/Math.LN2);if(Math.pow(2,f)!==n)throw"Invalid buffer size, must be a power of 2.";if(n!==e.length)throw"Supplied buffer is not the same size as defined FFT. FFT Size: "+n+" Buffer Size: "+e.length;for(var d,p,_,m,h=1,b=0;b<n;b++)s[b]=e[i[b]]*this.windowValues[i[b]],o[b]=0;for(;h<n;){for(var v=a[h],g=r[h],k=1,A=0,y=0;y<h;y++){for(b=y;b<n;)p=k*s[d=b+h]-A*o[d],_=k*o[d]+A*s[d],s[d]=s[b]-p,o[d]=o[b]-_,s[b]+=p,o[b]+=_,b+=h<<1;k=(m=k)*v-A*g,A=m*g+A*v}h<<=1}for(var b=0,w=n/2;b<w;b++)(t=l*c((t=s[b])*t+(t=o[b])*t))>this.peak&&(this.peakBand=b,this.peak=t),u[b]=t;return u}};((e,t)=>{"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("WaveSurfer",[],t):"object"==typeof exports?exports.WaveSurfer=t():e.WaveSurfer=t()})(window,function(){return n={"./node_modules/debounce/index.js":function(e,t){e.exports=function(t,n,a){var r,i,s,o,l;function c(){var e=Date.now()-o;e<n&&0<=e?r=setTimeout(c,n-e):(r=null,a||(l=t.apply(s,i),s=i=null))}null==n&&(n=100);function e(){s=this,i=arguments,o=Date.now();var e=a&&!r;return r=r||setTimeout(c,n),e&&(l=t.apply(s,i),s=i=null),l}return e.clear=function(){r&&(clearTimeout(r),r=null)},e.flush=function(){r&&(l=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},e}},"./src/drawer.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=(e=>{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(n("./src/util/index.js"));n=(e=>{var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function a(e,t){var n;if(this instanceof a)return(n=((e,t)=>{if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")})(this,(a.__proto__||Object.getPrototypeOf(a)).call(this))).container=e,n.params=t,n.width=0,n.height=t.height*n.params.pixelRatio,n.lastPos=0,n.wrapper=null,n;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(a,[{key:"style",value:function(e,t){return i.style(e,t)}},{key:"createWrapper",value:function(){this.wrapper=this.container.appendChild(document.createElement("wave")),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()}},{key:"handleEvent",value:function(e,t){t||e.preventDefault();var t=(e.targetTouches&&e.targetTouches[0]?e.targetTouches[0]:e).clientX,e=this._bbox,n=this.width,a=this.getWidth(),r=0;return!this.params.fillParent&&n<a?1<(r=(r=(t-e.left)*this.params.pixelRatio)||0)&&(r=1):r=(t-e.left)/this.width||0,r}},{key:"setupWrapperEvents",value:function(){var t=this;this.wrapper.addEventListener("click",function(e){t.params.interact&&t.fireEvent("click",e,t.handleEvent(e))}),this.wrapper.addEventListener("touchstart",function(e){t.params.interact&&t.fireEvent("touchstart",e)}),this.wrapper.addEventListener("touchmove",function(e){t.params.interact&&t.fireEvent("touchmove",e)}),this.wrapper.addEventListener("touchend",function(e){t.params.interact&&t.fireEvent("touchend",e)}),this.wrapper.addEventListener("scroll",function(e){return t.fireEvent("scroll",e)}),this.wrapper.addEventListener("wheel",function(e){return t.fireEvent("wheel",e)})}},{key:"drawPeaks",value:function(e,t,n,a,r,i){var s=this;requestAnimationFrame(function(){s.shift=i,s.setWidth(t)||s.clearWave(),s.drawWave(e,0,n,a,r)})}},{key:"drawSpectre",value:function(e,t,l,n,c,u,a){var r,i,f=this,s=(f.setWidth(t)||f.clearWave(),[[0,0,0,1],[.011764705882352941,0,0,1],[.023529411764705882,0,0,1],[.03529411764705882,0,0,1],[.047058823529411764,0,0,1],[.058823529411764705,0,0,1],[.07058823529411765,0,0,1],[.08235294117647059,0,0,1],[.09411764705882353,0,0,1],[.10588235294117647,0,0,1],[.11764705882352941,0,0,1],[.12941176470588237,0,0,1],[.1411764705882353,0,0,1],[.15294117647058825,0,0,1],[.16470588235294117,0,0,1],[.17647058823529413,0,0,1],[.18823529411764706,0,0,1],[.2,0,0,1],[.21176470588235294,0,0,1],[.2235294117647059,0,0,1],[.23529411764705882,0,0,1],[.24705882352941178,0,0,1],[.25882352941176473,0,0,1],[.27058823529411763,0,0,1],[.2823529411764706,0,0,1],[.29411764705882354,0,0,1],[.3058823529411765,0,0,1],[.3176470588235294,0,0,1],[.32941176470588235,0,0,1],[.3411764705882353,0,0,1],[.35294117647058826,0,0,1],[.36470588235294116,0,0,1],[.3764705882352941,0,0,1],[.38823529411764707,0,0,1],[.4,0,0,1],[.4117647058823529,0,0,1],[.4235294117647059,0,0,1],[.43529411764705883,0,0,1],[.4470588235294118,0,0,1],[.4549019607843137,0,0,1],[.4666666666666667,0,0,1],[.47843137254901963,0,0,1],[.49019607843137253,0,0,1],[.5019607843137255,0,0,1],[.5137254901960784,0,0,1],[.5254901960784314,0,0,1],[.5372549019607843,0,0,1],[.5490196078431373,0,0,1],[.5607843137254902,0,0,1],[.5725490196078431,0,0,1],[.5843137254901961,0,0,1],[.596078431372549,0,0,1],[.6078431372549019,0,0,1],[.6196078431372549,0,0,1],[.6313725490196078,0,0,1],[.6431372549019608,0,0,1],[.6549019607843137,0,0,1],[.6666666666666666,0,0,1],[.6784313725490196,0,0,1],[.6901960784313725,0,0,1],[.7019607843137254,0,0,1],[.7137254901960784,0,0,1],[.7254901960784313,0,0,1],[.7372549019607844,0,0,1],[.7490196078431373,0,0,1],[.7607843137254902,0,0,1],[.7725490196078432,0,0,1],[.7843137254901961,0,0,1],[.796078431372549,0,0,1],[.807843137254902,0,0,1],[.8196078431372549,0,0,1],[.8313725490196079,0,0,1],[.8431372549019608,0,0,1],[.8549019607843137,0,0,1],[.8666666666666667,0,0,1],[.8784313725490196,0,0,1],[.8901960784313725,0,0,1],[.9019607843137255,0,0,1],[.9019607843137255,.011764705882352941,0,1],[.9058823529411765,.023529411764705882,0,1],[.9058823529411765,.03137254901960784,0,1],[.9058823529411765,.043137254901960784,0,1],[.9098039215686274,.054901960784313725,0,1],[.9098039215686274,.06666666666666667,0,1],[.9098039215686274,.07450980392156863,0,1],[.9137254901960784,.08627450980392157,0,1],[.9137254901960784,.09803921568627451,0,1],[.9137254901960784,.10980392156862745,0,1],[.9176470588235294,.11764705882352941,0,1],[.9176470588235294,.12941176470588237,0,1],[.9176470588235294,.1411764705882353,0,1],[.9215686274509803,.15294117647058825,0,1],[.9215686274509803,.1607843137254902,0,1],[.9215686274509803,.17254901960784313,0,1],[.9254901960784314,.1843137254901961,0,1],[.9254901960784314,.19607843137254902,0,1],[.9254901960784314,.20784313725490197,0,1],[.9294117647058824,.21568627450980393,0,1],[.9294117647058824,.22745098039215686,0,1],[.9294117647058824,.23921568627450981,0,1],[.9333333333333333,.25098039215686274,0,1],[.9333333333333333,.25882352941176473,0,1],[.9333333333333333,.27058823529411763,0,1],[.9372549019607843,.2823529411764706,0,1],[.9372549019607843,.29411764705882354,0,1],[.9372549019607843,.30196078431372547,0,1],[.9411764705882353,.3137254901960784,0,1],[.9411764705882353,.3254901960784314,0,1],[.9411764705882353,.33725490196078434,0,1],[.9450980392156862,.34509803921568627,0,1],[.9450980392156862,.3568627450980392,0,1],[.9450980392156862,.3686274509803922,0,1],[.9490196078431372,.3803921568627451,0,1],[.9490196078431372,.38823529411764707,0,1],[.9490196078431372,.4,0,1],[.9529411764705882,.4117647058823529,0,1],[.9529411764705882,.4235294117647059,0,1],[.9529411764705882,.43529411764705883,0,1],[.9529411764705882,.44313725490196076,0,1],[.9568627450980393,.4549019607843137,0,1],[.9568627450980393,.4666666666666667,0,1],[.9568627450980393,.47843137254901963,0,1],[.9607843137254902,.48627450980392156,0,1],[.9607843137254902,.4980392156862745,0,1],[.9607843137254902,.5098039215686274,0,1],[.9647058823529412,.5215686274509804,0,1],[.9647058823529412,.5294117647058824,0,1],[.9647058823529412,.5411764705882353,0,1],[.9686274509803922,.5529411764705883,0,1],[.9686274509803922,.5647058823529412,0,1],[.9686274509803922,.5725490196078431,0,1],[.9725490196078431,.5843137254901961,0,1],[.9725490196078431,.596078431372549,0,1],[.9725490196078431,.6078431372549019,0,1],[.9764705882352941,.6196078431372549,0,1],[.9764705882352941,.6274509803921569,0,1],[.9764705882352941,.6392156862745098,0,1],[.9803921568627451,.6509803921568628,0,1],[.9803921568627451,.6627450980392157,0,1],[.9803921568627451,.6705882352941176,0,1],[.984313725490196,.6823529411764706,0,1],[.984313725490196,.6941176470588235,0,1],[.984313725490196,.7058823529411765,0,1],[.9882352941176471,.7137254901960784,0,1],[.9882352941176471,.7254901960784313,0,1],[.9882352941176471,.7372549019607844,0,1],[.9921568627450981,.7490196078431373,0,1],[.9921568627450981,.7568627450980392,0,1],[.9921568627450981,.7686274509803922,0,1],[.996078431372549,.7803921568627451,0,1],[.996078431372549,.792156862745098,0,1],[.996078431372549,.8,0,1],[1,.8117647058823529,0,1],[1,.8235294117647058,0,1],[1,.8235294117647058,.011764705882352941,1],[1,.8274509803921568,.0196078431372549,1],[1,.8274509803921568,.03137254901960784,1],[1,.8313725490196079,.0392156862745098,1],[1,.8313725490196079,.050980392156862744,1],[1,.8352941176470589,.058823529411764705,1],[1,.8352941176470589,.07058823529411765,1],[1,.8392156862745098,.0784313725490196,1],[1,.8392156862745098,.09019607843137255,1],[1,.8392156862745098,.09803921568627451,1],[1,.8431372549019608,.10980392156862745,1],[1,.8431372549019608,.11764705882352941,1],[1,.8470588235294118,.12941176470588237,1],[1,.8470588235294118,.13725490196078433,1],[1,.8509803921568627,.14901960784313725,1],[1,.8509803921568627,.1568627450980392,1],[1,.8549019607843137,.16862745098039217,1],[1,.8549019607843137,.17647058823529413,1],[1,.8549019607843137,.18823529411764706,1],[1,.8588235294117647,.19607843137254902,1],[1,.8588235294117647,.20784313725490197,1],[1,.8627450980392157,.21568627450980393,1],[1,.8627450980392157,.22745098039215686,1],[1,.8666666666666667,.23529411764705882,1],[1,.8666666666666667,.24705882352941178,1],[1,.8666666666666667,.2549019607843137,1],[1,.8705882352941177,.26666666666666666,1],[1,.8705882352941177,.27450980392156865,1],[1,.8745098039215686,.28627450980392155,1],[1,.8745098039215686,.29411764705882354,1],[1,.8784313725490196,.3058823529411765,1],[1,.8784313725490196,.3137254901960784,1],[1,.8823529411764706,.3254901960784314,1],[1,.8823529411764706,.3333333333333333,1],[1,.8823529411764706,.34509803921568627,1],[1,.8862745098039215,.35294117647058826,1],[1,.8862745098039215,.36470588235294116,1],[1,.8901960784313725,.37254901960784315,1],[1,.8901960784313725,.3843137254901961,1],[1,.8941176470588236,.39215686274509803,1],[1,.8941176470588236,.403921568627451,1],[1,.8980392156862745,.4117647058823529,1],[1,.8980392156862745,.4235294117647059,1],[1,.8980392156862745,.43137254901960786,1],[1,.9019607843137255,.44313725490196076,1],[1,.9019607843137255,.45098039215686275,1],[1,.9058823529411765,.4627450980392157,1],[1,.9058823529411765,.47058823529411764,1],[1,.9098039215686274,.4823529411764706,1],[1,.9098039215686274,.49019607843137253,1],[1,.9137254901960784,.5019607843137255,1],[1,.9137254901960784,.5098039215686274,1],[1,.9137254901960784,.5215686274509804,1],[1,.9176470588235294,.5294117647058824,1],[1,.9176470588235294,.5411764705882353,1],[1,.9215686274509803,.5490196078431373,1],[1,.9215686274509803,.5607843137254902,1],[1,.9254901960784314,.5686274509803921,1],[1,.9254901960784314,.5803921568627451,1],[1,.9254901960784314,.5882352941176471,1],[1,.9294117647058824,.6,1],[1,.9294117647058824,.6078431372549019,1],[1,.9333333333333333,.6196078431372549,1],[1,.9333333333333333,.6274509803921569,1],[1,.9372549019607843,.6392156862745098,1],[1,.9372549019607843,.6470588235294118,1],[1,.9411764705882353,.6588235294117647,1],[1,.9411764705882353,.6666666666666666,1],[1,.9411764705882353,.6784313725490196,1],[1,.9450980392156862,.6862745098039216,1],[1,.9450980392156862,.6980392156862745,1],[1,.9490196078431372,.7058823529411765,1],[1,.9490196078431372,.7176470588235294,1],[1,.9529411764705882,.7254901960784313,1],[1,.9529411764705882,.7372549019607844,1],[1,.9568627450980393,.7450980392156863,1],[1,.9568627450980393,.7568627450980392,1],[1,.9568627450980393,.7647058823529411,1],[1,.9607843137254902,.7764705882352941,1],[1,.9607843137254902,.7843137254901961,1],[1,.9647058823529412,.796078431372549,1],[1,.9647058823529412,.803921568627451,1],[1,.9686274509803922,.8156862745098039,1],[1,.9686274509803922,.8235294117647058,1],[1,.9725490196078431,.8352941176470589,1],[1,.9725490196078431,.8431372549019608,1],[1,.9725490196078431,.8549019607843137,1],[1,.9764705882352941,.8627450980392157,1],[1,.9764705882352941,.8745098039215686,1],[1,.9803921568627451,.8823529411764706,1],[1,.9803921568627451,.8941176470588236,1],[1,.984313725490196,.9019607843137255,1],[1,.984313725490196,.9137254901960784,1],[1,.984313725490196,.9215686274509803,1],[1,.9882352941176471,.9333333333333333,1],[1,.9882352941176471,.9411764705882353,1],[1,.9921568627450981,.9529411764705882,1],[1,.9921568627450981,.9607843137254902,1],[1,.996078431372549,.9725490196078431,1],[1,.996078431372549,.9803921568627451,1],[1,1,.9921568627450981,1],[1,1,1,1]]),o=this.height,d=(e=>{var t=f.width,n=e.length,a=n/t,r=[],i=l/u,s=0!=i?n*i>>0:0;1!=(i=(c=u<l+c?u-l:c)/u)&&(a=(n-((1-i)*n>>0))/t);for(var o=0;o<t;++o)r[o]=e[s+o*a>>0];return r})(e);this.canvases.forEach(function(e){var t=0;for(d[0]&&(t=d[0].length-1),f.imagedata||(f.imagedata=e.waveCtx.createImageData(f.width,o)),r=0;r<d.length;r++)for(i=0;i<d[r].length;i++){var n=s[d[r][i]],a=4*((t-i)*f.width+r);f.imagedata.data[a]=255*n[0],f.imagedata.data[1+a]=255*n[1],f.imagedata.data[2+a]=255*n[2],f.imagedata.data[3+a]=255*n[3]}e.waveCtx.putImageData(f.imagedata,0,0)})}},{key:"resetScroll",value:function(){null!==this.wrapper&&(this.wrapper.scrollLeft=0)}},{key:"recenter",value:function(e){e=this.wrapper.scrollWidth*e;this.recenterOnPosition(e,!0)}},{key:"recenterOnPosition",value:function(e,t){var n=this.wrapper.scrollLeft,a=~~(this.wrapper.clientWidth/2),r=this.wrapper.scrollWidth-this.wrapper.clientWidth,e=e-a,i=e-n;0!=r&&(!t&&-a<=i&&i<a&&(e=n+Math.max(-5,Math.min(5,i))),(e=Math.max(0,Math.min(r,e)))!=n)&&(this.wrapper.scrollLeft=e)}},{key:"getScrollX",value:function(){var e=this.params.pixelRatio,t=Math.round(this.wrapper.scrollLeft*e);return this.params.scrollParent&&(e=~~(this.wrapper.scrollWidth*e-this.getWidth()),t=Math.min(e,Math.max(0,t))),t}},{key:"getWidth",value:function(){return this._width}},{key:"setWidth",value:function(e){return this.width!=e&&(this.width=e,this.params.fillParent||this.params.scrollParent?this.style(this.wrapper,{width:""}):this.style(this.wrapper,{width:~~(this.width/this.params.pixelRatio)+"px"}),this.updateSize(),!0)}},{key:"setHeight",value:function(e){return e!=this.height&&(this.height=e,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize(),!0)}},{key:"progress",value:function(e,t,n){0==e?this.updateProgress(-1):(e=(e-t)*n,t=1/this.params.pixelRatio,n=Math.round(e*this.width)*t,this.updateProgress(n))}},{key:"destroy",value:function(){this.unAll(),this.wrapper&&(this.wrapper.parentNode==this.container&&this.container.removeChild(this.wrapper),this.wrapper=null)}},{key:"updateCursor",value:function(){}},{key:"updateSize",value:function(){}},{key:"drawBars",value:function(e,t,n,a){}},{key:"drawWave",value:function(e,t,n,a){}},{key:"clearWave",value:function(){}},{key:"updateProgress",value:function(e){}}]),a})(i.Observer);t.default=n,e.exports=t.default},"./src/drawer.multicanvas.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=n("./src/drawer.js"),i=(i=i)&&i.__esModule?i:{default:i},u=(e=>{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(n("./src/util/index.js"));n=(e=>{var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(e,t){if(this instanceof n)return(e=((e,t)=>{if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")})(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t))).maxCanvasWidth=t.maxCanvasWidth,e.maxCanvasElementWidth=Math.round(t.maxCanvasWidth/t.pixelRatio),e.hasProgressCanvas=!1,e.halfPixel=.5/t.pixelRatio,e.canvases=[],e.progressWave=null,e.CursorMarker=null,e;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),a(n,[{key:"init",value:function(){this.createWrapper(),this.createElements()}},{key:"createElements",value:function(){this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{})),this.progressWave.id="pk_prgwv",this.addCanvas(),this.CursorMarker=document.createElement("div"),this.CursorMarker.className="pk_wave_cursor",this.wrapper.appendChild(this.CursorMarker)}},{key:"updateCursor",value:function(){this.style(this.progressWave,{borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})}},{key:"updateSize",value:function(){var a=this;for(Math.round(this.width/this.params.pixelRatio);this.canvases.length<1;)this.addCanvas();for(;1<this.canvases.length;)this.removeCanvas();this.canvases.forEach(function(e,t){var n=a.maxCanvasWidth+2*Math.ceil(a.params.pixelRatio/2);t==a.canvases.length-1&&(n=a.width-a.maxCanvasWidth*(a.canvases.length-1)),a.updateDimensions(e,n,a.height),a.clearWaveForEntry(e)})}},{key:"addCanvas",value:function(){var e={},t=this.maxCanvasElementWidth*this.canvases.length;e.wave=this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:2,left:t+"px",top:0,bottom:0,height:"100%",pointerEvents:"none"})),e.waveCtx=e.wave.getContext("2d",{alpha:!1,antialias:!1}),e.waveCtx.font="12px Arial lighter",this.hasProgressCanvas&&(e.progress=this.progressWave.appendChild(this.style(document.createElement("canvas"),{position:"absolute",left:t+"px",top:0,bottom:0,height:"100%"})),e.progressCtx=e.progress.getContext("2d",{alpha:!1,antialias:!1})),this.canvases.push(e)}},{key:"removeCanvas",value:function(){var e=this.canvases.pop();e.wave.parentElement.removeChild(e.wave),this.hasProgressCanvas&&e.progress.parentElement.removeChild(e.progress)}},{key:"updateDimensions",value:function(e,t,n){var a=Math.round(t/this.params.pixelRatio),r=Math.round(this.width/this.params.pixelRatio);e.start=e.waveCtx.canvas.offsetLeft/r||0,e.end=e.start+a/r,e.waveCtx.canvas.width=t,e.waveCtx.canvas.height=n,this.style(e.waveCtx.canvas,{width:a+"px"}),this.style(this.progressWave,{display:"block"}),this.hasProgressCanvas&&(e.progressCtx.canvas.width=t,e.progressCtx.canvas.height=n,this.style(e.progressCtx.canvas,{width:a+"px"}))}},{key:"clearWave",value:function(){var t=this;this.canvases.forEach(function(e){return t.clearWaveForEntry(e)})}},{key:"clearWaveForEntry",value:function(e){this.shiftClear=!0,e.waveCtx.fillStyle="#000",e.waveCtx.fillRect(0,0,e.waveCtx.canvas.width,e.waveCtx.canvas.height),e.waveCtx.fillStyle="#99c2c6"}},{key:"drawBars",value:function(e,t,p,_){var m=this;return this.prepareDraw(e,t,p,_,function(e){var t=e.absmax,n=e.hasMinVals,a=e.offsetY,r=e.halfH,i=e.peaks;if(m.params.timeline&&(a+=20,r-=10),void 0!==p)for(var s=n?2:1,e=i.length/s,o=m.params.barWidth*m.params.pixelRatio,l=o+(null===m.params.barGap?Math.max(m.params.pixelRatio,~~(o/2)):Math.max(m.params.pixelRatio,m.params.barGap*m.params.pixelRatio)),c=e/m.width,u=_,f=void 0,f=p;f<u;f+=l){var d=i[Math.floor(f*c*s)]||0,d=Math.round(d/t*r);m.fillRect(f+m.halfPixel,r-d+a,o+m.halfPixel,2*d)}})}},{key:"drawWave",value:function(e,t,l,c,n){var u=this;return this.prepareDraw(e,t,l,c,function(e){var t=e.absmax,n=e.offsetY,a=e.halfH,r=e.peaks;if(u.params.timeline&&(n+=20,a-=10),!e.hasMinVals){for(var i=[],s=r.length,o=void 0,o=0;o<s;o++)i[2*o]=r[o],i[2*o+1]=-r[o];r=i}void 0!==l&&u.drawLine(u.params.limits,u.params.timeline,r,t,a,n,l,c),u.fillRect(0,a+n-u.halfPixel,u.width,u.halfPixel,u.params.timeline?10:0)},n)}},{key:"drawLine",value:function(t,n,a,r,i,s,o,l){var c=this;this.canvases.forEach(function(e){c.drawLineToContext(t,n,e,e.waveCtx,a,r,i,s,o,l)})}},{key:"drawLineToContext",value:function(e,t,n,a,r,i,s,o,l,c){if(a){var u=r.length/2,f=this.params.fillParent&&this.width!=u?this.width/u:1,d=Math.round(u*n.start),u=Math.round(u*n.end)+1;if(!(c<d||u<l)){var p,_,m=Math.min(d,l),n=Math.max(u,c),h=void 0,b=void 0,l=(a.beginPath(),a.moveTo((m-d)*f+this.halfPixel,s+o),0),v=(this.params.ActiveChannels[l=30<o?1:l]?a.fillStyle=this.params.waveColor:a.fillStyle=this.params.waveDisabledColor,n);for(r.length<=2*v&&(v=r.length/2>>0),h=m;h<v;++h){var g=r[2*h],g=Math.round(g/i*s),g=Math.min(g,s);a.lineTo((h-d)*f+this.halfPixel,s-g+o)}for(b=v-1;m<=b;--b){var k=r[2*b+1],k=Math.round(k/i*s),k=Math.max(k,-s);a.lineTo((b-d)*f+this.halfPixel,s-k+o)}if(a.closePath(),a.fill(),e&&(a.fillStyle="#fff",o<(c=(u=10*s/100>>0)+o-(R=1/i*s-s))&&a.fillRect(0,c,this.width,.5),(c=2*s-u+o+R)<2*s+o&&a.fillRect(0,c,this.width,.5),a.fillStyle=this.params.waveColor),t){a.fillStyle="#fff";PKAudioEditor.engine.wavesurfer.VisibleDuration;var l=PKAudioEditor.engine.wavesurfer.LeftProgress,A=PKAudioEditor.engine.wavesurfer.getDuration(),n=PKAudioEditor.engine.wavesurfer.ZoomFactor,y=PKAudioEditor.engine.wavesurfer.drawer.width;if(1<=n){for(var w,E,R,C=l/A*(y*=n),S=0,T=y/A,M=(a.textAlign="center",a.fillStyle="#111",a.fillRect(0,0,this.width,24),a.fillStyle="#aaa",a.strokeStyle="#aaa",T<60?T=60:160<T&&(T/=1+(T/160>>0)),0),h=0;h<10*A&&!(y-2<S-C);++h)-2<=S-C&&S-C<y-2&&(E=3,(R=(w=S/y*A)-M)<1?E=1:R<60&&(E=2),a.fillText((w=M=w,_=p=void 0,w-=_=w>>0,_=_<10?"00:0"+_:_<60?"00:"+_:(p=_/60,((p>>=0)<10?"0":"")+p+":"+((p=_%60)<10?"0"+p:p)),1===E?_+":"+(w+"").substr(2,2):_),S-C,12)),S+=T;a.beginPath();for(S=0,h=0;h<10*A&&!(y-2<S-C);++h)-2<=S-C&&S-C<y-2&&(a.moveTo(S-C,16),a.lineTo(S-C,24)),S+=T;S=T/2;for(h=0;h<10*A&&!(y-2<S-C);++h)-2<=S-C&&S-C<y-2&&(a.moveTo(S-C,19),a.lineTo(S-C,24)),S+=T;a.stroke()}}this.RCB&&this.RCB(),a.fillStyle=this.params.waveColor}}}},{key:"fillRect",value:function(e,t,n,a,r){for(var i=Math.floor(e/this.maxCanvasWidth),s=Math.min(Math.ceil((e+n)/this.maxCanvasWidth)+1,this.canvases.length),o=void 0,l=!1,o=i;o<s;o++){var c=this.canvases[o],u=o*this.maxCanvasWidth,f={x1:Math.max(e,o*this.maxCanvasWidth),y1:t,x2:Math.min(e+n,o*this.maxCanvasWidth+c.waveCtx.canvas.width),y2:t+a};f.x1<f.x2&&(this.setFillStyles(c),l||(this.fillRectToContext(c.waveCtx,0,this.height/2+r,this.width,.25),l=!0),this.fillRectToContext(c.waveCtx,f.x1-u,f.y1,f.x2-f.x1,f.y2-f.y1))}}},{key:"prepareDraw",value:function(e,t,n,a,r,i){var s=this;if(e[0]instanceof Array){var o=e;if(s.params.splitChannels)return s.setHeight(s.params.height*s.params.pixelRatio),o.forEach(function(e,t){return s.prepareDraw(e,t,n,a,r,i)});e=o[0]}var o=1/s.params.barHeight,l=(o*=s.params.verticalZoom,s.params.normalize&&(o=(c=u.max(e))<-(l=u.min(e))?-l:c),[].some.call(e,function(e){return e<0})),c=s.params.height/2*s.params.pixelRatio;return r({absmax:o,hasMinVals:l,height:c,offsetY:c*t||0,halfH:1===i?c:c/2,peaks:e})}},{key:"fillRectToContext",value:function(e,t,n,a,r){e&&e.fillRect(t,n,a,r)}},{key:"setFillStyles",value:function(e){e.waveCtx.fillStyle=this.params.waveColor,this.hasProgressCanvas&&(e.progressCtx.fillStyle=this.params.progressColor)}},{key:"getImage",value:function(t,n){var e=this.canvases.map(function(e){return e.wave.toDataURL(t,n)});return 1<e.length?e:e[0]}},{key:"updateProgress",value:function(e){this.progressWave.style.transform="translate3d("+e+"px,0,0)"}}]),n})(i.default);t.default=n,e.exports=t.default},"./src/mediaelement.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,n){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,t);return void 0!==a?"value"in a?a.value:void 0!==(a=a.get)?a.call(n):void 0:null!==(a=Object.getPrototypeOf(e))?i(a,t,n):void 0}var s=n("./src/webaudio.js"),s=(s=s)&&s.__esModule?s:{default:s};(e=>{if(e&&e.__esModule)return;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e})(n("./src/util/index.js"));n=(e=>{var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function a(e){var t;if(this instanceof a)return(t=((e,t)=>{if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")})(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e))).params=e,t.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){},volume:0},t.mediaType=e.mediaType.toLowerCase(),t.elementPosition=e.elementPosition,t.peaks=null,t.playbackRate=1,t.volume=1,t.buffer=null,t.onPlayEnd=null,t;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(a,[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer()}},{key:"createTimer",value:function(){var t=this;this.on("play",function e(){t.isPaused()||(t.fireEvent("audioprocess",t.getCurrentTime()),(window.requestAnimationFrame||window.webkitRequestAnimationFrame)(e))}),this.on("pause",function(){t.fireEvent("audioprocess",t.getCurrentTime())})}},{key:"load",value:function(e,t,n,a){var r=document.createElement(this.mediaType),a=(r.controls=this.params.mediaControls,r.autoplay=this.params.autoplay||!1,r.preload=null==a?"auto":a,r.src=e,r.style.width="100%",t.querySelector(this.mediaType));a&&t.removeChild(a),t.appendChild(r),this._load(r,n)}},{key:"loadElt",value:function(e,t){e.controls=this.params.mediaControls,e.autoplay=this.params.autoplay||!1,this._load(e,t)}},{key:"_load",value:function(e,t){var n=this;"function"==typeof e.load&&e.load(),e.addEventListener("error",function(){n.fireEvent("error","Error loading media element")}),e.addEventListener("canplay",function(){n.fireEvent("canplay")}),e.addEventListener("ended",function(){n.fireEvent("finish")}),e.addEventListener("play",function(){n.fireEvent("play")}),e.addEventListener("pause",function(){n.fireEvent("pause")}),this.media=e,this.peaks=t,this.onPlayEnd=null,this.buffer=null,this.setPlaybackRate(this.playbackRate),this.setVolume(this.volume)}},{key:"isPaused",value:function(){return!this.media||this.media.paused}},{key:"getDuration",value:function(){var e;return this.explicitDuration||(1/0<=(e=(this.buffer||this.media).duration)?this.media.seekable.end(0):e)}},{key:"getCurrentTime",value:function(){return this.media&&this.media.currentTime}},{key:"getPlayedPercents",value:function(){return this.getCurrentTime()/this.getDuration()||0}},{key:"getPlaybackRate",value:function(){return this.playbackRate||this.media.playbackRate}},{key:"setPlaybackRate",value:function(e){this.playbackRate=e||1,this.media.playbackRate=this.playbackRate}},{key:"seekTo",value:function(e){null!=e&&(this.media.currentTime=e),this.clearPlayEnd()}},{key:"play",value:function(e,t){this.seekTo(e);e=this.media.play();return t&&this.setPlayEnd(t),e}},{key:"pause",value:function(){var e=void 0;return this.media&&(e=this.media.pause()),this.clearPlayEnd(),e}},{key:"setPlayEnd",value:function(t){var n=this;this._onPlayEnd=function(e){t<=e&&(n.pause(),n.seekTo(t))},this.on("audioprocess",this._onPlayEnd)}},{key:"clearPlayEnd",value:function(){this._onPlayEnd&&(this.un("audioprocess",this._onPlayEnd),this._onPlayEnd=null)}},{key:"getPeaks",value:function(e,t,n){return this.buffer?i(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"getPeaks",this).call(this,e,t,n):this.peaks||[]}},{key:"setSinkId",value:function(e){return e?this.media.setSinkId?this.media.setSinkId(e):Promise.reject(new Error("setSinkId is not supported in your browser")):Promise.reject(new Error("Invalid deviceId: "+e))}},{key:"getVolume",value:function(){return this.volume||this.media.volume}},{key:"setVolume",value:function(e){this.volume=e,this.media.volume=this.volume}},{key:"destroy",value:function(){this.pause(),this.unAll(),this.params.removeMediaElementOnDestroy&&this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}]),a})(s.default);t.default=n,e.exports=t.default},"./src/peakcache.js":function(e,t,n){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,"__esModule",{value:!0});(function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)})(i,[{key:"clearPeakCache",value:function(){this.peakCacheRanges=[],this.peakCacheLength=-1}},{key:"addRangeToPeakCache",value:function(e,t,n){e!=this.peakCacheLength&&(this.clearPeakCache(),this.peakCacheLength=e);for(var a=[],r=0;r<this.peakCacheRanges.length&&this.peakCacheRanges[r]<t;)r++;for(r%2==0&&a.push(t);r<this.peakCacheRanges.length&&this.peakCacheRanges[r]<=n;)a.push(this.peakCacheRanges[r]),r++;r%2==0&&a.push(n),a=a.filter(function(e,t,n){return 0==t?e!=n[t+1]:t==n.length-1?e!=n[t-1]:e!=n[t-1]&&e!=n[t+1]}),this.peakCacheRanges=this.peakCacheRanges.concat(a),this.peakCacheRanges=this.peakCacheRanges.sort(function(e,t){return e-t}).filter(function(e,t,n){return 0==t?e!=n[t+1]:t==n.length-1?e!=n[t-1]:e!=n[t-1]&&e!=n[t+1]});for(var i=[],r=0;r<a.length;r+=2)i.push([a[r],a[r+1]]);return i}},{key:"getCacheRanges",value:function(){for(var e=[],t=void 0,t=0;t<this.peakCacheRanges.length;t+=2)e.push([this.peakCacheRanges[t],this.peakCacheRanges[t+1]]);return e}}]);var r=i;function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.clearPeakCache()}t.default=r,e.exports=t.default},"./src/util/ajax.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new r.default,n=new XMLHttpRequest,a=!1;n.open(e.method||"GET",e.url,!0),n.responseType=e.responseType||"json",e.xhr&&(e.xhr.requestHeaders&&e.xhr.requestHeaders.forEach(function(e){n.setRequestHeader(e.key,e.value)}),e.xhr.withCredentials)&&(n.withCredentials=!0);return n.addEventListener("progress",function(e){t.fireEvent("progress",e),e.lengthComputable&&e.loaded==e.total&&(a=!0)}),n.addEventListener("load",function(e){a||t.fireEvent("progress",e),t.fireEvent("load",e),200==n.status||206==n.status?t.fireEvent("success",n.response,e):t.fireEvent("error",e)}),n.addEventListener("error",function(e){return t.fireEvent("error",e)}),n.send(),t.xhr=n,t};var n=n("./src/util/observer.js"),r=(n=n)&&n.__esModule?n:{default:n};e.exports=t.default},"./src/util/extend.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(n){for(var e=arguments.length,t=Array(1<e?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];return t.forEach(function(t){Object.keys(t).forEach(function(e){n[e]=t[e]})}),n},e.exports=t.default},"./src/util/frame.js":function(e,t,n){},"./src/util/get-id.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"wavesurfer_"+Math.random().toString(32).substring(2)},e.exports=t.default},"./src/util/index.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n("./src/util/ajax.js"),r=(Object.defineProperty(t,"ajax",{enumerable:!0,get:function(){return _(a).default}}),n("./src/util/get-id.js")),i=(Object.defineProperty(t,"getId",{enumerable:!0,get:function(){return _(r).default}}),n("./src/util/max.js")),s=(Object.defineProperty(t,"max",{enumerable:!0,get:function(){return _(i).default}}),n("./src/util/min.js")),o=(Object.defineProperty(t,"min",{enumerable:!0,get:function(){return _(s).default}}),n("./src/util/observer.js")),l=(Object.defineProperty(t,"Observer",{enumerable:!0,get:function(){return _(o).default}}),n("./src/util/extend.js")),c=(Object.defineProperty(t,"extend",{enumerable:!0,get:function(){return _(l).default}}),n("./src/util/style.js")),u=(Object.defineProperty(t,"style",{enumerable:!0,get:function(){return _(c).default}}),n("./src/util/request-animation-frame.js")),f=(Object.defineProperty(t,"requestAnimationFrame",{enumerable:!0,get:function(){return _(u).default}}),n("./src/util/frame.js")),d=(Object.defineProperty(t,"frame",{enumerable:!0,get:function(){return _(f).default}}),n("./node_modules/debounce/index.js")),p=(Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return _(d).default}}),n("./src/util/prevent-click.js"));function _(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"preventClick",{enumerable:!0,get:function(){return _(p).default}})},"./src/util/max.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var n=-1/0;return Object.keys(t).forEach(function(e){t[e]>n&&(n=t[e])}),n},e.exports=t.default},"./src/util/min.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var n=Number(1/0);return Object.keys(t).forEach(function(e){t[e]<n&&(n=t[e])}),n},e.exports=t.default},"./src/util/observer.js":function(e,t,n){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,"__esModule",{value:!0});(function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)})(i,[{key:"on",value:function(e,t){var n=this;return this.handlers||(this.handlers={}),(this.handlers[e]||(this.handlers[e]=[])).push(t),{name:e,callback:t,un:function(e,t){return n.un(e,t)}}}},{key:"un",value:function(e,t){if(this.handlers){var n=this.handlers[e],a=void 0;if(n)if(t)for(a=n.length-1;0<=a;a--)n[a]==t&&n.splice(a,1);else n.length=0}}},{key:"unAll",value:function(){this.handlers=null}},{key:"once",value:function(r,i){var s=this;return this.on(r,function e(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];i.apply(s,n),setTimeout(function(){s.un(r,e)},0)})}},{key:"fireEvent",value:function(e,t,n){this.handlers&&(e=this.handlers[e])&&e.forEach(function(e){e(t,n)})}}]);var r=i;function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.handlers=null}t.default=r,e.exports=t.default},"./src/util/prevent-click.js":function(e,t,n){function a(e){e.stopPropagation(),document.body.removeEventListener("click",a,!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){document.body.addEventListener("click",a,!0)},e.exports=t.default},"./src/util/request-animation-frame.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return setTimeout(e,1e3/60)}).bind(window),e.exports=t.default},"./src/util/style.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,n){return Object.keys(n).forEach(function(e){t.style[e]!==n[e]&&(t.style[e]=n[e])}),t},e.exports=t.default},"./src/wavesurfer.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=(e=>{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(n("./src/util/index.js")),s=u(n("./src/drawer.multicanvas.js")),o=u(n("./src/webaudio.js")),l=u(n("./src/mediaelement.js")),c=u(n("./src/peakcache.js"));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r(p,[{key:"create",value:function(e){}}]),r(p,[{key:"init",value:function(){}},{key:"destroy",value:function(){}}]);function p(e,t){d(this,p)}n=(e=>{var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function a(e){d(this,a);var t=f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));if(t.defaultParams={audioContext:null,audioRate:1,autoCenter:!0,backend:"WebAudio",barHeight:1,barGap:null,container:null,cursorColor:"#ff8c35",cursorWidth:1,dragSelection:!0,fillParent:!0,forceDecode:!1,height:128,hideScrollbar:!1,interact:!0,loopSelection:!0,maxCanvasWidth:4e3,mediaContainer:null,mediaControls:!1,mediaType:"audio",minPxPerSec:20,normalize:!1,partialRender:!1,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,plugins:[],progressColor:"rgba(201,199,229,0.24)",removeMediaElementOnDestroy:!0,renderer:s.default,responsive:!1,scrollParent:!1,skipLength:2,splitChannels:!1,waveColor:"#99c2c6",waveDisabledColor:"#505253",xhr:{},limits:1,timeline:1,verticalZoom:1},t.backends={MediaElement:l.default,WebAudio:o.default},t.util=i,t.params=i.extend({},t.defaultParams,e),t.container="string"==typeof e.container?document.querySelector(t.params.container):t.params.container,!t.container)throw new Error("Container element not found");if(null==t.params.mediaContainer?t.mediaContainer=t.container:"string"==typeof t.params.mediaContainer?t.mediaContainer=document.querySelector(t.params.mediaContainer):t.mediaContainer=t.params.mediaContainer,!t.mediaContainer)throw new Error("Media Container element not found");if(t.params.maxCanvasWidth<=1)throw new Error("maxCanvasWidth must be greater than 1");if(t.params.maxCanvasWidth%2==1)throw new Error("maxCanvasWidth must be an even number");if(t.savedVolume=0,t.isMuted=!1,t.tmpEvents=[],t.currentAjax=null,t.bid={},t.arraybuffer=null,t.drawer=null,t.backend=null,t.peakCache=null,"function"!=typeof t.params.renderer)throw new Error("Renderer parameter is invalid");t.Drawer=t.params.renderer,t.Backend=t.backends[t.params.backend],t.initialisedPluginList={},t.isDestroyed=!1,t.isReady=!1;var n=0;return t._onResize=i.debounce(function(){n==t.drawer.wrapper.clientWidth||t.params.scrollParent||(n=t.drawer.wrapper.clientWidth,t.drawer.fireEvent("redraw"))},"number"==typeof t.params.responsive?t.params.responsive:100),t.ActiveMarker=0,t.FollowCursor=1,t.Interacting=0,t.ActiveChannels=[1,1],t.SelectedChannelsLen=2,t.LeftProgress=0,t.ZoomFactor=1,t.VisibleDuration=0,f(t,t)}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(a,null,[{key:"create",value:function(e){return new a(e).init()}}]),r(a,[{key:"init",value:function(){return this.registerPlugins(this.params.plugins),this.createDrawer(),this.createBackend(),this.createPeakCache(),this}},{key:"registerPlugins",value:function(e){var t=this;return e.forEach(function(e){return t.addPlugin(e)}),e.forEach(function(e){e.deferInit||t.initPlugin(e.name)}),this.fireEvent("plugins-registered",e),this}},{key:"addPlugin",value:function(t){var n=this;if(!t.name)throw new Error("Plugin does not have a name!");if(!t.instance)throw new Error("Plugin "+t.name+" does not have an instance property!");t.staticProps&&Object.keys(t.staticProps).forEach(function(e){n[e]=t.staticProps[e]});var a=t.instance;return Object.getOwnPropertyNames(i.Observer.prototype).forEach(function(e){a.prototype[e]=i.Observer.prototype[e]}),this[t.name]=new a(t.params||{},this),this.fireEvent("plugin-added",t.name),this}},{key:"initPlugin",value:function(e){if(this[e])return this.initialisedPluginList[e]&&this.destroyPlugin(e),this[e].init(),this.initialisedPluginList[e]=!0,this.fireEvent("plugin-initialised",e),this;throw new Error("Plugin "+e+" has not been added yet!")}},{key:"destroyPlugin",value:function(e){if(!this[e])throw new Error("Plugin "+e+" has not been added yet and cannot be destroyed!");if(!this.initialisedPluginList[e])throw new Error("Plugin "+e+" is not active and cannot be destroyed!");if("function"!=typeof this[e].destroy)throw new Error("Plugin "+e+" does not have a destroy function!");return this[e].destroy(),delete this.initialisedPluginList[e],this.fireEvent("plugin-destroyed",e),this}},{key:"destroyAllPlugins",value:function(){var t=this;Object.keys(this.initialisedPluginList).forEach(function(e){return t.destroyPlugin(e)})}},{key:"createDrawer",value:function(){var i,s,o=this,a=(this.params.ActiveChannels=this.ActiveChannels,this.drawer=new this.Drawer(this.container,this.params),this.drawer.init(),this.fireEvent("drawer-created",this.drawer),this.drawer.on("resize",function(){o.drawer._width=Math.round(o.drawer.container.clientWidth*o.drawer.params.pixelRatio),o.drawer._bbox=o.drawer.wrapper.getBoundingClientRect()}),this.on("resize",function(){o.drawer.fireEvent("resize")}),!1!==this.params.responsive&&(window.addEventListener("resize",this._onResize,!0),window.addEventListener("orientationchange",this._onResize,!0)),this.drawer.on("redraw",function(){o.drawBuffer(),o.drawer.progress(o.backend.getPlayedPercents(),o.LeftProgress/o.getDuration(),o.ZoomFactor)}),"ontouchstart"in document.documentElement&&(i={x:0,y:0},s={x:0,y:0},this.drawer.on("touchstart",function(e){e.touches&&1===e.touches.length&&(i={x:e.touches[0].pageX,y:e.touches[0].pageY})}),this.drawer.on("touchmove",function(e){e.touches&&1===e.touches.length&&(s={x:e.touches[0].pageX,y:e.touches[0].pageY})}),this.drawer.on("touchend",function(e){0!==i.x&&0!==i.y&&(0===s.x&&0===s.y||Math.abs(s.x-i.x)<20&&Math.abs(s.y-i.y)<20?setTimeout(function(){var e=o.drawer._bbox,t=o.drawer.width,n=o.drawer.getWidth(),a=0,r=i.x-(window.pageXOffset||document.documentElement.scrollLeft),n=(!o.drawer.params.fillParent&&t<n?1<(a=(a=(r-e.left)*o.drawer.params.pixelRatio)||0)&&(a=1):a=(r-e.left)/t||0,(a*o.VisibleDuration+o.LeftProgress)/o.getDuration());0<=n&&n<=1&&o.seekTo(n),i={x:0,y:0},s={x:0,y:0},o.regions&&o.regions.clear()},24):(i={x:0,y:0},s={x:0,y:0}))})),this.drawer.on("click",function(e,t){var n=e.timeStamp;setTimeout(function(){var e=(t*o.VisibleDuration+o.LeftProgress)/o.getDuration();0<=e&&e<=1&&o.seekTo(e,n)},36)}),this.ResetZoom=function(){o.ZoomFactor=1,o.LeftProgress=0,o.params.verticalZoom=1,o.ForceDraw(),o.fireEvent("DidZoom")},this.SetZoomVertical=function(e,t){var n=o.params.verticalZoom;o.params.verticalZoom<.1?o.params.verticalZoom+=e/24:o.params.verticalZoom<.3?o.params.verticalZoom+=e/20:o.params.verticalZoom<.5?o.params.verticalZoom+=e/16:o.params.verticalZoom<.8?o.params.verticalZoom+=e/12:o.params.verticalZoom<1?o.params.verticalZoom+=e/8:o.params.verticalZoom+=e/4,o.params.verticalZoom<=.1&&(o.params.verticalZoom=.1),(n<1&&1<o.params.verticalZoom||1<n&&o.params.verticalZoom<1)&&(o.params.verticalZoom=1),o.ForceDraw(),o.fireEvent("DidZoom",t)},this.SetZoom=function(e,t,n,a){var r=!1,i=o.drawer.width,s=o.VisibleDuration,i=i*(o.ZoomFactor-t/Math.abs(t))>>0;o.backend.buffer.length/i<1||(e=e||.5,t<0?(o.ZoomFactor!=o.ZoomFactor>>0?o.ZoomFactor=1+(o.ZoomFactor>>0):(o.ZoomFactor,o.ZoomFactor+=1),o.LeftProgress=o.LeftProgress+e*(s/o.ZoomFactor)):1<o.ZoomFactor&&(o.ZoomFactor!=o.ZoomFactor>>0?o.ZoomFactor=o.ZoomFactor>>0:(6<o.ZoomFactor&&(a||(r=!0)),--o.ZoomFactor),1===o.ZoomFactor?o.LeftProgress=0:o.LeftProgress=o.LeftProgress-e*(s/o.ZoomFactor)),o.ForceDraw(),o.fireEvent("DidZoom",n),r&&this.SetZoom(e,t,n,!0))},0);this.drawer.on("wheel",function(e){var t,n;e.preventDefault(),e.stopPropagation(),!o.isReady||0==e.deltaY||(t=e.timeStamp)-a<46||(a=t,t=o.drawer.width,n=o.drawer._bbox,n=(e.clientX-n.left)/t,o.SetZoom(n,e.deltaY,e))}),this.drawer.on("scroll",function(e){o.params.partialRender&&o.drawBuffer(),o.fireEvent("scroll",e)})}},{key:"ZoomifyValue",value:function(e){return(e*this.VisibleDuration+this.LeftProgress)/this.getDuration()}},{key:"UnZoomifyValue",value:function(e){return(e-this.LeftProgress)*this.ZoomFactor}},{key:"UnzoomifyPixelValue",value:function(e){return(e-this.LeftProgress/this.getDuration()*this.drawer.width)*this.ZoomFactor}},{key:"DrawTemp",value:function(e,t){this.backend.extraPeaks=t,this.backend.extraOffset=e,this.drawBuffer(1);var t=this.backend.getPlayedPercents(),e=this.getDuration(),e=this.LeftProgress/e,n=(this.ActiveMarker-e)*this.ZoomFactor,a=1/this.drawer.params.pixelRatio,n=Math.round(n*this.drawer.width)*a;this.drawer.CursorMarker.style.transform="translate("+n+"px,0)",this.drawer.progress(t,e,this.ZoomFactor)}},{key:"ForceDraw",value:function(){this.drawBuffer();var e=this.backend.getPlayedPercents(),t=this.getDuration(),t=this.LeftProgress/t,n=(this.ActiveMarker-t)*this.ZoomFactor,a=1/this.drawer.params.pixelRatio,n=Math.round(n*this.drawer.width)*a;this.drawer.CursorMarker.style.transform="translate("+n+"px,0)",this.drawer.progress(e,t,this.ZoomFactor)}},{key:"getWaveEl",value:function(){return this.drawer.canvases[0].wave}},{key:"createBackend",value:function(){var t=this,c=(this.backend&&this.backend.destroy(),"AudioElement"==this.params.backend&&(this.params.backend="MediaElement"),"WebAudio"!=this.params.backend||this.Backend.prototype.supportsWebAudio.call(null)||(this.params.backend="MediaElement"),this.backend=new this.Backend(this.params),this.backend.init(),this.fireEvent("backend-created",this.backend),this.backend.on("finish",function(){return t.fireEvent("finish")}),this.backend.on("play",function(){return t.fireEvent("play")}),this.backend.on("pause",function(e){return"end"===e&&t.stop(),t.fireEvent("pause")}),this),u=(this.CursorCenter=function(){var e=c.getDuration(),t=c.backend.getPlayedPercents(),n=c.drawer.width*c.ZoomFactor,a=~~(c.drawer.width/2),r=t*n,i=r-a,s=c.LeftProgress/e*n+a>>0,r=(r<s+a&&s+a<n&&50<(t-c.LeftProgress/e)*c.ZoomFactor*100>>0?i-=Math.max(0,i-s+a-4*c.ZoomFactor/2):i=Math.max(0,Math.min(n-2*a,i)),i/n);c.LeftProgress=r*e,c.fireEvent("cursorcenter",r),document.hidden||c.ForceDraw()},0);c.backend.on("audioprocess",function(e,t){var n,a,r,i,s,o,l=c.backend.getPlayedPercents();1<c.ZoomFactor&&c.FollowCursor&&!c.Interacting?50<t-u&&(u=t,n=c.getDuration(),i=(o=l*(a=c.drawer.width*c.ZoomFactor))-(r=~~(c.drawer.width/2)),(s=c.LeftProgress/n*a+r>>0)<=o&&o<=s+r?(o<s+r&&s+r<a&&99<(l-c.LeftProgress/n)*c.ZoomFactor*100>>0?i-=Math.max(0,i-s+r-4*c.ZoomFactor/2):i=Math.max(0,Math.min(a-2*r,i)),c.LeftProgress=(o=i/a)*n,c.fireEvent("cursorcenter",o),document.hidden||c.ForceDraw()):c.drawer.progress(l,c.LeftProgress/c.getDuration(),c.ZoomFactor)):c.drawer.progress(l,c.LeftProgress/c.getDuration(),c.ZoomFactor),c.fireEvent("audioprocess",e,t)})}},{key:"createPeakCache",value:function(){this.params.partialRender&&(this.peakCache=new c.default)}},{key:"getDuration",value:function(){return this.backend.getDuration()}},{key:"getCurrentTime",value:function(){return this.backend.getCurrentTime()}},{key:"setCurrentTime",value:function(e){e>=this.getDuration()?this.seekTo(1):this.seekTo(e/this.getDuration())}},{key:"play",value:function(e,t){var n=this;return this.fireEvent("interaction",function(){return n.play(e,t)}),this.backend.play(e,t)}},{key:"pause",value:function(){if(!this.backend.isPaused())return this.backend.pause()}},{key:"playPause",value:function(){return this.backend.isPaused()?this.play():this.pause()}},{key:"isPlaying",value:function(){return!this.backend.isPaused()}},{key:"skipBackward",value:function(e){this.skip(-e||-this.params.skipLength)}},{key:"skipForward",value:function(e){this.skip(e||this.params.skipLength)}},{key:"skip",value:function(e){var t=this.getDuration()||1,n=this.getCurrentTime()||0,n=Math.max(0,Math.min(t,n+(e||0)));this.seekAndCenter(n/t)}},{key:"seekAndCenter",value:function(e){this.seekTo(e),this.drawer.recenter(e)}},{key:"seekTo",value:function(e,t){var n,a,r,i,s=this,o=(("number"!=typeof e||!isFinite(e)||e<0||1<e)&&(e=0),this.ActiveMarker=e,this.fireEvent("interaction",function(){return s.seekTo(e)}),this.backend.isPaused()),l=(o||this.backend.pause(),this.getDuration());this.VisibleDuration/l+this.LeftProgress/l>e&&e>this.LeftProgress/l?(n=this.LeftProgress/l,a=(e-n)*this.ZoomFactor,r=1/this.drawer.params.pixelRatio,i=Math.round(a*this.drawer.width)*r,this.drawer.CursorMarker.style.transform="translate("+i+"px,0)",this.drawer.progress(e,n,this.ZoomFactor)):(n=this.LeftProgress/l,0==(e-n)*(l/this.VisibleDuration)?this.drawer.CursorMarker.style.transform="translate(1px,0)":(a=(e-n)*this.ZoomFactor,r=1/this.drawer.params.pixelRatio,i=Math.round(a*this.drawer.width)*r,this.drawer.CursorMarker.style.transform="translate("+i+"px,0)"),this.drawer.progress(0)),this.backend.seekTo(e*this.getDuration()),o||this.backend.play(),this.fireEvent("seek",e,t)}},{key:"stop",value:function(){this.pause(),this.seekTo(this.ActiveMarker,window.performance.now()+100),this.drawer.progress(this.ActiveMarker,this.LeftProgress/this.getDuration(),this.ZoomFactor)}},{key:"setSinkId",value:function(e){return this.backend.setSinkId(e)}},{key:"setVolume",value:function(e){this.backend.setVolume(e),this.fireEvent("volume",e)}},{key:"getVolume",value:function(){return this.backend.getVolume()}},{key:"getLoudness",value:function(){return this.backend.getLoudness()}},{key:"setPlaybackRate",value:function(e){this.backend.setPlaybackRate(e)}},{key:"getPlaybackRate",value:function(){return this.backend.getPlaybackRate()}},{key:"toggleMute",value:function(){this.setMute(!this.isMuted)}},{key:"setMute",value:function(e){e===this.isMuted||(e?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0,this.fireEvent("volume",0)):(this.backend.setVolume(this.savedVolume),this.isMuted=!1,this.fireEvent("volume",this.savedVolume))),this.fireEvent("mute",this.isMuted)}},{key:"getMute",value:function(){return this.isMuted}},{key:"isReady",value:function(){return this.isReady}},{key:"getFilters",value:function(){return this.backend.filters||[]}},{key:"toggleScroll",value:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()}},{key:"toggleInteraction",value:function(){this.params.interact=!this.params.interact}},{key:"getWaveColor",value:function(){return this.params.waveColor}},{key:"setWaveColor",value:function(e){this.params.waveColor=e,this.drawBuffer()}},{key:"getProgressColor",value:function(){return this.params.progressColor}},{key:"setProgressColor",value:function(e){this.params.progressColor=e,this.drawBuffer()}},{key:"setCursorColor",value:function(e){this.params.cursorColor=e}},{key:"getHeight",value:function(){return this.params.height}},{key:"setHeight",value:function(e){this.params.height=e,this.drawer.setHeight(e*this.params.pixelRatio),this.isReady&&this.drawBuffer()}},{key:"drawBuffer",value:function(e){1===this.ZoomFactor?this.VisibleDuration=this.getDuration():this.VisibleDuration=this.getDuration()/this.ZoomFactor;var t,n=this.drawer.getWidth(),a=this.LeftProgress,r=n*this.ZoomFactor>>0,a=this.backend.getPeaks(n,a,r,e);this.drawer.drawPeaks(a,n,0,r,a.length,this.backend.shift),0<=this.backend.extraPeakStart&&(t=this,requestAnimationFrame(function(){t.drawer.canvases[0].waveCtx.fillStyle="rgba(255,60,40,0.2)",t.drawer.canvases[0].waveCtx.fillRect(t.backend.extraPeakStart,0,t.backend.extraPeakEnd-t.backend.extraPeakStart,t.drawer.canvases[0].wave.height)})),this.fireEvent("redraw",a,n)}},{key:"zoom",value:function(e){}},{key:"loadArrayBuffer",value:function(e){var t=this;this.decodeArrayBuffer(e,function(e){t.isDestroyed||t.loadDecodedBuffer(e)})}},{key:"loadDecodedBuffer",value:function(e){this.backend.splitPeaks=[],this.backend.mergedPeaks=[],this.createPeakCache(),this.backend.load(e),this.drawBuffer(1),this.fireEvent("ready"),this.isReady=!0}},{key:"loadBlob",value:function(e){var t=this,n=new FileReader;n.addEventListener("progress",function(e){return t.onProgress(e)}),n.addEventListener("load",function(e){return t.loadArrayBuffer(e.target.result)}),n.addEventListener("error",function(){return t.fireEvent("error","Error reading file")}),n.readAsArrayBuffer(e),this.empty()}},{key:"load",value:function(e,t,n,a){var r,i;switch(this.empty(),n&&(r={"Preload is not 'auto', 'none' or 'metadata'":-1===["auto","metadata","none"].indexOf(n),"Peaks are not provided":!t,"Backend is not of type MediaElement":"MediaElement"!==this.params.backend,"Url is not of type string":"string"!=typeof e},(i=Object.keys(r).filter(function(e){return r[e]})).length)&&(console.warn("Preload parameter of wavesurfer.load will be ignored because:\n\t- "+i.join("\n\t- ")),n=null),this.params.backend){case"WebAudio":return this.loadBuffer(e,t,a);case"MediaElement":return this.loadMediaElement(e,t,n,a)}}},{key:"loadBuffer",value:function(t,e,n){function a(e){return e&&r.tmpEvents.push(r.once("ready",e)),r.getArrayBuffer(t,function(e){return r.loadArrayBuffer(e)})}var r=this;if(!e)return a();this.backend.setPeaks(e,n),this.drawBuffer(1),this.tmpEvents.push(this.once("interaction",a))}},{key:"loadMediaElement",value:function(e,t,n,a){var r=this,i=e;"string"==typeof e?this.backend.load(i,this.mediaContainer,t,n):(this.backend.loadElt(n=e,t),i=n.src),this.tmpEvents.push(this.backend.once("canplay",function(){r.drawBuffer(1),r.fireEvent("ready"),r.isReady=!0}),this.backend.once("error",function(e){return r.fireEvent("error",e)})),t&&this.backend.setPeaks(t,a),t&&!this.params.forceDecode||!this.backend.supportsWebAudio()||this.getArrayBuffer(i,function(e){r.decodeArrayBuffer(e,function(e){r.backend.buffer=e,r.backend.setPeaks(null),r.drawBuffer(1),r.fireEvent("waveform-ready")})})}},{key:"decodeArrayBuffer",value:function(n,a){var r=this,i="q"+(999999*Math.random()>>0),s=(this.bid[i]=1,this.bid.curr=i,this.getDuration());this.backend.decodeArrayBuffer(n,function(e){var t;r.isDestroyed||r.bid[i]&&(t=!1,r.backend.buffer&&r.backend._add&&(t=!0),a(e),r.arraybuffer=n,t)&&setTimeout(function(){r.regions.add({start:s,end:r.getDuration()-.01,id:"t"})},48)},function(){return r.fireEvent("error","Error decoding audiobuffer. Did you make sure to supply a valid audio file? ")})}},{key:"getArrayBuffer",value:function(e,n){var a=this,e=i.ajax({url:e,responseType:"arraybuffer",xhr:this.params.xhr});return this.currentAjax=e,this.tmpEvents.push(e.on("progress",function(e){a.onProgress(e)}),e.on("success",function(e,t){n(e),a.currentAjax=null}),e.on("error",function(e){a.fireEvent("error","Could not load remote URL. Make sure the url exists, is a valid audio file,<br />  or that is supports Cross Origin requests (Access-Control-Allow-Origin header) <br />"+e.target.statusText),a.currentAjax=null,PKAudioEditor.fireEvent("RequestResize")})),e}},{key:"onProgress",value:function(e){var t=void 0,t=e.lengthComputable?e.loaded/e.total:e.loaded/(e.loaded+1e6);this.fireEvent("loading",Math.round(100*t),e.target)}},{key:"exportPCM",value:function(e,t,n,a){t=t||1e4,n=n||!1;e=this.backend.getPeaks(e=e||1024,a=a||0),a=[].map.call(e,function(e){return Math.round(e*t)/t}),e=JSON.stringify(a);return n||window.open("data:application/json;charset=utf-8,"+encodeURIComponent(e)),e}},{key:"exportImage",value:function(e,t){return this.drawer.getImage(e=e||"image/png",t=t||1)}},{key:"cancelBufferLoad",value:function(){return!(!this.bid||!this.bid.curr||(this.bid[this.bid.curr]=null))}},{key:"cancelAjax",value:function(){return!(!this.currentAjax||(this.currentAjax.xhr.abort(),this.currentAjax=null))}},{key:"clearTmpEvents",value:function(){this.tmpEvents.forEach(function(e){return e.un()})}},{key:"empty",value:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0,2)}},{key:"destroy",value:function(){this.destroyAllPlugins(),this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),!1!==this.params.responsive&&(window.removeEventListener("resize",this._onResize,!0),window.removeEventListener("orientationchange",this._onResize,!0)),this.backend.destroy(),this.drawer.destroy(),this.isDestroyed=!0,this.arraybuffer=null}}]),a})(i.Observer);n.util=i,t.default=n,Array.prototype.copyWithin||(Array.prototype.copyWithin=function(e,t){if(null==this)throw new TypeError("this is null or not defined");var n=Object(this),a=n.length>>>0,e=e>>0,r=e<0?Math.max(a+e,0):Math.min(e,a),e=t>>0,i=e<0?Math.max(a+e,0):Math.min(e,a),t=arguments[2],e=void 0===t?a:t>>0,t=e<0?Math.max(a+e,0):Math.min(e,a),s=Math.min(t-i,a-r),o=1;for(i<r&&r<i+s&&(o=-1,i+=s-1,r+=s-1);0<s;)i in n?n[r]=n[i]:delete n[r],i+=o,r+=o,s--;return n}),e.exports=t.default},"./src/webaudio.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n=(e=>{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(n("./src/util/index.js"));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var f="playing",s="paused",d="finished",o=-1<navigator.userAgent.toLowerCase().indexOf("safari/"),n=(e=>{var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function a(e){var t,n;if(this instanceof a)return(n=((e,t)=>{if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")})(this,(a.__proto__||Object.getPrototypeOf(a)).call(this))).audioContext=null,n.offlineAudioContext=null,n.stateBehaviors=(i(t={},f,{init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}}),i(t,s,{init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition}}),i(t,d,{init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}}),t),n.params=e,n.ac=e.audioContext||n.getAudioContext(),n.lastPlay=n.ac.currentTime,n.startPosition=0,n.scheduledPause=null,n.states=(i(t={},f,Object.create(n.stateBehaviors[f])),i(t,s,Object.create(n.stateBehaviors[s])),i(t,d,Object.create(n.stateBehaviors[d])),t),n.analyser=null,n.buffer=null,n.filters=[],n.gainNode1=null,n.gainNode2=null,n.splitterNode=null,n.mergedPeaks=null,n.offlineAc=null,n.peaks=null,n.playbackRate=1,n.analyser=null,n.scriptNode=null,n.source=null,n.splitPeaks=[],n.state=null,n.explicitDuration=null,n.FreqArr=new Uint8Array(512),n;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(a,[{key:"supportsWebAudio",value:function(){return!(!window.AudioContext&&!window.webkitAudioContext)}},{key:"getAudioContext",value:function(){return window.WaveSurferAudioContext||(window.WaveSurferAudioContext=new(window.AudioContext||window.webkitAudioContext)),window.WaveSurferAudioContext}},{key:"getOfflineAudioContext",value:function(e){return window.WaveSurferOfflineAudioContext||(window.WaveSurferOfflineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,e)),window.WaveSurferOfflineAudioContext}}]),r(a,[{key:"init",value:function(){this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(s),this.setPlaybackRate(this.params.audioRate),this.setLength(0)}},{key:"disconnectFilters",value:function(){this.filters&&(this.filters.forEach(function(e){e&&e.disconnect()}),this.filters=null,this.analyser.connect(this.mergerNode))}},{key:"setState",value:function(e){this.state!==this.states[e]&&(this.state=this.states[e],this.state.init.call(this))}},{key:"setFilter",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.setFilters(t)}},{key:"setFilters",value:function(e){this.disconnectFilters(),e&&e.length&&(this.filters=e,this.analyser.disconnect(),e.reduce(function(e,t){return e.connect(t),t},this.analyser).connect(this.gainNode1))}},{key:"createScriptNode",value:function(){this.ac.createScriptProcessor?this.scriptNode=this.ac.createScriptProcessor(a.scriptBufferSize):this.scriptNode=this.ac.createJavaScriptNode(a.scriptBufferSize),this.scriptNode.connect(this.ac.destination)}},{key:"addOnAudioProcess",value:function(){var u=this;this.scriptNode.onaudioprocess=function(e){if(u.states[f]){for(var t=u.getCurrentTime(),n=u.buffer,a=t*n.sampleRate>>0,r=[0,0],i=0,s=0;s<n.numberOfChannels;++s){for(var i=0,o=n.getChannelData(s),l=0;l<512;l+=4){var c=Math.abs(o[a+l]);i<c&&(i=c)}r[s]=20*Math.log10(i)+.001}u.peak_frequency=r,u.logFrequencies&&u.analyser.getByteFrequencyData(u.FreqArr),t>=u.getDuration()?(u.setState(d),u.states[f]=null,u.fireEvent("pause","end")):t>=u.scheduledPause?u.pause():u.state===u.states[f]&&u.fireEvent("audioprocess",t,e.timeStamp),u.peak_frequency=null}}}},{key:"removeOnAudioProcess",value:function(){o||(this.scriptNode.onaudioprocess=null)}},{key:"createAnalyserNode",value:function(){this.analyser=this.ac.createAnalyser(),this.analyser.fftSize=1024,this.analyser.connect(this.splitterNode)}},{key:"SetNumberOfChannels",value:function(e){this.splitterNode.disconnect(0),this.splitterNode.disconnect(1),1===e?(this.splitterNode.connect(this.gainNode1,0),this.splitterNode.connect(this.gainNode2,0)):2===e&&(this.splitterNode.connect(this.gainNode1,1),this.splitterNode.connect(this.gainNode2,0))}},{key:"createVolumeNode",value:function(){this.splitterNode=this.ac.createChannelSplitter(2),this.mergerNode=this.ac.createChannelMerger(2),this.ac.createGain?(this.gainNode1=this.ac.createGain(),this.gainNode2=this.ac.createGain()):(this.gainNode1=this.ac.createGainNode(),this.gainNode2=this.ac.createGainNode()),this.splitterNode.connect(this.gainNode1,1),this.splitterNode.connect(this.gainNode2,0),this.gainNode1.connect(this.mergerNode,0,1),this.gainNode2.connect(this.mergerNode,0,0),this.mergerNode.connect(this.ac.destination)}},{key:"setSinkId",value:function(e){if(e){var t=new window.Audio;if(!t.setSinkId)return Promise.reject(new Error("setSinkId is not supported in your browser"));t.autoplay=!0;var n=this.ac.createMediaStreamDestination();return this.gainNode1.disconnect(),this.gainNode1.connect(n),this.gainNode2.disconnect(),this.gainNode2.connect(n),this.mergerNode.disconnect(),this.mergerNode.connect(n),this.splitterNode.disconnect(),this.splitterNode.connect(n),t.src=URL.createObjectURL(n.stream),t.setSinkId(e)}return Promise.reject(new Error("Invalid deviceId: "+e))}},{key:"setVolume",value:function(e){this.gainNode1.gain.setValueAtTime(e,this.ac.currentTime),this.gainNode2.gain.setValueAtTime(e,this.ac.currentTime)}},{key:"getVolume",value:function(){return this.gainNode1.gain.value}},{key:"getLoudness",value:function(){return this.peak_frequency}},{key:"decodeArrayBuffer",value:function(e,t,n){PKAudioEditor.engine.ID3(e),this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(44100));e=this.offlineAc.decodeAudioData(e,function(e){return t(e)},n);e&&e.catch(function(e){console.log("couldn't load audio")})}},{key:"setPeaks",value:function(e,t){this.explicitDuration=t,this.peaks=e}},{key:"setLength",value:function(e){if(!this.mergedPeaks||2*e!=this.mergedPeaks.length){this.splitPeaks=[],this.mergedPeaks=[];for(var t=this.buffer?this.buffer.numberOfChannels:1,n=void 0,n=0;n<t;n++)this.splitPeaks[n]=[],this.splitPeaks[n][2*(e-1)]=0,this.splitPeaks[n][2*(e-1)+1]=0;this.mergedPeaks[2*(e-1)]=0,this.mergedPeaks[2*(e-1)+1]=0}}},{key:"getSpectre",value:function(e,t,n,a,r){this.buffer.sampleRate;for(var i=this.buffer,s=i.getChannelData(0),o=i.length,i=i.sampleRate,l=[],c=new FFT(512,i,this.windowFunc,this.alpha),u=(Math.floor(o/512),0),f=s.length;u+512<f;){for(var d=s.slice(u,u+512),p=c.calculateSpectrum(d),_=new Uint8Array(256),m=void 0,m=0;m<256;m++)_[m]=Math.max(-255,45*Math.log10(p[m]));l.push(_),u+=512}return l}},{key:"getPeaks",value:function(e,t,n,a){t*=this.buffer.sampleRate,n=n||e-1,this.setLength(e),this.buffer.length||(r=this.createBuffer(1,4096,this.sampleRate),this.buffer=r.buffer);var r,i=this.buffer.length/n,s=~~(i/10)||1,o=(32<s?s=32:s<6&&(s=6),this.buffer.numberOfChannels),l=void 0,c=0;if(this.shift=0,this.splitPeaks&&!a&&n==this.peaksEnd){var u=(this.peaksStart-t)/i;if(0==u)return this.shift=999999999,this.splitPeaks;for(u=Math.round(u),t=this.peaksStart-u*i,this.shift=u*=2,l=0;l<o;++l){var f=this.splitPeaks[l];if(u<0)f.copyWithin(0,-u),c=e+u;else{if(!(0<u))return this.splitPeaks;f.copyWithin(u,0,f.length-u),e=u/2>>0}}}for(l=0;l<o;++l){var f=this.splitPeaks[l],d=this.buffer.getChannelData(l),p=void 0;for(p=c;p<=e;++p){var _=(w=t+p*i>>0)+i>>0,m=0,h=0,b=void 0;for(b=w;b<_;b+=s)h<(E=d[b])?h=E:E<m&&(m=E);f[2*p]=h,f[2*p+1]=m}}if(this.extraPeakStart=-1,this.extraPeakEnd=-1,this.extraPeaks){var v=this.extraOffset/i>>0;if(t<=this.extraOffset&&v<n){var v=(this.extraOffset-t)/i>>0,g=this.extraPeaks.length,k=this.extraPeaks[0].length,A=v+k*g/i>>0;for(this.extraPeakStart=v,this.extraPeakEnd=A,l=0;l<o;++l){var f=this.splitPeaks[l],p=void 0,y=0;for(p=v;p<=A;++p){var w,_=(w=y*i>>0)+i>>0,m=0,h=0,b=void 0;for(++y,b=w;b<_;b+=s){var E,R=b/k;if(g<=R)break;h<(E=this.extraPeaks[R>>0][b%k])&&(h=E),E<m&&(m=E)}f[2*p]=h,f[2*p+1]=m}}}}return this.peaksStart=t,this.peaksEnd=n,this.splitPeaks}},{key:"getPlayedPercents",value:function(){return this.state.getPlayedPercents.call(this)}},{key:"disconnectSource",value:function(){this.source&&this.source.disconnect()}},{key:"destroy",value:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.disconnectFilters(),this.disconnectSource(),this.gainNode1.disconnect(),this.gainNode2.disconnect(),this.mergerNode.disconnect(),this.splitterNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.closeAudioContext&&("function"==typeof this.ac.close&&"closed"!=this.ac.state&&this.ac.close(),this.ac=null,this.params.audioContext?this.params.audioContext=null:window.WaveSurferAudioContext=null,window.WaveSurferOfflineAudioContext=null)}},{key:"load",value:function(e){if(this.buffer&&this._add){for(var t=this.buffer,n=this.buffer.duration,a=(e.duration,this.buffer.sampleRate,this.ac.createBuffer(this.buffer.numberOfChannels,this.buffer.length+e.length,this.buffer.sampleRate)),r=+n*t.sampleRate>>0,i=0;i<t.numberOfChannels;++i){var s=t.getChannelData(i),o=a.getChannelData(i),l=null,l=1===e.numberOfChannels?e.getChannelData(0):e.getChannelData(i);0<r&&o.set(s.slice(0,r)),o.set(l,r),r<t.length+e.length&&o.set(s.slice(r),r+l.length)}this.lastPlay=this.ac.currentTime,this.buffer=a}else this.lastPlay=this.ac.currentTime,this.buffer=e;this.peaks=null,this.createSource(),this.source.start(0,0,0),this.source.stop(0),this.createSource()}},{key:"createSource",value:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.source.playbackRate.setValueAtTime(this.playbackRate,this.ac.currentTime),this.source.buffer=this.buffer,this.source.connect(this.analyser)}},{key:"isPaused",value:function(){return this.state!==this.states[f]}},{key:"getDuration",value:function(){return this.buffer?this.buffer.duration:this.explicitDuration||0}},{key:"seekTo",value:function(e,t){if(this.buffer)return(this.scheduledPause=null)==e&&(e=this.getCurrentTime())>=this.getDuration()&&(e=0),null==t&&(t=this.getDuration()),this.startPosition=e,this.lastPlay=this.ac.currentTime,this.state===this.states[d]&&this.setState(s),{start:e,end:t}}},{key:"getPlayedTime",value:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate}},{key:"play",value:function(e,t){var n;this.buffer&&(this.createSource(),e=(n=this.seekTo(e,t)).start,this.scheduledPause=t=n.end,this.source.start(0,e,t-e),"suspended"==this.ac.state&&this.ac.resume&&this.ac.resume(),this.states[f]||i(this.states,f,Object.create(this.stateBehaviors[f])),this.setState(f),this.fireEvent("play"))}},{key:"pause",value:function(){this.state!==this.states[s]&&(this.scheduledPause=null,this.startPosition+=this.getPlayedTime(),this.source&&this.source.stop(0),this.setState(s),this.fireEvent("pause"))}},{key:"getCurrentTime",value:function(){return this.state.getCurrentTime.call(this)}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"setPlaybackRate",value:function(e){e=e||1,this.isPaused()?this.playbackRate=e:(this.pause(),this.playbackRate=e,this.play())}}]),a})(n.Observer);n.scriptBufferSize=256,t.default=n,e.exports=t.default}},a={},r.m=n,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/wavesurfer.js");function r(e){var t;return(a[e]||(t=a[e]={i:e,l:!1,exports:{}},n[e].call(t.exports,t,t.exports,r),t.l=!0,t)).exports}var n,a}),((e,t)=>{"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("regions",[],t):"object"==typeof exports?exports.regions=t():(e.WaveSurfer=e.WaveSurfer||{},e.WaveSurfer.regions=t())})(window,function(){return n={"./src/plugin/regions.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a(o,[{key:"update",value:function(e){null!=e.start&&(this.start=Number(e.start)),null!=e.end&&(this.end=Number(e.end)),null!=e.loop&&(this.loop=Boolean(e.loop)),null!=e.color&&(this.color=e.color),null!=e.data&&(this.data=e.data),null!=e.resize&&(this.resize=Boolean(e.resize)),null!=e.drag&&(this.drag=Boolean(e.drag)),null!=e.maxLength&&(this.maxLength=Number(e.maxLength)),null!=e.minLength&&(this.minLength=Number(e.minLength)),null!=e.attributes&&(this.attributes=e.attributes),this.updateRender(),this.fireEvent("update"),this.wavesurfer.fireEvent("region-updated",this)}},{key:"remove",value:function(){this.element&&(this.wrapper.removeChild(this.element),this.element=null,this.fireEvent("remove"),this.wavesurfer.un("zoom",this._onRedraw),this.wavesurfer.un("redraw",this._onRedraw),this.wavesurfer.fireEvent("region-removed",this))}},{key:"play",value:function(){this.wavesurfer.play(this.start,this.end),this.fireEvent("play"),this.wavesurfer.fireEvent("region-play",this)}},{key:"playLoop",value:function(){var e=this;this.play(),this.once("out",function(){return e.playLoop()})}},{key:"render",value:function(){var e,t=document.createElement("region");for(e in t.className="wavesurfer-region",t.title=this.formatTime(this.start,this.end),t.setAttribute("data-id",this.id),this.attributes)t.setAttribute("data-region-"+e,this.attributes[e]);var n,a;this.wrapper.scrollWidth;this.style(t,{position:"absolute",zIndex:2,height:"100%",top:"0px"}),this.resize&&(a=t.appendChild(document.createElement("handle")),n=t.appendChild(document.createElement("handle")),a.className="wavesurfer-handle wavesurfer-handle-start",n.className="wavesurfer-handle wavesurfer-handle-end",this.style(a,a={cursor:"col-resize",position:"absolute",left:"0px",top:"0px",width:"1%",maxWidth:"4px",height:"100%"}),this.style(n,a),this.style(n,{left:"100%"})),this.element=this.wrapper.appendChild(t),this.updateRender(),this.bindEvents(t)}},{key:"formatTime",value:function(e,t){return(e==t?[e]:[e,t]).map(function(e){return[Math.floor(e%3600/60),("00"+Math.floor(e%60)).slice(-2)].join(":")}).join("-")}},{key:"getWidth",value:function(){return this.wavesurfer.drawer.width/this.wavesurfer.params.pixelRatio}},{key:"updateRender",value:function(){var e=this.wavesurfer.getDuration(),t=this.getWidth();if(this.start<0&&(this.start=0,this.end=this.end-this.start),this.end>e&&(this.end=e,this.start=e-(this.end-this.start)),null!=this.minLength&&(this.end=Math.max(this.start+this.minLength,this.end)),null!=this.maxLength&&(this.end=Math.min(this.start+this.maxLength,this.end)),null!=this.element){var n,a=this.start/e*t,e=this.end/e*t-a;for(n in this.style(this.element,{left:this.wavesurfer.UnzoomifyPixelValue(a)+"px",width:e*this.wavesurfer.ZoomFactor+"px",cursor:this.drag?"move":"default"}),this.attributes)this.element.setAttribute("data-region-"+n,this.attributes[n]);this.element.title=this.formatTime(this.start,this.end)}}},{key:"bindInOut",value:function(){function e(e){!t.firedOut&&t.firedIn&&(t.start>=Math.round(1e3*e)/1e3||t.end<=e+.0028)&&(t.firedOut=!0,t.firedIn=!1,t.fireEvent("out"),t.wavesurfer.fireEvent("region-out",t)),!t.firedIn&&t.start<=e&&t.end>e&&(t.firedIn=!0,t.firedOut=!1,t.fireEvent("in"),t.wavesurfer.fireEvent("region-in",t))}var t=this;this.firedIn=!1,this.firedOut=!1;this.wavesurfer.backend.on("audioprocess",e),this.on("remove",function(){t.wavesurfer.backend.un("audioprocess",e)}),this.on("out",function(){t.loop?t.wavesurfer.play(t.start):(t.wavesurfer.seekTo(t.start/t.wavesurfer.getDuration()),t.wavesurfer.stop())})}},{key:"bindEvents",value:function(){var i,s,o,l,c,u,f,d,p,_,m=this;function h(e,t){var n,a,r;p&&(u||f)&&(r=s,n=m.wavesurfer.drawer.wrapper.getBoundingClientRect(),-1===t?0<(a=Math.abs(n.left-e.clientX)-10)&&(r*=a/2):1===t&&0<(a=Math.abs(e.clientX-n.right)-10)&&(r*=a/2),n=r*p/m.wavesurfer.getDuration(),m.wavesurfer.LeftProgress+=n,m.wavesurfer.LeftProgress<0?m.wavesurfer.LeftProgress=0:m.wavesurfer.LeftProgress+m.wavesurfer.VisibleDuration>m.wavesurfer.getDuration()&&(m.wavesurfer.LeftProgress=m.wavesurfer.getDuration()-m.wavesurfer.VisibleDuration),m.wavesurfer.ForceDraw(),r=(a=m.wavesurfer.ZoomifyValue(m.wavesurfer.drawer.handleEvent(e))*i)-l,l=a,u?m.onDrag(r):m.onResize(r,f),m.wavesurfer.fireEvent("DidZoom"),window.requestAnimationFrame(function(){h(e,t)}))}function e(e){var t;e.touches&&1<e.touches.length||3!==e.which&&(c=e.targetTouches?e.targetTouches[0].identifier:null,m.wavesurfer.Interacting|=1,e.stopPropagation(),t=new Event("killCTX",{bubbles:!0}),document.body.dispatchEvent(t),l=m.wavesurfer.ZoomifyValue(m.wavesurfer.drawer.handleEvent(e,!0))*i,m.wrapper.scrollWidth,m.wrapper.clientWidth,_=m.wrapper.getBoundingClientRect(),"handle"==e.target.tagName.toLowerCase()?e.target.classList.contains("wavesurfer-handle-start")?f="start":e.target.classList.contains("wavesurfer-handle-end")&&(f="end"):PKAudioEditor.ui.KeyHandler.keyMap[16]?2===m.direction?(f="end",m.update({start:m.start,end:l})):(f="start",m.update({start:l,end:m.end})):f=!(u=!0))}function t(e){e.touches&&1<e.touches.length||3!==e.which&&(m.wavesurfer.Interacting&=-2,(u||f)&&(p=null,f=u=!1),d)&&(d=!1,m.util.preventClick(),m.fireEvent("update-end",e),m.wavesurfer.fireEvent("region-update-end",m,e))}function n(e){var t,n,a,r;e.touches&&1<e.touches.length||3===e.which||e.targetTouches&&e.targetTouches[0].identifier!=c||(u||f)&&(r=l,n=(t=m.wavesurfer.ZoomifyValue(m.wavesurfer.drawer.handleEvent(e))*i)-l,l=t,m.drag&&u&&(d=d||!!n,m.onDrag(n)),m.resize&&f&&(d=d||!!n,f=m.onResize(n,f)),1<m.wavesurfer.ZoomFactor)&&(u?(a=(n=m.element.getBoundingClientRect()).left-_.left,t<r&&0<=a?p=-1:r<t&&a+n.width<=_.right&&(p=1),(-1===p&&o<a||1===p&&a+n.width<_.right-o)&&(p=null)):(r=e.clientX-_.left,p=r<=o?-1:r>=_.right-_.left-o?1:null),p)&&h(e,p)}this.element.addEventListener("mouseenter",function(e){m.fireEvent("mouseenter",e),m.wavesurfer.fireEvent("region-mouseenter",m,e)}),this.element.addEventListener("mouseleave",function(e){m.fireEvent("mouseleave",e),m.wavesurfer.fireEvent("region-mouseleave",m,e)}),this.element.addEventListener("click",function(e){e.preventDefault(),m.fireEvent("click",e),m.wavesurfer.fireEvent("region-click",m,e)}),this.element.addEventListener("dblclick",function(e){e.stopPropagation(),e.preventDefault(),m.fireEvent("dblclick",e),m.wavesurfer.fireEvent("region-dblclick",m,e)}),(this.drag||this.resize)&&(m.wavesurfer.drawer.container,i=m.wavesurfer.getDuration(),s=m.scrollSpeed,o=m.scrollThreshold,d=!1,_=p=f=u=c=l=void 0,m.element.addEventListener("mousedown",e),m.element.addEventListener("touchstart",e),m.wrapper.addEventListener("mousemove",n),m.wrapper.addEventListener("touchmove",n),document.body.addEventListener("mouseup",t),document.body.addEventListener("touchend",t),m.on("remove",function(){document.body.removeEventListener("mouseup",t),document.body.removeEventListener("touchend",t),m.wrapper.removeEventListener("mousemove",n),m.wrapper.removeEventListener("touchmove",n),document.body.removeEventListener("pointerup",t),m.wrapper.removeEventListener("pointermove",n)}),m.wavesurfer.on("destroy",function(){document.body.removeEventListener("pointerup",t),document.body.removeEventListener("mouseup",t),document.body.removeEventListener("touchend",t)}))}},{key:"onDrag",value:function(e){var t=this.wavesurfer.getDuration();this.end+e>t||this.start+e<0||this.update({start:this.start+e,end:this.end+e})}},{key:"onResize",value:function(e,t){return"start"==t?this.start+e>this.end?(t="end",this.update({start:this.end,end:this.start+e})):this.update({start:Math.min(this.start+e,this.end),end:Math.max(this.start+e,this.end)}):this.start>this.end+e?(t="start",this.update({start:this.start+e,end:this.start})):this.update({start:Math.min(this.end+e,this.start),end:Math.max(this.end+e,this.start)}),t}}]);var s=o;function o(e,t){var n=this;i(this,o),this.wavesurfer=t,this.wrapper=t.drawer.wrapper,this.util=t.util,this.style=this.util.style,this.id=null==e.id?t.util.getId():e.id,this.start=Number(e.start)||0,this.end=null==e.end?this.start+4/this.wrapper.scrollWidth*this.wavesurfer.getDuration():Number(e.end),this.resize=void 0===e.resize||Boolean(e.resize),this.drag=void 0===e.drag||Boolean(e.drag),this.loop=Boolean(e.loop),this.color=e.color||"rgba(30, 30, 162, 0.51)",this.data=e.data||{},this.attributes=e.attributes||{},this.direction=e.direction||2,this.maxLength=e.maxLength,this.minLength=e.minLength,this._onRedraw=function(){return n.updateRender()},this.scroll=!1!==e.scroll&&t.params.scrollParent,this.scrollSpeed=e.scrollSpeed||1,this.scrollThreshold=e.scrollThreshold||28,this.bindInOut(),this.render(),this.wavesurfer.on("zoom",this._onRedraw),this.wavesurfer.on("redraw",this._onRedraw),this.wavesurfer.fireEvent("region-created",this)}a(l,null,[{key:"create",value:function(e){return{name:"regions",deferInit:!(!e||!e.deferInit)&&e.deferInit,params:e,staticProps:{initRegions:function(){console.warn('Deprecated initRegions! Use wavesurfer.initPlugins("regions") instead!'),this.initPlugin("regions")},addRegion:function(e){return this.initialisedPluginList.regions||this.initPlugin("regions"),this.regions.add(e)},clearRegions:function(){this.regions&&this.regions.clear()},enableDragSelection:function(e){this.initialisedPluginList.regions||this.initPlugin("regions"),this.regions.enableDragSelection(e)},disableDragSelection:function(){this.regions.disableDragSelection()}},instance:l}}}]),a(l,[{key:"init",value:function(){this.wavesurfer.isReady&&this._onReady(),this.wavesurfer.on("ready",this._onReady)}},{key:"destroy",value:function(){this.wavesurfer.un("ready",this._onReady),this.disableDragSelection(),this.clear()}},{key:"add",value:function(e){var t=this,n=(this.list[0]&&this.clear(),new this.wavesurfer.Region(e,this.wavesurfer));return(this.list[0]=n).on("remove",function(){delete t.list[0]}),"t"===e.id&&this.wavesurfer.fireEvent("region-update-end",n,null),n}},{key:"clear",value:function(){var t=this;Object.keys(this.list).forEach(function(e){t.list[e].remove()})}},{key:"enableDragSelection",value:function(n){function e(e){var t,n,a,r;h=null,e.touches&&(e.preventDefault(),1<e.touches.length)||(3===e.which?h={x:e.pageX,y:e.pageY}:(s.wavesurfer.Interacting|=1,l=s.wavesurfer.getDuration(),f=e.targetTouches?e.targetTouches[0].identifier:null,s.wrapper.scrollWidth,s.wrapper.clientWidth,_=s.wrapper.getBoundingClientRect(),i=!0,c=s.wavesurfer.ZoomifyValue(s.wavesurfer.drawer.handleEvent(e,!0)),p=u=null,document.body.addEventListener("mousemove",b),document.body.addEventListener("touchmove",b),PKAudioEditor.ui.KeyHandler.keyMap[16]&&(r=s.wavesurfer.ActiveMarker,e.stopPropagation(),e.preventDefault(),u=s.wavesurfer.regions.list[0],t=2,n=s.wavesurfer.getDuration(),e=s.wavesurfer.drawer.handleEvent(e),(e=s.wavesurfer.ZoomifyValue(e))<r&&(e=u&&u.start?(r=e,u.end/n):(a=r,r=e,a),t=1),u?(u.update({start:r*n,end:e*n}),u.direction=t,c=1===t?e:r):(s.wavesurfer.regions.add({start:r*n,end:e*n,id:"t",direction:t}),(u=s.wavesurfer.regions.list[0]).direction=t,c=1===t?e:r,setTimeout(function(){PKAudioEditor.fireEvent("RequestSeekTo",r)},20)))))}function t(e){var t;e.touches&&1<e.touches.length||(3===e.which?h&&(Math.abs(h.x-e.pageX)<3&&Math.abs(h.y-e.pageY)<7&&((t=document.createEvent("Event")).initEvent("pk_ctxmn",!0,!0),t.pageX=e.pageX,t.pageY=e.pageY,e.target.dispatchEvent(t)),h=null):(s.wavesurfer.Interacting&=-2,i&&(document.body.removeEventListener("mousemove",b),document.body.removeEventListener("touchmove",b)),i=!1,d=0,p=null,u&&(s.util.preventClick(),u.fireEvent("update-end",e),s.wavesurfer.fireEvent("region-update-end",u,e)),u=null))}var s=this,a=n.slop||2,o=(this.wavesurfer.drawer.container,!1!==n.scroll&&this.wavesurfer.params.scrollParent,n.scrollSpeed||1),r=n.scrollThreshold||28,i=void 0,l=this.wavesurfer.getDuration(),c=void 0,u=void 0,f=void 0,d=0,p=void 0,_=void 0,m=function e(t,n){var a,r,i;u&&p&&(a=o,r=s.wavesurfer.drawer.wrapper.getBoundingClientRect(),-1===n?0<(i=Math.abs(r.left-t.clientX)-10)&&(a*=i/2):1===n&&0<(i=Math.abs(t.clientX-r.right)-10)&&(a*=i/2),r=a*p/s.wavesurfer.getDuration(),s.wavesurfer.LeftProgress+=r,s.wavesurfer.LeftProgress<0?s.wavesurfer.LeftProgress=0:s.wavesurfer.LeftProgress+s.wavesurfer.VisibleDuration>s.wavesurfer.getDuration()&&(s.wavesurfer.LeftProgress=s.wavesurfer.getDuration()-s.wavesurfer.VisibleDuration),s.wavesurfer.ForceDraw(),i=s.wavesurfer.ZoomifyValue(s.wavesurfer.drawer.handleEvent(t)),u.update({start:Math.min(i*l,c*l),end:Math.max(i*l,c*l)}),s.wavesurfer.fireEvent("DidZoom"),0<Math.abs(r))&&window.requestAnimationFrame(function(){e(t,n)})},h=null,b=(this.wrapper.addEventListener("mousedown",e),this.wrapper.addEventListener("touchstart",e),this.on("disable-drag-selection",function(){s.wrapper.removeEventListener("touchstart",e),s.wrapper.removeEventListener("mousedown",e),s.wrapper.removeEventListener("pointerdown",e)}),this.wrapper.addEventListener("mouseup",t),this.wrapper.addEventListener("touchend",t),document.body.addEventListener("mouseup",t),document.body.addEventListener("touchend",t),this.on("disable-drag-selection",function(){document.body.removeEventListener("mouseup",t),document.body.removeEventListener("touchend",t),s.wrapper.removeEventListener("touchend",t),s.wrapper.removeEventListener("mouseup",t)}),function(e){var t;!i||3===e.which||++d<=a||e.touches&&1<e.touches.length||e.targetTouches&&e.targetTouches[0].identifier!=f||(u=u||s.add(n||{}),t=s.wavesurfer.ZoomifyValue(s.wavesurfer.drawer.handleEvent(e)),u.update({start:Math.min(t*l,c*l),end:Math.max(t*l,c*l)}),1<s.wavesurfer.ZoomFactor&&(t=e.clientX-_.left,p=t<=r?-1:t>=_.right-_.left-r?1:null)&&m(e,p))});this.on("disable-drag-selection",function(){document.body.removeEventListener("mousemove",b),document.body.removeEventListener("touchmove",b)})}},{key:"disableDragSelection",value:function(){this.fireEvent("disable-drag-selection")}},{key:"getCurrentRegion",value:function(){var t=this,n=this.wavesurfer.getCurrentTime(),a=null;return Object.keys(this.list).forEach(function(e){e=t.list[e];e.start<=n&&e.end>=n&&(!a||e.end-e.start<a.end-a.start)&&(a=e)}),a}}]);a=l;function l(e,t){var n=this;i(this,l),this.params=e,this.wavesurfer=t,this.util=t.util,Object.getOwnPropertyNames(this.util.Observer.prototype).forEach(function(e){s.prototype[e]=n.util.Observer.prototype[e]}),this.wavesurfer.Region=s,this.list={},this._onReady=function(){n.wrapper=n.wavesurfer.drawer.wrapper,n.params.regions&&n.params.regions.forEach(function(e){n.add(e)}),n.params.dragSelection&&(n.disableDragSelection(),n.enableDragSelection(n.params))}}t.default=a,e.exports=t.default}},a={},r.m=n,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="localhost:8080/dist/plugin/",r(r.s="./src/plugin/regions.js");function r(e){var t;return(a[e]||(t=a[e]={i:e,l:!1,exports:{}},n[e].call(t.exports,t,t.exports,r),t.l=!0,t)).exports}var n,a}),(i=>{window.OneUp=function(e,t,n){var a=i.createElement("div"),r="pk_oneup pk_noselect";a.style.cssText="margin-top:20px;opacity:0",a.className=r=n?r+" "+n:r,a.innerHTML=e||"",i.body.appendChild(a),setTimeout(function(){a.style.cssText="margin-top:0px;opacity:1",setTimeout(function(){a.style.cssText="margin-top:-20px;opacity:0",setTimeout(function(){a.parentNode.removeChild(a),a=null},330)},t||720)},25)}})(document),((a,r)=>{var e=-1;a.PKAudioList||(a.PKAudioList=[]),a.PKAudioEditor=new function(){var n=this,i=(n.el=null,n.id=++e,n._deps={},a.PKAudioList[n.id]=n,{});n.fireEvent=function(e,t,n){var a=i[e];if(!a)return!1;for(var r=a.length;0<r--;)a[r]&&a[r](t,n)},n.listenFor=function(e,t){i[e]?i[e].unshift(t):i[e]=[t]},n.stopListeningFor=function(e,t){var n=i[e];if(!n)return!1;for(var a=n.length;0<a--;)if(n[a]&&n[a]===t){n[a]=null;break}},n.stopListeningForName=function(e){if(!i[e])return!1;i[e]=null},n.init=function(e){var t,e=r.getElementById(e);if(e)return n.el=e,n.ui=new n._deps.ui(n),n._deps.uifx(n),n.engine=new n._deps.engine(n),n.state=new n._deps.state(4,n),n.rec=new n._deps.rec(n),n.fls=new n._deps.fls(n),a.location.href.split("local=")[1]&&(t=a.location.href.split("local=")[1],n.fls.Init(function(){n.fls.GetSession(t,function(e){e&&e.id===t&&n.engine.LoadDB(e)})})),n;console.log("invalid element")},n.isMobile=/iphone|ipod|ipad|android/.test(navigator.userAgent.toLowerCase())},PKAudioList.push(a.PKAudioEditor)})(window,document),((e,t)=>{PKAudioEditor._deps.keyhandler=function(){var s=this;s.keyMap={},s.callbacks={},s.singleCallbacks={},s.addCallback=function(e,t,n){s.callbacks[e]={keys:n,callback:t}},s.addSingleCallback=function(e,t,n){s.singleCallbacks[e]={key:n,callback:t}},s.removeCallback=function(e){s.callbacks[e]=null},t.addEventListener("keydown",function(e){var t=e.keyCode;s.keyDown(t,e)}),s.keyDown=function(e,t){for(var n in s.keyMap[e]=1,s.callbacks){var a=s.callbacks[n];if(a){for(var r=a.keys.length,i=!0;0<r--;)if(!s.keyMap[a.keys[r]]){i=!1;break}i&&a.callback&&a.callback(e,s.keyMap,t)}}},s.keyUp=function(e){s.keyMap[e]=0},s.keyPress=function(e,t){for(var n in s.singleCallbacks){n=s.singleCallbacks[n];n&&n.key===e&&n.callback&&n.callback(t)}},t.addEventListener("keyup",function(e){e=e.keyCode;s.keyUp(e)}),t.addEventListener("keypress",function(e){var t=e.keyCode;s.keyPress(t,e)}),e.addEventListener("blur",function(e){s.keyMap={}},!1),t.addEventListener("contextmenu",function(e){e.preventDefault()},!1)}})(window,document),((u,f,e)=>{function a(e){for(var t=e.currentMenu.getElementsByTagName("*"),n=t.length;n--;)t[n].parentNode.removeChild(t[n]);e.currentMenu.removeEventListener(p,m),f.body.removeChild(e.currentMenu),e.currentMenu=null}function r(e,t,n){_(null),d.push(e);var a,r,i,s=f.createElement("div"),o=e.options,t=t-4,n=n-4;s.className="pk_contextMenu "+e.menuClass,s.id=e.token;for(var l=0,c=o.length;l<c;++l)o[l].isHTML?(a=f.createElement("div")).innerHTML=o[l].isHTML:((a=f.createElement("a")).className="pk_ctx_action",a.cnt=1,a.innerHTML=o[l].name,a.callback=o[l].callback,a.addEventListener("click",a.callback,!1)),s.appendChild(a);(e.currentMenu=s).addEventListener(p,m,!1),f.body.appendChild(s),r=s.offsetWidth,i=s.offsetHeight,u.innerWidth<t+r&&u.innerHeight<n+i?s.style.cssText="top:"+(n-i)+"px;left:"+(t-r)+"px;":u.innerWidth<t+r?s.style.cssText="top:"+n+"px;left:"+(t-r)+"px;":u.innerHeight<n+i?s.style.cssText="top:"+(n-i)+"px;left:"+t+"px;":s.style.cssText="top:"+n+"px;left:"+t+"px;",e.onOpen&&e.onOpen(e,s)}function n(e){e?(e.preventDefault(),e.stopPropagation()):e={pageX:0,pageY:0};var t=i[this.getAttribute("data-token")],n=e.pageX||e.clientX+f.documentElement.scrollLeft,a=e.pageY||e.clientY+f.documentElement.scrollTop;if(!t)return!1;t.curr_target=e.target||e.srcElement,r(t,n,a)}var d=[],i={},s=0,p=["mousedown","touchup"],_=function(e,t){if(e&&0!==d.length){e=e.target||e.srcElement;if(!e||-1===e.className.indexOf("_action")||t){for(var n=d.length;n--;)a(d[n]);d=[]}}},m=function(e){e.stopPropagation()},o=u.contextMenu=function(e,t){if(!(this instanceof o))return new o(e,t);t=t||{};this.elem=e,this.options=[],this.menuClass=t.className||"pk_open",this.curr_target=null,e&&e.addEventListener("pk_ctxmn",n,!1),this.token=++s,e&&e.setAttribute("data-token",this.token),i[this.token]=this};o.prototype.open=function(e){n.call(this.elem,e)},o.prototype.close=function(e){_()},o.prototype.openWithToken=function(e,t,n){r(i[e],t||0,n||0)},o.prototype.destroy=function(){return this.elem.removeEventListener("pk_ctxmn",n),_(),i[this.token]=null,!1},o.prototype.addOption=function(e,t,n){var a=this;this.options.push({name:e,callback:function(e){t&&t(a,a._open),_(a,!0)},isHTML:n})},f.addEventListener(p[0],_,!1),f.addEventListener("killCTX",_,!1),e._deps.ContextMenu=o})(window,document,PKAudioEditor),(n=>{function e(){var i={};if(this.Set=function(e,t){var n=i[e];return n||(i[e]=n=[]),n.push(t),localStorage.setItem("pk_presetfx",JSON.stringify(i)),n},this.Save=function(){localStorage.setItem("pk_presetfx",JSON.stringify(i))},this.Get=function(e){return e?i[e]:i},this.GetSingle=function(e,t){if(!e)return!1;if(!t)return!1;for(var n=i[e],a=n.length,r=null;0<a--;)if(n[a].id===t){r=n[a];break}return r||!1},this.Del=function(e,t){if(!e)return i;for(var n=i[e],a=n.length,r=!1;0<a--;)if(n[a].id===t){n.splice(a,1),r=!0;break}return r&&localStorage.setItem("pk_presetfx",JSON.stringify(i)),n},n.localStorage){var e=n.localStorage.getItem("pk_presetfx"),t=null;if(e){try{t=JSON.parse(e)}catch(e){}t&&(i=t)}}else this.Set=function(){}}PKAudioEditor._deps.uifx=function(_){var a=_.ui,d=null,l="modalfx",c=l+"esc",p=new e,i=(_.listenFor("DidCloseFX_UI",function(){d=null}),_.listenFor("DidOpenFX_UI",function(e){d=e}),_.listenFor("RequestFXUI_SELCUT",function(){var t=_.engine.wavesurfer,n=t.backend.buffer.sampleRate,e=t.regions.list[0];if(!e)return!1;_.fireEvent("RequestPause"),e.element.style.background="red";var a={pos:{start:e.start*n>>0,end:e.end*n>>0},initpos:{start:e.start*n>>0,end:e.end*n>>0}};t.backend.reg=a;t.on("region-updated",function(e){a.pos.start=e.start*n>>0,a.pos.end=e.end*n>>0,t.drawBuffer(!0)})}),_.listenFor("RequestFXUI_Gain",function(){_.fireEvent("RequestSelect",1);function n(e){return t?t.GetValue():[{val:+e.el_body.getElementsByTagName("input")[0].value}]}var t=null;new PKAudioFXModal({id:"gain",title:"Apply Gain to selected range",presets:[{name:"Silence",val:0},{name:"-50%",val:.5},{name:"-25%",val:.75},{name:"+25%",val:1.25},{name:"+50%",val:1.5},{name:"+100%",val:2}],custom_pres:p.Get("gain"),ondestroy:function(e){_.ui.InteractionHandler.on=!1,_.ui.KeyHandler.removeCallback(c)},preview:function(e){e=n(e);_.fireEvent("RequestActionFX_PREVIEW_GAIN",e)},buttons:[{title:"Apply Gain",clss:"pk_modal_a_accpt",callback:function(e){var t=n(e);1!=t[0].val&&_.fireEvent("RequestActionFX_GAIN",t),e.Destroy()}}],body:'<div class="pk_row" style="border:none"><label>Gain percentage</label><input type="range" class="pk_horiz" min="0.0" max="2.5" step="0.01" value="1.0" /><span class="pk_val">100%</span></div><div class="pk_row" style="border:none;padding:0">',setup:function(t){var e=t.el_body.getElementsByTagName("input")[0],n=t.el_body.getElementsByTagName("span")[0];t.el_body.getElementsByTagName("a")[0];e.oninput=function(){n.innerHTML=(100*e.value>>0)+"%",_.fireEvent("RequestActionFX_UPDATE_PREVIEW",[{val:+e.value}])},_.fireEvent("RequestPause"),_.ui.InteractionHandler.checkAndSet(l),_.ui.KeyHandler.addCallback(c,function(e){_.ui.InteractionHandler.check(l)&&t.Destroy()},[27])}},_).Show()}),_.listenFor("RequestActionFXUI_Rate",function(){_.fireEvent("RequestSelect",1);new PKAudioFXModal({id:"speed",title:"Change Speed",presets:[{name:"A lot slower",val:.65},{name:"Slightly slower",val:.85},{name:"Slightly faster",val:1.15},{name:"Blazing Fast",val:1.4}],custom_pres:p.Get("speed"),ondestroy:function(e){_.ui.InteractionHandler.on=!1,_.ui.KeyHandler.removeCallback(c)},preview:function(e){e=+e.el_body.getElementsByTagName("input")[0].value.trim();_.fireEvent("RequestActionFX_PREVIEW_RATE",e)},buttons:[{title:"Apply Rate",clss:"pk_modal_a_accpt",callback:function(e){var t=+e.el_body.getElementsByTagName("input")[0].value.trim();1!=t&&_.fireEvent("RequestActionFX_RATE",t),e.Destroy()}}],body:'<div class="pk_row" style="border:none"><label>Playback Rate</label><input type="range" class="pk_horiz" min="0.2" max="2.0" step="0.05" value="1.0" /><span class="pk_val">1.0</span></div>',setup:function(t){var e=t.el_body.getElementsByTagName("input")[0],n=t.el_body.getElementsByTagName("span")[0];e.oninput=function(){n.innerHTML=e.value,_.fireEvent("RequestActionFX_UPDATE_PREVIEW",+e.value)},_.fireEvent("RequestPause"),_.ui.InteractionHandler.checkAndSet(l),_.ui.KeyHandler.addCallback(c,function(e){_.ui.InteractionHandler.check(l)&&t.Destroy()},[27])}},_).Show()}),_.listenFor("RequestActionFXUI_Speed",function(){_.fireEvent("RequestSelect",1);new PKAudioFXModal({id:"speed",title:"Change Speed",presets:[{name:"-1/4",val:.25},{name:"-1/2",val:.5},{name:"Slightly slower",val:.85},{name:"Slightly faster",val:1.1},{name:"+1/4",val:1.25},{name:"+1/2",val:1.5}],custom_pres:p.Get("speed"),ondestroy:function(e){_.ui.InteractionHandler.on=!1,_.ui.KeyHandler.removeCallback(c)},preview:function(e){e=+e.el_body.getElementsByTagName("input")[0].value.trim();_.fireEvent("RequestActionFX_PREVIEW_SPEED",e)},buttons:[{title:"Apply Rate",clss:"pk_modal_a_accpt",callback:function(e){var t=+e.el_body.getElementsByTagName("input")[0].value.trim();1!=t&&_.fireEvent("RequestActionFX_SPEED",t),e.Destroy()}}],body:'<div class="pk_row" style="border:none"><label>Playback Rate</label><input type="range" class="pk_horiz" min="0.2" max="2.0" step="0.05" value="1.0" /><span class="pk_val">1.0</span></div>',setup:function(t){var e=t.el_body.getElementsByTagName("input")[0],n=t.el_body.getElementsByTagName("span")[0];e.oninput=function(){n.innerHTML=e.value,_.fireEvent("RequestActionFX_UPDATE_PREVIEW",+e.value)},_.fireEvent("RequestPause"),_.ui.InteractionHandler.checkAndSet(l),_.ui.KeyHandler.addCallback(c,function(e){_.ui.InteractionHandler.check(l)&&t.Destroy()},[27])}},_).Show()}),_.listenFor("RequestActionFXUI_Flip",function(){var o;PKAudioEditor.engine.is_ready&&(_.fireEvent("RequestRegionClear"),_.fireEvent("RequestSelect",1),o=0,new PKAudioFXModal({id:"flip",title:"Channel Info",ondestroy:function(e){_.ui.InteractionHandler.on=!1,_.ui.KeyHandler.removeCallback(c)},buttons:[{title:"Apply Changes",clss:"pk_modal_a_accpt",callback:function(e){var t,n;1===o?(n=e.el_body.getElementsByClassName("pk_c_mm")[0],t=e.el_body.getElementsByClassName("pk_c_fl")[0],n.checked?(n=e.el_body.getElementsByClassName("pk_c_c"))[0].checked?_.fireEvent("RequestActionFX_Flip","mono",0):n[1].checked&&_.fireEvent("RequestActionFX_Flip","mono",1):t.checked&&_.fireEvent("RequestActionFX_Flip","flip")):2===o&&e.el_body.getElementsByClassName("pk_c_ms")[0].checked&&_.fireEvent("RequestActionFX_Flip","stereo"),e.Destroy()}}],body:'<div class="pk_row pk_mm" style="border:none;display:none"><div class="pk_row"><input type="checkbox" class="pk_check pk_c_mm" id="xmm" name="makeMono"><label for="xmm">Make Mono</label></div><div class="pk_row" style="padding-left:30px"><input type="radio" class="pk_check pk_c_c" id="kf6" name="chnl" value="left"><label class="pk_dis" for="kf6">Left Channel</label><input type="radio" class="pk_check pk_c_c" id="kf7" name="chnl" value="right"><label class="pk_dis" for="kf7">Right Channel</label></div><div class="pk_row"><input type="checkbox" class="pk_check pk_c_fl" id="xfc" name="flipChn"><label for="xfc">Flip Channels</label></div></div><div class="pk_row pk_ms" style="border:none;display:none"><div class="pk_row"><input type="checkbox" class="pk_check pk_c_ms" id="xms" checked name="makeStereo"><label for="xms">Make Stereo</label></div></div>',setup:function(t){var n,a,r,e,i,s=null;2===PKAudioEditor.engine.wavesurfer.backend.buffer.numberOfChannels?(o=1,n=(s=t.el_body.getElementsByClassName("pk_mm")[0]).getElementsByClassName("pk_c_mm")[0],a=s.getElementsByClassName("pk_c_fl")[0],r=s.getElementsByClassName("pk_c_c"),e=s.getElementsByClassName("pk_dis"),i=[e[0],e[1]],n.onchange=function(e){n.checked?(a.checked=!1,r[0].checked=!0,i[0].className="",i[1].className=""):(r[0].checked=!1,r[1].checked=!1,i[0].className="pk_dis",i[1].className="pk_dis")},a.onchange=function(e){a.checked&&(n.checked=!1,n.onchange())}):(o=2,s=t.el_body.getElementsByClassName("pk_ms")[0]),s.style.display="block",_.fireEvent("RequestPause"),_.ui.InteractionHandler.checkAndSet(l),_.ui.KeyHandler.addCallback(c,function(e){_.ui.InteractionHandler.check(l)&&t.Destroy()},[27])}},_).Show())}),_.listenFor("RequestFXUI_Silence",function(){new PKSimpleModal({title:"Insert Silence",ondestroy:function(e){a.InteractionHandler.on=!1,a.KeyHandler.removeCallback("modalTemp")},buttons:[{title:"Insert Silence",clss:"pk_modal_a_accpt",callback:function(e){var t=+e.el_body.getElementsByClassName("pk_horiz")[0].value.trim(),n=0;e.el_body.getElementsByClassName("pk_check")[1].checked&&(n=+PKAudioEditor.engine.wavesurfer.getCurrentTime().toFixed(3)),.001<t&&a.fireEvent("RequestActionSilence",n,t),e.Destroy()}}],body:'<div class="pk_row"><input type="radio" class="pk_check" id="ifeq" name="rdslnc" value="beginning"><label  for="ifeq">Insert silence at beginning</label><br/><input type="radio" class="pk_check"  id="vgdja" name="rdslnc" checked value="cursor"><label for="vgdja">Insert silence at current cursor (<span class="pkcdpk"></span>)</label></div><div class="pk_row"><label>Silence in seconds</label><input type="range" min="0.0" max="30.0" class="pk_horiz" step="0.01" value="5.0" /><span class="pk_val">5s</span></div>',setup:function(t){t.el_body.getElementsByClassName("pkcdpk")[0].innerHTML=PKAudioEditor.engine.wavesurfer.getCurrentTime().toFixed(2)+"s";var e=t.el_body.getElementsByClassName("pk_horiz")[0],n=t.el_body.getElementsByClassName("pk_val")[0];e.oninput=function(){n.innerHTML=(+e.value).toFixed(2)+"s"},a.fireEvent("RequestPause"),a.InteractionHandler.checkAndSet("modal"),a.KeyHandler.addCallback("modalTemp",function(e){t.Destroy()},[27])}}).Show()}),_.listenFor("RequestActionFXUI_Compressor",function(){_.fireEvent("RequestSelect",1);function a(e){var t=[];return n?t=n.GetValue():(e=e.el_body.getElementsByTagName("input"),t[0]={val:+e[0].value},t[1]={val:+e[1].value},t[2]={val:+e[2].value},t[3]={val:+e[3].value},t[4]={val:+e[4].value}),{threshold:t[0],knee:t[1],ratio:t[2],attack:t[3],release:t[4]}}var e="compressor",n=null;new PKAudioFXModal({id:e,title:"Apply Compression to selected range",clss:"pk_bigger",ondestroy:function(e){_.ui.InteractionHandler.on=!1,_.ui.KeyHandler.removeCallback(c)},presets:[{name:"Classic",val:"-40,5,7,0.002,0.1"},{name:"Light",val:"-6,2,2.5,0.002,0.05"},{name:"Dashed Distortion",val:"-45,26,2.05,0.233,0.0"},{name:"Chaotic Distortion",val:"-60,14,11.07,0.036,0.00"}],custom_pres:p.Get(e),preview:function(e){e.el_body.getElementsByTagName("input");e=a(e);_.fireEvent("RequestActionFX_PREVIEW_COMPRESSOR",e)},buttons:[{title:"Apply",clss:"pk_modal_a_accpt",callback:function(e){e.el_body.getElementsByTagName("input");var t=a(e);_.fireEvent("RequestActionFX_Compressor",t),e.Destroy()}}],body:'<div class="pk_row"><label class="pk_line">Threshold</label><input class="pk_horiz" type="range" min="-100" max="0" step="0.1" value="-24.0" /><span class="pk_val">-24.0</span></div><div class="pk_row"><label class="pk_line">Knee</label><input class="pk_horiz" type="range" min="0.0" max="40.0" step="0.01" value="30.0" /><span class="pk_val">30.0</span></div><div class="pk_row"><label class="pk_line">Ratio</label><input class="pk_horiz" type="range" min="1.0" max="20.0" step="0.01" value="12.0" /><span class="pk_val">12.0</span></div><div class="pk_row"><label class="pk_line">Attack</label><input class="pk_horiz" type="range" min="0.0" max="1.0" step="0.001" value="0.003" /><span class="pk_val">0.003</span></div><div class="pk_row" style="border:none"><label class="pk_line">Release</label><input class="pk_horiz" type="range" min="0.0" max="1.0" step="0.001" value="0.25" /><span class="pk_val">0.25</span></div>',setup:function(t){for(var e=t.el_body.getElementsByTagName("input"),n=0;n<e.length;++n)e[n].oninput=function(){var e;this.parentNode.getElementsByTagName("span")[0].innerHTML=(+this.value).toFixed(3),e=a(t),_.fireEvent("RequestActionFX_UPDATE_PREVIEW",e)};_.fireEvent("RequestPause"),_.ui.InteractionHandler.checkAndSet(l),_.ui.KeyHandler.addCallback(c,function(e){_.ui.InteractionHandler.check(l)&&t.Destroy()},[27])}},_).Show()}),_.listenFor("RequestActionFXUI_Normalize",function(){_.fireEvent("RequestSelect",1),new PKSimpleModal({title:"Normalize",ondestroy:function(e){_.ui.InteractionHandler.on=!1,_.ui.KeyHandler.removeCallback("modalTemp")},buttons:[{title:"Normalize Audio",clss:"pk_modal_a_accpt",callback:function(e){var t=+e.el_body.getElementsByClassName("pk_horiz")[0].value,n=e.el_body.getElementsByClassName("pk_check")[0].checked;_.fireEvent("RequestActionFX_Normalize",[n,t]),e.Destroy()}}],body:'<div class="pk_row"><input type="checkbox" id="vhcjgs" class="pk_check" name="normEqually"><label for="vhcjgs">Normalize L/R Equally</label></div><div class="pk_row" style="border:none"><label>Normalize to</label><input type="range" min="0.0" max="2.0" class="pk_horiz" step="0.01" value="1.0" /><span class="pk_val">100%</span></div>',setup:function(t){var e=t.el_body.getElementsByClassName("pk_horiz")[0],n=t.el_body.getElementsByClassName("pk_val")[0];e.oninput=function(){n.innerHTML=(100*+e.value>>0)+"%"},_.fireEvent("RequestPause"),_.ui.InteractionHandler.checkAndSet("modal"),_.ui.KeyHandler.addCallback("modalTemp",function(e){t.Destroy()},[27])}}).Show()}),_.listenFor("RequestActionFXUI_ParaGraphicEQ",function(){PKAudioEditor._deps.FxEQ(_,p)}),_.listenFor("RequestActionTempo",function(){PKAudioEditor._deps.FxTMP(_)}),_.listenFor("RequestActionNewRec",function(){PKAudioEditor._deps.FxREC(_)}),_.listenFor("RequestActionFXUI_GraphicEQ",function(e){_.fireEvent("RequestSelect",1);function r(e){var t={};if(i)t=i.GetValue();else for(var t=[],n=e.length,a=0;a<n;++a){var r=e[a];t.push({type:r.getAttribute("data-type"),freq:+r.getAttribute("data-freq"),val:+r.value,q:s})}return t}var t="graph_eq",i=null,n='<div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="32" data-type="lowshelf" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">< 32hz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="64" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">64hz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="125" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">125hz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="250" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">250hz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="500" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">500hz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="1000" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">1000hz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="2000" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">2000hz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="4000" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">4000hz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="8000" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">8000hz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="16000" data-type="highshelf" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm"> >16000hz</span></div>',a=[{name:"Reset",val:"0,0,0,0,0,0,0,0,0,0"},{name:"Old Radio",val:"-25,-22,-20,-18,-9,0,8,10,-8,-25"},{name:"Lo Fi",val:"-18,-12,0,2,0,4,4,-1,-6,-8"}],s=4.6;20===e&&(t+="_2",a=null,s=10.2,n='<div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="31" data-type="lowshelf" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">< 31hz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="44" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">44hz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="63" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">63hz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="88" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">88hz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="125" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">125hz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="180" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">180hz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="250" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">250hz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="335" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">335hz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="500" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">500hz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="710" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">710hz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="1000" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">1khz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="1400" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">1.4khz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="2000" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">2khz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="2800" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">2.8khz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="4000" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">4khz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="5600" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">5.6khz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="8000" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">8khz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="11300" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">11.3khz</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="16000" data-type="peaking" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm">16k</span></div><div class="pk_col"><span class="pk_val">0 db</span><input class="pk_vert" data-freq="22000" data-type="highshelf" type="range" min="-25.0" max="25.0" step="0.01" value="0.0" /><span class="pk_btm"> >22khz</span></div>'),new PKAudioFXModal({id:t,title:"Graphic EQ",clss:20===e?"pk_dens":"",custom_pres:p.Get(t),ondestroy:function(e){_.ui.InteractionHandler.on=!1,_.ui.KeyHandler.removeCallback(c)},preview:function(e){e=e.el_body.getElementsByTagName("input");e.length;_.fireEvent("RequestActionFX_PREVIEW_PARAMEQ",r(e))},buttons:[{title:"Apply EQ",clss:"pk_modal_a_accpt",callback:function(e){var t=e.el_body.getElementsByTagName("input");_.fireEvent("RequestActionFX_PARAMEQ",r(t)),e.Destroy()}}],presets:a,body:'<div class="pk_h200">'+n+'<div style="clear:both;"></div></div>',setup:function(t){for(var e=t.el_body.getElementsByTagName("input"),n=e.length,a=0;a<n;++a)e[a].oninput=function(){this.parentNode.getElementsByTagName("span")[0].innerHTML=(this.value>>0)+" db",_.fireEvent("RequestActionFX_UPDATE_PREVIEW",r(e))};_.fireEvent("RequestPause"),_.ui.InteractionHandler.checkAndSet(l),_.ui.KeyHandler.addCallback(c,function(e){_.ui.InteractionHandler.check(l)&&t.Destroy()},[27])}},_).Show()}),_.listenFor("RequestActionFXUI_HardLimiter",function(){_.fireEvent("RequestSelect",1),new PKAudioFXModal({title:"Hard Limiting",ondestroy:function(e){_.ui.InteractionHandler.on=!1,_.ui.KeyHandler.removeCallback("modalTemp")},buttons:[{title:"Hard Limiting",clss:"pk_modal_a_accpt",callback:function(e){_.fireEvent("RequestActionFX_HardLimit",e.updateFilter(e)),e.Destroy()}}],preview:function(e){_.fireEvent("RequestActionFX_PREVIEW_HardLimit",e.updateFilter(e))},body:'<div class="pk_row"><input type="checkbox" class="pk_check" id="xighs" name="normEqually"><label for="xighs">Hard Limiting</label></div><div class="pk_row"><label>Limit to</label><input type="range" min="0.1" max="1.0" class="pk_horiz pk_w180" step="0.01" value="0.99" /><span class="pk_val">99%</span></div><div class="pk_row"><label>Ratio between lows and highs</label><input type="range" min="0.0" max="1.0" class="pk_horiz pk_w180" step="0.01" value="0.0" /><span class="pk_val">Ratio 0%</span></div><div class="pk_row"><label>Look Ahead (ms)</label><input type="range" min="1.0" max="500.0" class="pk_horiz pk_w180" step="0.01" value="10.0" /><span class="pk_val">10 ms</span></div>',updateFilter:function(e){for(var t=[e.el_body.getElementsByClassName("pk_check")[0].checked],n=e.el_body.getElementsByClassName("pk_horiz"),a=0;a<n.length;++a){var r=n[a];t.push(+r.value)}return t},setup:function(t){var e=t.el_body.getElementsByClassName("pk_horiz");e[0].oninput=function(){this.parentNode.getElementsByTagName("span")[0].innerHTML=(100*+this.value>>0)+"%",_.fireEvent("RequestActionFX_UPDATE_PREVIEW",t.updateFilter(t))},e[1].oninput=function(){this.parentNode.getElementsByTagName("span")[0].innerHTML="Ratio "+(100*+this.value>>0)+"%",_.fireEvent("RequestActionFX_UPDATE_PREVIEW",t.updateFilter(t))},e[2].oninput=function(){this.parentNode.getElementsByTagName("span")[0].innerHTML=+this.value+"ms",_.fireEvent("RequestActionFX_UPDATE_PREVIEW",t.updateFilter(t))},_.fireEvent("RequestPause"),_.ui.InteractionHandler.checkAndSet("modal"),_.ui.KeyHandler.addCallback("modalTemp",function(e){t.Destroy()},[27])}},_).Show()}),_.listenFor("RequestActionFXUI_Delay",function(){_.fireEvent("RequestSelect",1);function a(e){var t=[];return n?t=n.GetValue():(e=e.el_body.getElementsByTagName("input"),t[0]={val:+e[0].value},t[1]={val:+e[1].value},t[2]={val:+e[2].value}),{delay:t[0],feedback:t[1],mix:t[2]}}var n=null;new PKAudioFXModal({id:"delay",title:"Apply Delay to selected range",clss:"pk_bigger",ondestroy:function(e){_.ui.InteractionHandler.on=!1,_.ui.KeyHandler.removeCallback(c)},presets:[{name:"Classic",val:"0.3,0.4,0.4"},{name:"Spacey",val:"3.0,0.6,0.3"}],custom_pres:p.Get("delay"),preview:function(e){e=a(e);_.fireEvent("RequestActionFX_PREVIEW_DELAY",e)},buttons:[{title:"Apply",clss:"pk_modal_a_accpt",callback:function(e){var t=a(e);_.fireEvent("RequestActionFX_DELAY",t),e.Destroy()}}],body:'<div class="pk_row"><label class="pk_line">Delay Time</label><input class="pk_horiz" type="range" min="0.0" max="6.0" step="0.01" value="0.28" /><span class="pk_val">0.28</span></div><div class="pk_row"><label class="pk_line">Feedback</label><input class="pk_horiz" type="range" min="0.0" max="1.0" step="0.01" value="0.5" /><span class="pk_val">0.5</span></div><div class="pk_row"><label class="pk_line">Wet</label><input class="pk_horiz" type="range" min="0.0" max="1.0" step="0.01" value="0.4" /><span class="pk_val">0.4</span></div>',setup:function(t){for(var e=t.el_body.getElementsByTagName("input"),n=0;n<e.length;++n)e[n].oninput=function(){var e;this.parentNode.getElementsByTagName("span")[0].innerHTML=(+this.value).toFixed(3),e=a(t),_.fireEvent("RequestActionFX_UPDATE_PREVIEW",e)};_.fireEvent("RequestPause"),_.ui.InteractionHandler.checkAndSet(l),_.ui.KeyHandler.addCallback(c,function(e){_.ui.InteractionHandler.check(l)&&t.Destroy()},[27])}},_).Show()}),_.listenFor("RequestActionFXUI_Distortion",function(){_.fireEvent("RequestSelect",1);function a(e){return t?t.GetValue():[{val:+e.el_body.getElementsByTagName("input")[0].value}]}var t=null;new PKAudioFXModal({id:"dist",title:"Apply Distortion to selected range",clss:"pk_bigger",ondestroy:function(e){_.ui.InteractionHandler.on=!1,_.ui.KeyHandler.removeCallback(c)},preview:function(e){e=a(e);_.fireEvent("RequestActionFX_PREVIEW_DISTORT",e)},buttons:[{title:"Apply",clss:"pk_modal_a_accpt",callback:function(e){var t=a(e);_.fireEvent("RequestActionFX_DISTORT",t),e.Destroy()}}],body:'<div class="pk_row"><label class="pk_line">Gain</label><input class="pk_horiz" type="range" min="0.0" max="2.0" step="0.01" value="0.5" /><span class="pk_val">0.5</span></div>',setup:function(t){for(var e=t.el_body.getElementsByTagName("input"),n=0;n<e.length;++n)e[n].oninput=function(){var e;this.parentNode.getElementsByTagName("span")[0].innerHTML=(+this.value).toFixed(2),e=a(t),_.fireEvent("RequestActionFX_UPDATE_PREVIEW",e)};_.fireEvent("RequestPause"),_.ui.InteractionHandler.checkAndSet(l),_.ui.KeyHandler.addCallback(c,function(e){_.ui.InteractionHandler.check(l)&&t.Destroy()},[27])}},_).Show()}),_.listenFor("RequestActionFXUI_Reverb",function(){_.fireEvent("RequestSelect",1);new PKAudioFXModal({id:"reverb",title:"Apply Reverb to selected range",clss:"pk_bigger",ondestroy:function(e){_.ui.InteractionHandler.on=!1,_.ui.KeyHandler.removeCallback(c)},presets:[{name:"Classic",val:"0.3,0.4,0.4"},{name:"Spacey",val:"3.0,0.6,0.3"}],custom_pres:p.Get("reverb"),preview:function(e){e=e.el_body.getElementsByTagName("input"),e={time:+e[0].value,decay:+e[1].value,mix:+e[2].value};_.fireEvent("RequestActionFX_PREVIEW_REVERB",e)},buttons:[{title:"Apply",clss:"pk_modal_a_accpt",callback:function(e){var t=e.el_body.getElementsByTagName("input"),t={time:+t[0].value,decay:+t[1].value,mix:+t[2].value};_.fireEvent("RequestActionFX_REVERB",t),e.Destroy()}}],body:'<div class="pk_row"><label class="pk_line">Time</label><input class="pk_horiz" type="range" min="0.0" max="3.0" step="0.01" value="0.3" /><span class="pk_val">0.3</span></div><div class="pk_row"><label class="pk_line">Decay</label><input class="pk_horiz" type="range" min="0.0" max="3.0" step="0.01" value="0.05" /><span class="pk_val">0.05</span></div><div class="pk_row"><label class="pk_line">Wet</label><input class="pk_horiz" type="range" min="0.0" max="1.0" step="0.01" value="0.6" /><span class="pk_val">0.6</span></div>',setup:function(t){for(var e=t.el_body.getElementsByTagName("input"),n=0;n<e.length;++n)e[n].oninput=function(){var e;this.parentNode.getElementsByTagName("span")[0].innerHTML=(+this.value).toFixed(3),e={time:+(e=t.el_body.getElementsByTagName("input"))[0].value,decay:+e[1].value,mix:+e[2].value},_.fireEvent("RequestActionFX_UPDATE_PREVIEW",e)};_.fireEvent("RequestPause"),_.ui.InteractionHandler.checkAndSet(l),_.ui.KeyHandler.addCallback(c,function(e){_.ui.InteractionHandler.check(l)&&t.Destroy()},[27])}},_).Show()}),null),m=(_.listenFor("RequestActionID3",function(e,t){var a,r;e?i=t:(a="_id3",r=function(e,t){var n='<div style="margin-top:18px">',n=(n=(n=(n=(n+='<div><span class="pk_id3ttl">Artist</span><span>'+(t.artist||"-")+"</span></div>")+('<div><span class="pk_id3ttl">Title</span><span>'+(t.title||"-")+"</span></div>"))+('<div><span class="pk_id3ttl">Album</span><span>'+(t.album||"-")+"</span></div>")+('<div><span class="pk_id3ttl">Year</span><span>'+(t.year||"-")+"</span></div>"))+('<div><span class="pk_id3ttl">Genre</span><span>'+(t.genre||"-")+"</span></div>")+('<div style="max-width:700px"><span class="pk_id3ttl">Comment</span><span>'+((t.comment||{}).text||"-")+"</span></div>"))+('<div><span class="pk_id3ttl">Track</span><span>'+(t.track||"-")+"</span></div>")+('<div style="max-width:700px"><span class="pk_id3ttl">Lyrics</span><span>'+((t.lyrics||{}).lyrics||"-")+"</span></div>");if("picture"in t){for(var a=t.picture,r="",i=0;i<a.data.length;++i)r+=String.fromCharCode(a.data[i]);n+='<div><span style="float:left" class="pk_id3ttl">Cover</span><span><img style="max-width:340px" src="data:'+a.format+";base64,"+window.btoa(r)+'"/></span></div>'}e.innerHTML=n+"</div>"},new PKSimpleModal({title:"ID3 Metatags Explorer",ondestroy:function(e){_.ui.InteractionHandler.forceUnset(a),_.ui.KeyHandler.removeCallback(a+"esc")},buttons:[],body:'<input type="file" accept="audio/*" /><div class="pk_row pk_ttx">Choose file to view audio metatags!</div>',setup:function(t){var e=t.el_body.getElementsByTagName("input")[0],n=t.el_body.getElementsByClassName("pk_ttx")[0];e.onchange=function(e){var t=new FileReader;t.onload=function(){var e=PKAudioEditor.engine.ID3(this.result);e?r(n,e):n.innerHTML='<div style="padding:30px 0">No audio metadata found...</div>'},t.readAsArrayBuffer(this.files[0])},i&&r(n,i),_.ui.InteractionHandler.forceSet(a),_.ui.KeyHandler.addCallback(a+"esc",function(e){_.ui.InteractionHandler.check(a)&&t.Destroy()},[27])}}).Show())}),_.listenFor("RequestSavePreset",function(){if(d){var e=d.el_body;if(e){var n=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,function(e){return t[e]})},t=!0,a=null,r=d.el_presets,r=r.options[r.selectedIndex],i=e.querySelectorAll("select, input"),s={target:d.id,name:"My Preset",id:d.id+"_"+(99*Math.random()>>0),date:Date.now(),val:""};r&&r.getAttribute("data-custom")&&(t=!1,a=r.getAttribute("data-custom"));for(var o,l,c,u,f=0;f<i.length;++f)"checkbox"===i[f].type?s.val+=(i[f].checked?"1":"0")+",":s.val+=i[f].value+",";0<s.val.length&&(s.val=s.val.substring(0,s.val.length-1),o="_ctPr",e="",r={},l={},c=null,t||(e='value="'+(c=p.GetSingle(s.target,a)).name+'"',r={title:"Delete",clss:"pk_modal_a_red",callback:function(e){OneUp("Successfully deleted preset!",1400);var t=p.Del(s.target,a);_.fireEvent("DidSetPresets",s.target,t),e.Destroy()}},l={title:"Update",callback:function(e){var t;c&&(t=e.el_body.getElementsByTagName("input")[0].value.trim(),0<(t=n(t)).length?(OneUp("Successfully updated preset!",1400),c.name=t,c.val=s.val,p.Save(),t=p.Get(s.target),_.fireEvent("DidSetPresets",s.target,t),e.Destroy()):OneUp("Name is too short...",1200))}}),u='Save Custom Preset for filter "'+d.id+'"',t||(u='Edit Custom Preset "'+c.name+'", for filter "'+d.id+'"'),new PKSimpleModal({title:u,ondestroy:function(e){_.ui.InteractionHandler.forceUnset(o),_.ui.KeyHandler.removeCallback(o+"esc"),_.ui.KeyHandler.removeCallback(o+"ent")},buttons:[{title:t?"Save":"Save As New",clss:"pk_modal_a_accpt",callback:function(e){var t=e.el_body.getElementsByTagName("input")[0].value.trim();0<(t=n(t)).length?(OneUp("Successfully saved preset!",1400),s.name=t,t=p.Set(s.target,s),_.fireEvent("DidSetPresets",s.target,t),_.fireEvent("RequestSetPresetActive",s.target,s.id),e.Destroy()):OneUp("Name is too short...",1200)}},l,r],body:'<label for="k07">Preset Name</label><input style="min-width:340px" maxlength="16" placeholder="Please type a name, eg: My Preset" '+e+' class="pk_txt" type="text" id="k07" />',setup:function(t){_.ui.InteractionHandler.forceSet(o),_.ui.KeyHandler.addCallback(o+"esc",function(e){_.ui.InteractionHandler.check(o)&&t.Destroy()},[27]),_.ui.KeyHandler.addCallback(o+"en",function(e){_.ui.InteractionHandler.check(o)&&t.els.bottom[0].click()},[13]),setTimeout(function(){var e;t.el&&((e=t.el.getElementsByTagName("input")[0]).focus(),0<e.value.length)&&(e.selectionStart=e.selectionEnd=e.value.length)},20)}}).Show())}}}),{});_.listenFor("WillUnload",function(){var e,t;for(t in m)(e=m[t])&&!e.type&&e.destroy&&e.destroy();m={}}),_.listenFor("RequestDragI",function(t){var r,i,s,n,a,o,l,c;_.isMobile?alert("unsupported on mobile"):(r=m[t])&&r.el&&(r.el.style.pointerEvents="none",r.el.style.zIndex="9",r.win.document.body.classList.add("c"),(i=document.createElement("div")).className="pk_modal_back",document.body.appendChild(i),s=!0,a=n=0,o=2,l=parseInt(r.el.style.top)||0,c=parseInt(r.el.style.left)||0,_.ui.InteractionHandler.on=!0,setTimeout(function(){r&&r.el&&(r.el.style.display="none",setTimeout(function(){r.el.style.display="block"},0),i.focus())},60),i.onmousemove=function(e){var t;s&&(0===n&&0===a?(n=e.pageX,a=e.pageY):(t=e.pageX-n,l+=e.pageY-a,c+=t,r.el.style.top=l+"px",r.el.style.left=c+"px",n=e.pageX,a=e.pageY,--o))},i.onmouseup=function(e){if(s=!1,r.win.document.body.classList.remove("c"),r.el.style.pointerEvents="",r.el.style.zIndex="7",_.ui.InteractionHandler.on=!1,document.body.removeChild(i),"mouseup"===e.type&&0<o){r.el.style.top="0px";for(var t=_.ui.BarBtm.el.childNodes,n=0,a=0;a<t.length&&r.el!==t[a];++a)n+=t[a].clientWidth+18;r.el.style.left=n+"px"}i.onmousemove=null,i.onmouseleave=null,i.onmouseup=null,i=null},i.onmouseleave=function(e){i.onmouseup(e),_.fireEvent("RequestShowFreqAn",t,[[window.screenLeft+e.pageX||0,window.screenTop+e.pageY||0],0])})}),_.listenFor("RequestShowFreqAn",function(r,e){if(_.isMobile)alert("Currently unsupported on mobile");else{var t=e[0],a=e[1],i="Frequency Analysis",s=m[r],e=("sp"===r&&(i="Spectrum Analysis"),!1);if(s&&t){var n=!1;if(s.type===a&&(n=!0),s.destroy(),s=null,m[r]=null,n)return;e=!0}var o=function(e,t){s&&s.win.update&&s.win.update(t)},l=function(n,a){n.win.destroy=function(){_.stopListeningFor("DidAudioProcess",o),_.fireEvent("DidToggleFreqAn",a,null),n&&n===m[r]&&(m[r]=null);var e,t=!0;for(e in m)if(m[e]){t=!1;break}t&&(_.engine.wavesurfer.backend.logFrequencies=!1)},_.listenFor("DidAudioProcess",o),_.fireEvent("DidToggleFreqAn",a,s),_.engine.wavesurfer.backend.logFrequencies=!0};if(a){if(1===a){var c=document.createElement("iframe");if(c.className="pk_frqan",c.id="pk_fr"+r,_.ui.BarBtm.on){for(var u=_.ui.BarBtm.el.childNodes,f=0,d=0;d<u.length;++d)f+=u[d].clientWidth+18;c.style.left=f+"px"}_.ui.BarBtm.el.appendChild(c),_.ui.BarBtm.Show(),m[r]={type:a,el:c,win:null,destroy:function(){c.parentNode.removeChild(c),c=null;var n=_.ui.BarBtm.el.childNodes;0===n.length?_.ui.BarBtm.Hide():setTimeout(function(){for(var e=0,t=0;t<n.length;++t)n[t]&&n[t].parentNode&&(-20<n[t].offsetTop&&(n[t].style.top="0px",n[t].style.left=e+"px"),e+=n[t].clientWidth+18)},198)}},s=m[r],c.onload=function(e){s&&s.type===a&&(s.win=c.contentWindow,l(s,r))},c.src="/"+r+".html?iframe=1"}}else{var p=function(e){var t="",n=(e&&e[0]&&(e[0]=Math.max(0,e[0]-200)>>0,e[1]=Math.max(0,e[1])>>0,t=",left="+e[0]+",top="+e[1]),window.open("/"+r+".html",i,"directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,scrollbars=no,resizable=no,width=600,height=188"+t));n?(m[r]={type:a,el:null,win:n,destroy:function(){n&&n.close&&n.close()}},s=m[r],l(s,r)):OneUp("Please allow pop-ups for AudioMass!",3600,"pk_r")};e?setTimeout(function(){p(t)},130):p(t)}}})}})(window,document),((z,W)=>{function n(e,s){var t=W.createElement("div"),o=(t.className="pk_hdr pk_noselect","TopHeader"),c="pk_btn pk_noselect",l=-1,u=null,a=null,f=null,d=[],p=this;function n(e){if(u!=e&&e){for(var t=e.parentNode;t&&u;){if(u.parentNode==t)return!1;t=t.parentNode}for(var n=d.length;0<n--;)if(d[n]===e)return p.openMenu(n,!0)}return!1}!function e(t,n,a){for(var r=0;r<n.length;++r){var i,s,o=W.createElement("div"),l=n[r];0===a?(o.className=c,(i=W.createElement("button")).innerHTML=l.name,o.appendChild(i)):(o.className="pk_menu_el",(i=W.createElement("button")).className="pk_opt "+(l.clss||""),i.setAttribute("tab-index","-1"),i.setAttribute("data-index",r),i.innerHTML=l.name,o.appendChild(i),l.action&&((e,t)=>{e.onclick=function(e){this.classList.contains("pk_inact")||(p.closeMenu(),t(e))}})(i,l.action),l.setup&&l.setup(i)),t.appendChild(o),0===a&&(d[r]=o.childNodes[0]),l.children&&(l.children,(s=W.createElement("div")).className="pk_menu",e(s,l.children,a+1),o.appendChild(s))}}(t,e,0),this.getOpenElement=function(){return u},this.closeMenu=function(){u&&(u.parentNode.className=c,u=a=null,f&&(f.classList.remove("pk_act"),f=null),s.InteractionHandler.on=!1,W.removeEventListener("mouseup",_),s.KeyHandler.removeCallback(o+1),s.KeyHandler.removeCallback(o+2),s.KeyHandler.removeCallback(o+3),s.KeyHandler.removeCallback(o+4),s.KeyHandler.removeCallback(o+5),s.KeyHandler.removeCallback(o+6))},this.openMenu=function(e,t){u&&(u.parentNode.className=c);var n=d[e=-1===e?-1===l?0:l:e],a=(u=n).parentNode,r=a.getBoundingClientRect().left,i=window.innerWidth;return i-r<200&&1<(i=264-(i-r)>>0)&&(a.getElementsByClassName("pk_menu")[0].style.left=-i/2+"px"),a.className+=" pk_vis",setTimeout(function(){u===n&&(a.className+=" pk_act")},0),l=e,s.InteractionHandler.checkAndSet(o),t||W.addEventListener("mouseup",_,!1),s.KeyHandler.addCallback(o+1,function(e){0===l&&(l=d.length),p.closeMenu(),p.openMenu(l-1)},[37]),s.KeyHandler.addCallback(o+2,function(e){l===d.length-1&&(l=-1),p.closeMenu(),p.openMenu(l+1)},[39]),s.KeyHandler.addCallback(o+3,function(e){p.closeMenu()},[27]),s.KeyHandler.addCallback(o+4,function(e,t,n){var a;f?(a=+f.getAttribute("data-index"),f.classList.remove("pk_act"),f=u.parentNode.getElementsByClassName("pk_opt"),(f=a-1<0?f[f.length-1]:f[a-1]).classList.add("pk_act")):(a=u.parentNode.getElementsByClassName("pk_opt"))[0]&&(f=a[0]).classList.add("pk_act")},[38]),s.KeyHandler.addCallback(o+5,function(e,t,n){var a;f?(a=+f.getAttribute("data-index"),f.classList.remove("pk_act"),(f=(f=u.parentNode.getElementsByClassName("pk_opt")).length<=1+a?f[0]:f[1+a]).classList.add("pk_act")):(a=u.parentNode.getElementsByClassName("pk_opt"))[0]&&(f=a[0]).classList.add("pk_act")},[40]),s.KeyHandler.addCallback(o+6,function(e){f?f.click():p.closeMenu()},[13]),!0},s.listenFor("DidReadyFire",function(){p.closeMenu()});var _=function(e){e=e.target||e.srcElement;if(u){for(var t=e,n=!1;t&&u;){if(u.parentNode==t){n=!0;break}t=t.parentNode}n&&a!==e||p.closeMenu()}else s.InteractionHandler.on=!1,W.removeEventListener("mouseup",_);a=null};t.addEventListener("mousemove",function(e){return!!s.InteractionHandler.check(o)&&!!(u||s.InteractionHandler.on&&s.InteractionHandler.by===o)&&(0<=(e=e.target||e.srcElement).className.indexOf("pk_opt")?(f&&f.classList.remove("pk_act"),(f=e).classList.add("pk_act")):(f&&f.classList.remove("pk_act"),f=null),n(e))},!1),t.addEventListener("mousedown",function(e){if(!s.InteractionHandler.checkAndSet(o))return!1;W.removeEventListener("mouseup",_),u?(a=n(e.target||e.srcElement)?null:u,W.addEventListener("mouseup",_,!1)):(a=null,W.addEventListener("mouseup",_,!1),n(e.target||e.srcElement))},!1),s.el.appendChild(t)}function r(e,t){var n=this,a=W.createElement("div");a.className="pk_dck",e.el.appendChild(a),n.el=a,n.on=!1,n.height=130,n.Show=function(){n.on=!0,a.style.display="block",t.fireEvent("RequestResize")},n.Hide=function(){n.on=!1,a.style.display="none",t.fireEvent("RequestResize")}}function i(n,a){for(var e=this,t=W.createElement("div"),r=(t.className="pk_av_cont",n.el.appendChild(t),W.createElement("div")),i=(r.className="pk_av pk_noselect",r.id="pk_av_"+a.id,t.appendChild(r),W.createElement("div")),s=(i.className="pk_ftr pk_noselect",n.el.appendChild(i),W.createElement("div")),o=(s.className="pk_panner pk_noselect",W.createElement("div")),l=(o.className="pk_pan_left",W.createElement("div")),c=(l.className="pk_pan_right",W.createElement("button")),u=W.createElement("button"),o=(c.setAttribute("tabIndex",-1),u.setAttribute("tabIndex",-1),c.className="pk_pan_btn",u.className="pk_pan_btn",c.innerHTML="<strong>L</strong> ON",u.innerHTML="<strong>R</strong> ON",o.appendChild(c),l.appendChild(u),s.appendChild(o),s.appendChild(l),t.appendChild(s),c.onclick=function(){a.fireEvent("RequestChanToggle",0),this.blur()},u.onclick=function(){a.fireEvent("RequestChanToggle",1),this.blur()},a.listenFor("DidChanToggle",function(e,t){0===e?t?(c.classList.remove("pk_inact"),c.innerHTML="<strong>L</strong> ON"):(c.classList.add("pk_inact"),c.innerHTML="<strong>L</strong> OFF"):t?(u.classList.remove("pk_inact"),u.innerHTML="<strong>R</strong> ON"):(u.classList.add("pk_inact"),u.innerHTML="<strong>R</strong> OFF")}),W.createElement("div")),l=(o.className="pk_zoombtn",W.createElement("button")),f=(l.className="pk_btn pk_zoom_in_h",l.innerHTML="+<span>Zoom In Horiz (+)</span>",l.setAttribute("tabIndex",-1),l.onclick=function(){a.fireEvent("RequestZoomUI","h",-1),this.blur()},W.createElement("button")),d=(f.className="pk_btn pk_zoom_out_h pk_inact",f.innerHTML="&ndash;<span>Zoom Out Horiz (-)</span>",f.setAttribute("tabIndex",-1),f.onclick=function(){a.fireEvent("RequestZoomUI","h",1),this.blur()},W.createElement("button")),t=(d.className="pk_btn pk_zoom_reset pk_inact",d.innerHTML="[R] <span>Reset Zoom (0)</span>",d.setAttribute("tabIndex",-1),d.onclick=function(){a.fireEvent("RequestZoomUI",0),this.blur()},n.KeyHandler.addCallback("Key0",function(e){n.InteractionHandler.on||a.fireEvent("RequestZoomUI",0)},[48]),n.KeyHandler.addCallback("KeyZO",function(e){n.InteractionHandler.on||a.fireEvent("RequestZoomUI","h",1)},[189]),n.KeyHandler.addCallback("KeyZI",function(e){n.InteractionHandler.on||a.fireEvent("RequestZoomUI","h",-1)},[187]),W.createElement("button")),s=(t.className="pk_btn pk_zoom_in_v",t.innerHTML="&#x2195; +<span>Zoom In Vertically</span>",t.setAttribute("tabIndex",-1),t.onclick=function(){a.fireEvent("RequestZoomUI","v",-1),this.blur()},W.createElement("button")),l=(s.className="pk_btn pk_zoom_out_v",s.innerHTML="&#x2195; &ndash;<span>Zoom Out Vertically</span>",s.setAttribute("tabIndex",-1),s.onclick=function(){a.fireEvent("RequestZoomUI","v",1),this.blur()},o.appendChild(l),o.appendChild(f),o.appendChild(d),o.appendChild(t),o.appendChild(s),i.appendChild(o),W.createElement("div")),p=!(l.className="pk_wavescroll"),_=W.createElement("div"),m=(_.className="pk_wavepoint",W.createElement("div")),h=m.style,b=(m.className="pk_wavedrag pk_inact",W.createElement("div")),v=(b.className="pk_wavedrag_l",W.createElement("div")),g=(v.className="pk_wavedrag_r",l.appendChild(_),m.appendChild(b),m.appendChild(v),l.appendChild(m),i.appendChild(l),0),k=100,A=(l.onclick=function(e){var t;window.performance.now()-g<20||(t=e.target.getBoundingClientRect(),e=e.clientX-t.left,n.fireEvent("RequestPan",e,2))},n.listenFor("DidZoom",function(e){var t=e[0],n=e[1];1===t?(f.classList.add("pk_inact"),d.classList.add("pk_inact")):(f.classList.remove("pk_inact"),d.classList.remove("pk_inact")),1!=e[2]&&d.classList.remove("pk_inact"),1===t?p&&(_.style.display="none",p=!1):p||(_.style.display="block",e=a.engine.wavesurfer.getCurrentTime()/a.engine.wavesurfer.getDuration(),_.style.left=(1e4*e>>0)/100+"%",p=!0),99<100/t?(k=100,h.width="100%",h.left="0%",m.classList.add("pk_inact")):(k=100/t,h.width=k+"%",h.left=n+"%",m.classList.remove("pk_inact"))}),n.listenFor("DidCursorCenter",function(e,t){requestAnimationFrame(function(){h.left=100*e+"%"})}),0),y=0,w=function(e){e.stopPropagation(),e.preventDefault();var t=e.clientX;if(e.touches){if(1<e.touches.length)return;t=e.touches[0].clientX}e=-y+t;0===A?n.fireEvent("RequestPan",e,1):-1===A?n.fireEvent("RequestZoom",e,-1):1===A&&n.fireEvent("RequestZoom",e,1),y=t},E=function(e){e.touches&&1<e.touches.length||(PKAudioEditor.engine.wavesurfer.Interacting&=-3,e.stopPropagation(),e.preventDefault(),A=0,g=window.performance.now(),m.classList.remove("pk_drag"),document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",E),document.removeEventListener("touchmove",w,{passive:!1}),document.removeEventListener("touchend",E))},R=function(e){PKAudioEditor.engine.is_ready&&(e.target===m?A=0:e.target===b?A=-1:e.target===v&&(A=1),m.className+=" pk_drag",y=e.clientX,PKAudioEditor.engine.wavesurfer.Interacting|=2,e.is_touch?(document.addEventListener("touchmove",w,{passive:!1}),document.addEventListener("touchend",E,!1)):(document.addEventListener("mousemove",w,!1),document.addEventListener("mouseup",E,!1)))},t=(m.addEventListener("mousedown",R,!1),"ontouchstart"in window&&m.addEventListener("touchstart",function(e){e.preventDefault(),e.stopPropagation(),1<e.touches.length||(e={is_touch:!0,target:m,clientX:e.touches[0].clientX},R(e))},!1),this.volumeGauge=W.createElement("div"),this.volumeGauge2=W.createElement("div"),this.volumeGaugeInner=W.createElement("div"),this.volumeGaugeInner2=W.createElement("div"),this.volumeGaugePeaker=W.createElement("div"),this.volumeGaugePeaker2=W.createElement("div"),W.createElement("div")),s=(this.volumeGauge.className="pk_volpar",this.volumeGauge2.className="pk_volpar",this.volumeGaugeInner.className="pk_vol",this.volumeGaugeInner2.className="pk_vol",this.volumeGaugePeaker.className="pk_peaker",this.volumeGaugePeaker2.className="pk_peaker",this.volumeGauge.appendChild(this.volumeGaugeInner),this.volumeGauge.appendChild(this.volumeGaugePeaker),this.volumeGauge2.appendChild(this.volumeGaugeInner2),this.volumeGauge2.appendChild(this.volumeGaugePeaker2),W.createElement("div")),C=(s.className="pk_markers pk_noselect",'<span class="pk_mark1">-Inf</span>'),S=35;0<=S;--S)C+='<span class="pk_mark1 '+(S%2?"pk_odd":"")+'">'+-2*S+"</span>";s.innerHTML=C,t.appendChild(this.volumeGauge),t.appendChild(this.volumeGauge2),t.appendChild(s),t.onclick=function(){e.volumeGaugePeaker.className="pk_peaker",e.volumeGaugePeaker2.className="pk_peaker"},i.appendChild(t);o=W.createElement("div"),o.className="pk_tmpMsg",o.innerHTML='Drag n drop an Audio File in this window, or click <a style="white-space:nowrap;border:1px solid;border-radius:23px;padding:5px 18px;font-size:0.94em;margin-left:5px" onclick="PKAudioEditor.engine.LoadSample()">here to use a sample</a>',r.appendChild(o),l=W.createElement("div");l.className="pk_tmpMsg2",l.innerHTML='<span>Please Wait...</span><div class="pk_mload"><div></div></div><div class="pk_prc"><span>0%</span><button tabIndex="-1" class="pk_btn" onclick="PKAudioEditor.fireEvent(\'RequestCancelModal\');">cancel</button></div>',W.body.appendChild(l),n.loaderEl=l,n.listenFor("WillDownloadFile",function(){n.loaderEl.classList.add("pk_act"),n.loaderEl.getElementsByTagName("span")[1].style.display="none"}),n.listenFor("DidDownloadFile",function(){n.loaderEl.classList.remove("pk_act")}),n.listenFor("DidProgressModal",function(e){n.loaderEl.getElementsByTagName("span")[1].style.display="block",n.loaderEl.getElementsByTagName("span")[1].textContent=e+"%"})}function c(s){var e=W.createElement("div"),t=(e.className="pk_tbc",W.createElement("div")),n=(t.className="pk_tb pk_noselect",W.createElement("div")),a=(n.className="pk_btngroup",W.createElement("div")),r=(a.className="pk_transport",W.createElement("button")),i=(r.setAttribute("tabIndex",-1),r.innerHTML="<span>Stop Playback (Space)</span>",r.className="pk_btn pk_stop icon-stop2",r.onclick=function(){s.fireEvent("RequestStop")},a.appendChild(r),W.createElement("button")),r=(i.setAttribute("tabIndex",-1),i.className="pk_btn pk_play icon-play3",i.innerHTML="<span>Play (Space)</span>",a.appendChild(i),i.onclick=function(){s.fireEvent("RequestPlay"),this.blur()},s.listenFor("DidStopPlay",function(){i.classList.remove("pk_act")}),s.listenFor("DidPlay",function(){i.classList.add("pk_act")}),W.createElement("button")),o=(r.setAttribute("tabIndex",-1),r.className="pk_btn pk_pause icon-pause2",r.innerHTML="<span>Pause (Shift+Space)</span>",a.appendChild(r),r.onclick=function(){s.fireEvent("RequestPause"),this.blur()},W.createElement("button")),r=(o.setAttribute("tabIndex",-1),o.className="pk_btn pk_loop icon-loop",o.innerHTML="<span>Toggle Loop (L)</span>",a.appendChild(o),o.onclick=function(){s.fireEvent("RequestSetLoop"),this.blur()},s.listenFor("DidSetLoop",function(e){e?o.classList.add("pk_act"):o.classList.remove("pk_act")}),W.createElement("button")),l=(r.setAttribute("tabIndex",-1),r.className="pk_btn pk_back_jump icon-backward2",r.innerHTML="<span>Seek (left arrow)</span>",a.appendChild(r),!1),c=null,r=(r.onclick=function(){var e;l||(c&&(clearTimeout(c),c=null),e=PKAudioEditor.engine.wavesurfer.getDuration()/20,1<(e/=PKAudioEditor.engine.wavesurfer.ZoomFactor/2+.5)&&(e<<=0),s.fireEvent("RequestSkipBack",e)),this.blur(),l=!1},r.onmouseleave=function(){c&&(clearTimeout(c),c=null),this.blur()},r.onfocus=function(){var r=this,i=(l=!1,function(e,t){var n,a;document.activeElement===r&&(l=!0,s.fireEvent("RequestSkipBack",e),n=PKAudioEditor.engine.wavesurfer.getDuration()/4450,a=PKAudioEditor.engine.wavesurfer.ZoomFactor,n/=a,t<12&&(n=0),setTimeout(function(){i(e+n,++t)},40))});c=setTimeout(function(){var e=PKAudioEditor.engine.wavesurfer.getDuration()/2e3,t=PKAudioEditor.engine.wavesurfer.ZoomFactor;i(e=(e/=t)<.01?.01:e,0)},390)},W.createElement("button")),u=(r.setAttribute("tabIndex",-1),r.className="pk_btn pk_front_jump icon-forward3",r.innerHTML="<span>Seek (right arrow)</span>",a.appendChild(r),!1),f=null,I=(r.onclick=function(){var e;u||(f&&(clearTimeout(f),f=null),e=PKAudioEditor.engine.wavesurfer.getDuration()/20,1<(e/=PKAudioEditor.engine.wavesurfer.ZoomFactor/2+.5)&&(e<<=0),s.fireEvent("RequestSkipFront",e)),this.blur(),u=!1},r.onmouseleave=function(){f&&(clearTimeout(f),f=null),this.blur()},r.onfocus=function(){var r=this,i=(u=!1,function(e,t){var n,a;document.activeElement===r&&(u=!0,s.fireEvent("RequestSkipFront",e),n=PKAudioEditor.engine.wavesurfer.getDuration()/4450,a=PKAudioEditor.engine.wavesurfer.ZoomFactor,n/=a,t<12&&(n=0),setTimeout(function(){i(e+n,++t)},40))});f=setTimeout(function(){var e=PKAudioEditor.engine.wavesurfer.getDuration()/2e3,t=PKAudioEditor.engine.wavesurfer.ZoomFactor;i(e=(e/=t)<.01?.01:e,0)},390)},0),d=1,N=4,O=(s.KeyHandler.addCallback("KeyArrowBack",function(e,t,n){var a,r;!s.InteractionHandler.on&&PKAudioEditor.engine.is_ready&&(158<(n=n.timeStamp)-I?(d=1,N=4):--N<0&&d<6&&(d+=.05),I=n,n=.5,a=PKAudioEditor.engine.wavesurfer.ZoomFactor,r=PKAudioEditor.engine.wavesurfer.getDuration(),n=(n=Math.max(r/200,.05))/a*d,s.fireEvent("RequestSkipBack",n))},[37]),0),p=1,H=4,r=(s.KeyHandler.addCallback("KeyArrowFront",function(e,t,n){var a,r;!s.InteractionHandler.on&&PKAudioEditor.engine.is_ready&&(158<(n=n.timeStamp)-O?(p=1,H=4):--H<0&&p<6&&(p+=.05),O=n,n=.5,a=PKAudioEditor.engine.wavesurfer.ZoomFactor,r=PKAudioEditor.engine.wavesurfer.getDuration(),n=(n=Math.max(r/200,.05))/a*p,s.fireEvent("RequestSkipFront",n))},[39]),s.KeyHandler.addCallback("KeyShiftArrowBack",function(e){if(!s.InteractionHandler.on&&PKAudioEditor.engine.is_ready){var t=PKAudioEditor.engine.wavesurfer.regions.list[0];if(t){var n=PKAudioEditor.engine.wavesurfer.ActiveMarker,a=PKAudioEditor.engine.wavesurfer.getDuration(),r=t.end/a;if(.004+r<n)return void s.fireEvent("RequestSeekTo",r-1e-4);if(.004+(r=t.start/a)<n)return void s.fireEvent("RequestSeekTo",r)}s.fireEvent("RequestSeekTo",0)}},[16,37]),s.KeyHandler.addCallback("KeyShiftArrowFront",function(e){if(!s.InteractionHandler.on&&PKAudioEditor.engine.is_ready){var t=PKAudioEditor.engine.wavesurfer.regions.list[0];if(t){var n=PKAudioEditor.engine.wavesurfer.ActiveMarker,a=PKAudioEditor.engine.wavesurfer.getDuration(),r=t.start/a;if(n<r-.004)return void s.fireEvent("RequestSeekTo",r);if(n<(r=t.end/a)-.004)return void s.fireEvent("RequestSeekTo",r-1e-4)}s.fireEvent("RequestSeekTo",.994)}},[16,39]),s.KeyHandler.addCallback("killctx",function(e){var t=new Event("killCTX",{bubbles:!0});document.body.dispatchEvent(t)},[27]),W.createElement("button")),r=(r.setAttribute("tabIndex",-1),r.className="pk_btn icon-previous2",r.innerHTML="<span>Seek Start (Shift + left arrow)</span>",a.appendChild(r),r.onclick=function(){s.fireEvent("RequestRegionClear"),s.fireEvent("RequestSeekTo",0),this.blur()},W.createElement("button")),_=(r.setAttribute("tabIndex",-1),r.className="pk_btn icon-next2",r.innerHTML="<span>Seek End (Shift + right arrow)</span>",r.onclick=function(){s.fireEvent("RequestRegionClear"),s.fireEvent("RequestSeekTo",.996),this.blur()},a.appendChild(r),W.createElement("button")),m=(_.setAttribute("tabIndex",-1),_.className="pk_btn icon-rec",_.innerHTML="<span>Record (R)</span>",_.onclick=function(){"disabled"===this.getAttribute("disabled")||s.fireEvent("RequestActionRecordToggle"),this.blur()},s.listenFor("ErrorRec",function(){_.style.opacity=.6,_.setAttribute("disabled","disabled")}),a.appendChild(_),s.KeyHandler.addCallback("KeyRecR",function(e){s.InteractionHandler.on||_.click()},[82]),s.listenFor("DidActionRecordStart",function(){_.classList.add("pk_act")}),s.listenFor("DidActionRecordStop",function(){_.classList.remove("pk_act")}),s.KeyHandler.addCallback("KeyTab",function(e){!s.InteractionHandler.on&&PKAudioEditor.engine.is_ready&&s.fireEvent("RequestViewCenterToCursor")},[9]),!!window.chrome),r=W.createElement("div"),h=(r.className="pk_timecontainer",W.createElement("span")),b=(m||(h.textContent="00:00:000",h.className="pk_timing",r.appendChild(h)),W.createElement("canvas")),q=(b.className="pk_timingcnv",b.width=150,b.height=40,"00:00:000"),v=b.getContext("2d",{alpha:!1}),g={};if(m){r.appendChild(b),v.fillStyle="#000",v.fillRect(0,0,150,40);for(var k=0;k<11;++k){var A=W.createElement("canvas"),y=(A.width=18,A.height=26,A.getContext("2d",{alpha:!1}));y.font="29px Helvetica, Arial, sans-serif",y.textAlign="center",y.fillStyle="#000",y.fillRect(0,0,18,26),y.fillStyle="#fff",y.textBaseline="middle",10===k?(y.fillText(":",8,14),g[":"]=A):(y.fillText(k+"",9,14),g[k+""]=A)}for(var V=v,U=g,X="00:00:000",w=0;w<X.length;++w)V.drawImage(U[X[w]],16*w,10)}var E=W.createElement("span"),R=(E.textContent="00:00:000",E.className="pk_total_dur",r.appendChild(E),W.createElement("span"));function C(e){var t=e>>0,n=e-t;if(t<10){if(0===e)return"00:00:000";t="00:0"+t}else t=t<60?"00:"+t:((e=t/60>>0)<10?"0":"")+e+":"+((e=t%60)<10?"0"+e:e);return n<.1?t+":0"+(n<.01?"0":"")+(1e3*n>>0):t+":"+(1e3*n>>0)}R.textContent="00:00:000",R.className="pk_hover_dur",r.appendChild(R),setTimeout(function(){s.listenFor("DidZoom",function(e,t){t&&(R.textContent=C(PKAudioEditor.engine.wavesurfer.drawer.handleEvent(t)*PKAudioEditor.engine.wavesurfer.VisibleDuration+PKAudioEditor.engine.wavesurfer.LeftProgress))});var n=0,e=W.getElementsByClassName("pk_av")[0],e=(e.addEventListener("mousemove",function(e){var t=e.timeStamp;t-n<58||(n=t,R.textContent=C(PKAudioEditor.engine.wavesurfer.drawer.handleEvent(e)*PKAudioEditor.engine.wavesurfer.VisibleDuration+PKAudioEditor.engine.wavesurfer.LeftProgress))},!1),PKAudioEditor._deps.ContextMenu(e)),a=(e.addOption("Select Visible View",function(e,t,n){s.fireEvent("RequestRegionSet")},!1),e.addOption("Reset Zoom",function(e){s.fireEvent("RequestZoomUI",0)},!1),e.addOption("Set Volume/Gain",function(e){s.fireEvent("RequestFXUI_Gain")},!1),e.addOption("Copy",function(e){PKAudioEditor.engine.wavesurfer.regions.list[0]&&s.fireEvent("RequestActionCopy")},!1),e.addOption("Paste",function(e){a&&s.fireEvent("RequestActionPaste")},!1),e.addOption("Cut",function(e){PKAudioEditor.engine.wavesurfer.regions.list[0]&&s.fireEvent("RequestActionCut",1)},!1),e.addOption("Insert Silence",function(e){s.fireEvent("RequestFXUI_Silence",0)},!1),!1);s.listenFor("DidSetClipboard",function(e){a=!!e}),e.onOpen=function(e,t){t=t.childNodes;a||(t[4].className+=" pk_inact"),s.fireEvent("RequestPause"),PKAudioEditor.engine.wavesurfer.regions.list[0]||(t[3].className+=" pk_inact",t[5].className+=" pk_inact")}},1e3),s.listenFor("DidUpdateLen",function(e){E.textContent=C(e)}),s.formatTime=C;var S=0,T=0,K=0,j=document.querySelector(".pk_wavepoint"),b=(s.listenFor("DidAudioProcess",function(e){var t=e[0],n=e[1],e=e[2]||z.performance.now();if(!(e-K<50)){if(K=e,-1<t){if(m){for(var a=C(t),r=!1,i=0;i<a.length;++i){if(!r){if(a[i]===q[i])continue;r=!0}v.drawImage(g[a[i]],16*i,10)}q=a}else h.textContent=C(t);1<PKAudioEditor.engine.wavesurfer.ZoomFactor&&(e=t/PKAudioEditor.engine.wavesurfer.getDuration(),(j=j||document.querySelector(".pk_wavepoint")).style.left=(1e4*e>>0)/100+"%")}n?0<n[0]?(s.footer.volumeGaugePeaker.className="pk_peaker pk_act",s.footer.volumeGaugeInner.style.transform="translate3d(100%,0,0)",S=100,s.footer.volumeGaugePeaker.setAttribute("title","Peak at "+PKAudioEditor.engine.wavesurfer.getCurrentTime().toFixed(2)),0<n[1]&&(s.footer.volumeGaugePeaker2.className="pk_peaker pk_act",s.footer.volumeGaugeInner2.style.transform="translate3d(100%,0,0)",T=100,s.footer.volumeGaugePeaker2.setAttribute("title","Peak at "+PKAudioEditor.engine.wavesurfer.getCurrentTime().toFixed(2)))):0<n[1]?(s.footer.volumeGaugePeaker2.className="pk_peaker pk_act",s.footer.volumeGaugeInner2.style.transform="translate3d(100%,0,0)",T=100,s.footer.volumeGaugePeaker2.setAttribute("title","Peak at "+PKAudioEditor.engine.wavesurfer.getCurrentTime().toFixed(2))):(((t=100+n[0])<-100||(S+=(t-S)/4,isNaN(S)))&&(S=0),((t=100+n[1])<-100||(T+=(t-T)/4,isNaN(T)))&&(T=0),s.footer.volumeGaugeInner.style.transform="translate3d("+S+"%,0,0)",s.footer.volumeGaugeInner2.style.transform="translate3d("+T+"%,0,0)"):(s.footer.volumeGaugePeaker.className="pk_peaker",s.footer.volumeGaugePeaker2.className="pk_peaker",s.footer.volumeGaugeInner.style.transform="translate3d(0,0,0)",s.footer.volumeGaugeInner2.style.transform="translate3d(0,0,0)")}}),W.createElement("div")),M=(b.className="pk_ctns",W.createElement("button")),P=(M.setAttribute("tabIndex",-1),M.className="pk_btn icon-files-empty pk_inact",M.innerHTML="<span>Copy Selection (Shift + C)</span>",b.appendChild(M),M.onclick=function(){s.fireEvent("RequestActionCopy"),this.blur()},s.listenFor("DidSetClipboard",function(e){e?P.classList.remove("pk_inact"):P.classList.add("pk_inact")}),W.createElement("button")),B=(P.setAttribute("focusable","false"),P.className="pk_btn icon-file-text2 pk_inact",P.innerHTML="<span>Paste Selection (Shift + V)</span>",b.appendChild(P),P.onclick=function(){s.fireEvent("RequestActionPaste"),this.blur()},W.createElement("button")),F=(B.setAttribute("tabIndex",-1),B.className="pk_btn icon-scissors pk_inact",B.innerHTML="<span>Cut Selection (Shift + X)</span>",b.appendChild(B),B.onclick=function(){s.fireEvent("RequestActionCut",1),this.blur()},W.createElement("button")),D=(F.setAttribute("tabIndex",-1),F.className="pk_btn icon-silence",F.innerHTML="<span>Insert Silence (Shift + N)</span>",b.appendChild(F),s.KeyHandler.addCallback("KeyShiftN",function(e){s.InteractionHandler.on||F.click()},[16,78]),F.onclick=function(){s.fireEvent("RequestFXUI_Silence"),this.blur()},W.createElement("div")),x=(D.className="pk_selection",D.innerHTML='<div class="pk_sellist"><span class="pk_title">Selection:</span><div><span class="title">Start:</span><span class="s_s pk_dat">-</span></div><div><span class="title">End:</span><span class="s_e pk_dat">-</span></div><div><span  class="title">Duration:</span><span class="s_d pk_dat">-</span></div></div>',W.createElement("button")),L=(x.setAttribute("tabIndex",-1),x.className="pk_btn icon-clearsel pk_inact",x.innerHTML="<span>Clear Selection (Q key)</span>",D.getElementsByClassName("pk_dat"));s.listenFor("DidCreateRegion",function(e){M.classList.remove("pk_inact"),B.classList.remove("pk_inact"),x.classList.remove("pk_inact"),e&&((L=L[0]?L:document.querySelectorAll(".pk_sellist .pk_dat"))[0].textContent=e.start.toFixed(3),L[1].textContent=e.end.toFixed(3),L[2].textContent=(e.end-e.start).toFixed(3))}),s.listenFor("DidDestroyRegion",function(){M.classList.add("pk_inact"),B.classList.add("pk_inact"),x.classList.add("pk_inact"),(L=L[0]?L:document.querySelectorAll(".pk_sellist .pk_dat"))[0].textContent="-",L[1].textContent="-",L[2].textContent="-"}),x.onclick=function(){s.fireEvent("RequestRegionClear"),this.blur()},D.appendChild(x),t.appendChild(r),s.listenFor("DidChanToggle",function(e,t){var n=PKAudioEditor.engine.wavesurfer.regions.list[0];n&&(1===t?(n.element.style.top="0",n.element.style.height="100%"):0===e?(n.element.style.top="50%",n.element.style.height="50%"):1===e&&(n.element.style.top="0",n.element.style.height="50%"))}),t.appendChild(n),n.appendChild(a),n.appendChild(b),t.appendChild(D),e.appendChild(t),s.el.appendChild(e),dragNDrop(W.getElementById("app"),"pk_overlay",function(e){PKAudioEditor.engine.LoadArrayBuffer(new Blob([e]))},"arrayBuffer")}PKAudioEditor._deps.ui=function(a){var e,s,o,l,_,t=this;this.el=a.el,this.el.className+=" pk_app"+(a.isMobile?" pk_mob":""),this.fireEvent=a.fireEvent,this.listenFor=a.listenFor,this.InteractionHandler={on:!1,by:null,arr:[],check:function(e){return!this.on||this.by===e},checkAndSet:function(e){return!!this.check(e)&&(this.on=!0,this.by=e,!0)},forceSet:function(e){this.on&&this.arr.push({on:this.on,by:this.by}),this.on=!0,this.by=e},forceUnset:function(e){this.check(e)&&((e=this.arr.pop())?(this.on=e.on,this.by=e.by):(this.on=!1,this.by=null))}},a.isMobile&&(W.body.className="pk_stndln",(e=W.createElement("div")).className="pk_fxd",e.appendChild(this.el),W.body.appendChild(e),l=!(o=s=-1),W.body.addEventListener("touchstart",function(e){s=e.touches[0].pageX,o=e.touches[0].pageY,l=!1}),W.body.addEventListener("touchend",function(e){l=!(o=s=-1)}),W.body.addEventListener("touchmove",function(e){var t,n,a,r,i;"INPUT"===e.target.tagName||l||(r=e.touches[0].pageY,t=e.touches[0].pageX,n=s-t,0==(a=o-r)||Math.abs(a)<3&&3<Math.abs(n)||Math.abs(a)<6&&10<Math.abs(n)?(o=r,s=t,l=!0):(o=r,s=t,(n=document.getElementsByClassName("pk_modal_back"))[0]?((n=n[0]).scrollHeight>window.innerHeight?(r=n.scrollTop,0<a?document.getElementsByClassName("pk_modal")[0].clientHeight-r<window.innerHeight-80&&e.preventDefault():r<=0&&e.preventDefault()):e.preventDefault(),l=!0):(t=window.screen.height,n=window.screen.width,a=window.innerHeight,r=!1,(i=0)===window.orientation?i=a/t:90!==window.orientation&&-90!==window.orientation||(i=a/n),(r=i<.8||r)||(e.preventDefault(),l=!0))))},{passive:!1})),this.KeyHandler=new a._deps.keyhandler(this),this.TopHeader=new n((_=a,[{name:"File",children:[{name:"Export / Download",action:function(){new PKSimpleModal({title:"Export / Download",ondestroy:function(e){_.ui.InteractionHandler.on=!1,_.ui.KeyHandler.removeCallback("modalTemp")},buttons:[{title:"Export",clss:"pk_modal_a_accpt",callback:function(e){for(var t,n=e.el_body.getElementsByTagName("input")[0].value.trim(),a="mp3",r=128,i=!1,s=!1,o=e.el_body.getElementsByClassName("pk_check"),l=o.length;0<l--;)o[l].checked&&("frmtex"==o[l].name?a=o[l].value:"xport"==o[l].name?"sel"===o[l].value&&(i=!!(t=_.engine.wavesurfer.regions.list[0])&&[t.start,t.end]):"chnl"==o[l].name?"stereo"===o[l].value&&(s=!0):r=+o[l].value);"flac"==a&&(r=+document.getElementById("flac-comp").value),_.engine.DownloadFile(n,a,r,i,s),e.Destroy()}}],body:'<div class="pk_row"><label for="k0">File Name</label><input style="min-width:250px" placeholder="mp3 filename" value="audiomass-output.mp3" class="pk_txt" type="text" id="k0" /></div><div class="pk_row" id="frmtex" style="padding-bottom:4px"><label style="display:inline">Format</label><input type="radio" class="pk_check" id="k01" name="frmtex" checked value="mp3"><label for="k01">mp3</label><input type="radio" class="pk_check" id="k02" name="frmtex" value="wav"><label for="k02">wav <i>(44100hz)</i></label><input type="radio" class="pk_check" id="k03" name="frmtex" value="flac"><label for="k03">flac</i></label></div><div class="pk_row" id="frmtex-mp3"><input type="radio" class="pk_check" id="k1" name="rdslnc" checked value="128"><label  for="k1">128kbps</label><input type="radio" class="pk_check"  id="k2" name="rdslnc" value="192"><label for="k2">192kbps</label><input type="radio" class="pk_check"  id="k3" name="rdslnc" value="256"><label for="k3">256kbps</label></div><div class="pk_row" style="display:none" id="frmtex-flac"><label>Flac: Compression Level</label><input type="range" class="pk_horiz" min="0" max="8" step="1" value="5" id="flac-comp"><span class="pk_val" style="float:left;margin-left:15px">5</span></div><div class="pk_row" style="padding-bottom:5px"><input type="radio" class="pk_check" id="k6" name="chnl" checked value="mono"><label for="k6">Mono</label><input type="radio" class="pk_check pk_stereo" id="k7" name="chnl" value="stereo"><label for="k7">Stereo</label></div><div class="pk_row"><input type="radio" class="pk_check" id="k4" name="xport" checked value="whole"><label for="k4">Export whole file</label><input type="radio" class="pk_check" id="k5" name="xport" value="sel"><label class="pk_lblmp3" for="k5">Export Selection Only</label></div>',setup:function(t){var e=PKAudioEditor.engine.wavesurfer;e.regions.list[0]||(t.el_body.getElementsByClassName("pk_lblmp3")[0].className="pk_dis"),2===e.backend.buffer.numberOfChannels&&(t.el_body.getElementsByClassName("pk_stereo")[0].checked=!0),_.fireEvent("RequestPause"),_.ui.InteractionHandler.checkAndSet("modal"),_.ui.KeyHandler.addCallback("modalTemp",function(e){t.Destroy()},[27]),setTimeout(function(){var a,e,r,i;t.el&&((a=t.el.getElementsByTagName("input")[0])&&a.select(),e=document.getElementById("frmtex"),r=document.getElementById("frmtex-mp3"),i=document.getElementById("frmtex-flac"),document.getElementById("flac-comp").oninput=function(){this.parentNode.getElementsByTagName("span")[0].innerText=this.value},e)&&e.addEventListener("change",function(e){for(var t=this.getElementsByTagName("input"),n=0;n<t.length;++n)t[n].checked&&("mp3"===t[n].value?(r.style.display="block",i.style.display="none",a.value=a.value.replace(".wav",".mp3").replace(".flac",".mp3")):"flac"===t[n].value?(r.style.display="none",i.style.display="block",a.value=a.value.replace(".mp3",".flac").replace(".wav",".flac")):(r.style.display="none",i.style.display="none",a.value=a.value.replace(".mp3",".wav").replace(".flac",".wav")))},!1)},20)}}).Show()},clss:"pk_inact",setup:function(e){e.setAttribute("data-id","dl"),_.listenFor("DidUnloadFile",function(){e.classList.add("pk_inact")}),_.listenFor("DidLoadFile",function(){e.classList.remove("pk_inact")})}},{name:"Load from Computer",type:"file",action:function(e){_.fireEvent("RequestLoadLocalFile")}},{name:"Load Sample File",action:function(e){_.engine.LoadSample()}},{name:"Load From URL",action:function(e){new PKSimpleModal({title:"Load audio from remote url",ondestroy:function(e){_.ui.InteractionHandler.on=!1,_.ui.KeyHandler.removeCallback("modalTemp"),_.ui.KeyHandler.removeCallback("modalTempEnter")},buttons:[{title:"Load Asset",clss:"pk_modal_a_accpt",callback:function(e){var t,n=e.el_body.getElementsByTagName("input")[0].value.trim();t=n,new RegExp("^((https?:)?\\/\\/)?(?:\\S+(?::\\S*)?@)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(t)?(_.engine.LoadURL(n),e.Destroy()):OneUp("Invalid URL entered",1100)}}],body:'<label for="k00">Insert url</label><input style="min-width:250px" placeholder="Please insert url" class="pk_txt" type="text" id="k00" />',setup:function(t){_.fireEvent("RequestPause"),_.ui.InteractionHandler.checkAndSet("modal"),_.ui.KeyHandler.addCallback("modalTemp",function(e){t.Destroy()},[27]),_.ui.KeyHandler.addCallback("modalTempEnter",function(e){t.els.bottom[0].click()},[13]),setTimeout(function(){t.el&&t.el.getElementsByTagName("input")[0].focus()},20)}}).Show()}},{name:"New Recording",action:function(e){_.fireEvent("RequestActionNewRec")}},{name:"Save Draft Locally",clss:"pk_inact",action:function(e){var i;_.engine.is_ready&&(i=function(e,n){function a(e){var t=Math.random().toString(36).substring(7);e.SaveSession(r,t,n),_.stopListeningFor("DidOpenDB",a)}var r=_.engine.wavesurfer.backend.buffer;"copy"===e?r=_.engine.GetCopyBuff():"sel"===e&&(r=_.engine.GetSel());_.listenFor("DidOpenDB",a),_.fls.on?_.fireEvent("DidOpenDB",_.fls):_.fls.Init(function(e){e&&alert("db error")})},new PKSimpleModal({title:"Save Local Draft of...",ondestroy:function(e){_.ui.InteractionHandler.on=!1,_.ui.KeyHandler.removeCallback("modalTempErr")},buttons:[{title:"Save",clss:"pk_modal_a_accpt",callback:function(e){var t="whole",n=e.el_body.getElementsByTagName("input"),a=n[n.length-1].value;a&&0!==(a=100<=(a=a.trim()).length?a.substr(0,99).trim():a).length||(a=null);for(var r=0;r<n.length;++r)if(n[r].checked){t=n[r].value;break}i(t,a),e.Destroy()}}],body:'<p>Please choose source...</p><div class="pk_row"><input type="radio" class="pk_check" id="sl1" name="rdslnc" checked value="whole"><label style="vertical-align:top" for="sl1">Whole Track</label><input type="radio" class="pk_check"  id="sl2" name="rdslnc" value="sel"><label style="vertical-align:top" class="pk_lblsel" for="sl2">Selection<i style="display:block;font-size:11px;margin-top:-5px"></i></label><input type="radio" class="pk_check"  id="sl3" name="rdslnc" value="copy"><label style="vertical-align:top" class="pk_lblsel2" for="sl3">"Copy" clipboard/buffer</label></div><div class="pk_row"><label for="slk0">Draft Name</label><input style="min-width:250px" placeholder="(optional) filename" maxlength="100" class="pk_txt" type="text" id="slk0" /></div>',setup:function(t){var e=_.engine.wavesurfer.regions.list[0],n=t.el_body.getElementsByClassName("pk_lblsel")[0];e?(t.el_body.getElementsByClassName("pk_check")[1].checked=!0,n.childNodes[1].textContent=_.ui.formatTime(e.start)+" to "+_.ui.formatTime(e.end)):n.className="pk_dis",_.engine.GetCopyBuff()||(t.el_body.getElementsByClassName("pk_lblsel2")[0].className="pk_dis"),_.isMobile||setTimeout(function(){t.el&&t.el.getElementsByClassName("pk_txt")[0].focus()},20),_.fireEvent("RequestPause"),_.ui.InteractionHandler.checkAndSet("modal"),_.ui.KeyHandler.addCallback("modalTempErr",function(e){t.Destroy()},[27])}}).Show())},setup:function(e){_.listenFor("DidUnloadFile",function(){e.classList.add("pk_inact")}),_.listenFor("DidLoadFile",function(){e.classList.remove("pk_inact")}),_.listenFor("DidStoreDB",function(e,t){var n=e.id;new PKSimpleModal({title:"Succesfully Stored",ondestroy:function(e){_.ui.InteractionHandler.on=!1,_.ui.KeyHandler.removeCallback("modalTempErr")},buttons:[{title:"OPEN IN NEW WINDOW",callback:function(e){window.open(window.location.pathname+"?local="+n),e.Destroy()}}],body:"<p>Open in new window?</p>"+('<div style="padding:2px 0">id: '+n+'</div><div style="padding:2px 0"><span>durr: '+e.durr+"s</span>&nbsp;&nbsp;&nbsp;<span>chan: "+(1===e.chans?"mono":"stereo")+'</span></div><div style="padding:2px 0"><img src="'+e.thumb+'" /></div>'),setup:function(t){_.fireEvent("RequestPause"),_.fireEvent("RequestRegionClear"),_.ui.InteractionHandler.checkAndSet("modal"),_.ui.KeyHandler.addCallback("modalTempErr",function(e){t.Destroy()},[27])}}).Show()})}},{name:"Open Local Drafts",action:function(e){var t=new Date,p=function(e){e=(t-e)/1e3>>0;return e<=59?e+" second"+(t=1<e?"s":"")+" ago":60<=e&&e<=3599?(e=Math.floor(e/60))+" minute"+(1<e?"s":"")+" ago":3600<=e&&e<=86399?(e=Math.floor(e/3600))+" hour"+(1<e?"s":"")+" ago":86400<=e&&e<=2592030?(e=Math.floor(e/86400))+" day"+(1<e?"s":"")+" ago":2592031<=e?(e=Math.floor(e/2592e3))+" month"+(1<e?"s":"")+" ago":void 0},n=function(e){e.ListSessions(function(e){var a,t="";if(0===e.length)t+="No drafts found...";else for(var n=0;n<e.length;++n){var r=e[n],i=new Date(r.created),s=i.getMonth()+1+"/"+i.getDate()+"/"+i.getFullYear()+"  "+i.getHours()+":"+i.getMinutes()+":"+i.getSeconds(),i=p(i),o=r.name||"-",l=r.durr,c=r.thumb,u=1===r.chans?"mono":"stereo";t+='<div id="pk_'+r.id+'" class="pk_lcldrf"><div style="padding-bottom:2px"><span><i class="pk_i">name:</i>'+o+'</span></div><div><span class="pk_lcls"><i class="pk_i">id:</i><strong>'+r.id+'</strong><br/><i class="pk_i">chn:</i>'+u+'</span><span class="pk_lcls" style="width:50%;text-align:center"><i class="pk_i">date:</i><span>'+s+"<br/>"+i+'</span></span><span style="text-align:right;float:right" class="pk_lcls"><i class="pk_i">durr:</i>'+l+'s</span></div><div><img class="pk_lcli" src="'+c+'" /><a class="pk_lcla2" onclick="PKAudioEditor.fireEvent(\'LoadDraft\',\''+r.id+"', 3);\">PLAY</a><a class=\"pk_lcla\" onclick=\"PKAudioEditor.fireEvent('LoadDraft','"+r.id+"');\">Open</a>",_.engine.is_ready&&(t+="<a onclick=\"PKAudioEditor.fireEvent('LoadDraft','"+r.id+'\',1);" class="pk_lcla">Append to Current Track</a>'),t=t+('<a class="pk_lcla" style="color:#ad2b2b" onclick="PKAudioEditor.fireEvent(\'LoadDraft\',\''+r.id+"',2);\">Del</a>")+"</div></div>"}function f(e,t){2!==t&&3!==t&&(a.Destroy(),a=null)}function d(e,t){var n;t?(t=document.getElementById("pk_"+e))&&(n=t.getElementsByClassName("pk_lcla2")[0])&&n.classList.add("pk_act"):(n=a.el_body.getElementsByClassName("pk_act")[0])&&n.classList.remove("pk_act")}_.listenFor("_lclStart",d),(a=new PKSimpleModal({title:"Local Drafts",clss:"pk_bigger",ondestroy:function(e){_.fireEvent("_lclStop"),_.ui.InteractionHandler.on=!1,_.ui.KeyHandler.removeCallback("modalTempErr"),_.stopListeningFor("LoadDraft",f),_.stopListeningFor("_lclStart",d)},buttons:[],body:"<div>"+t+"</div>",setup:function(t){_.fireEvent("RequestPause"),_.fireEvent("RequestRegionClear"),_.listenFor("LoadDraft",f),_.ui.InteractionHandler.checkAndSet("modal"),_.ui.KeyHandler.addCallback("modalTempErr",function(e){t.Destroy()},[27])}})).Show()}),_.stopListeningFor("DidOpenDB",n)};_.listenFor("DidOpenDB",n),_.fls.on?_.fireEvent("DidOpenDB",_.fls):_.fls.Init(function(e){e&&alert("db error")})},setup:function(){var c={};_.listenFor("_lclStop",function(e,t){c.src&&(c.src.stop(),c.src.disconnect(),c.src.onended=null,c.aud.close&&c.aud.close(),c={})}),_.listenFor("LoadDraft",function(o,l){_.fls.Init(function(e){if(!e)if(2===l)c.id===o&&(_.fireEvent("_lclStart",c.id,0),c.src.stop(),c.src.disconnect(),c.src.onended=null,c.aud.close&&c.aud.close(),c={}),_.fls.DelSession(o,function(e){e=document.getElementById("pk_"+e);e&&(1===e.parentNode.children.length?e.parentNode.innerHTML="No drafts found...":e.parentNode.removeChild(e))});else if(3===l){if(c.id){e=!1;if(c.id===o&&(e=!0),_.fireEvent("_lclStart",c.id,0),c.src.stop(),c.src.disconnect(),c.src.onended=null,c.aud.close&&c.aud.close(),c={},e)return}var t=new(z.AudioContext||z.webkitAudioContext);t&&"suspended"==t.state&&t.resume&&t.resume(),_.fls.GetSession(o,function(e){e&&e.id===o&&(c.id=e.id,c.aud=t,c.src=_.engine.PlayBuff(e.data,e.chans,e.samplerate,t),c.src?(c.src.onended=function(e){_.fireEvent("_lclStart",c.id,0),c.src.stop(),c.src.disconnect(),c.src.onended=null,c.aud.close&&c.aud.close(),c={}},_.fireEvent("_lclStart",e.id,1)):(c.aud&&c.aud.close&&c.aud.close(),c={}))})}else{a=o,r=l;var n,a,r,i,s=function(){n.fls.GetSession(a,function(e){e&&e.id===a&&(n.engine.wavesurfer.backend._add=r?1:0,n.engine.LoadDB(e))})};(n=_).engine.is_ready&&!l?(i=new PKSimpleModal({title:"Open in Existing?",body:"<div>Open in new window, or in the current one?</div>",buttons:[{title:"OPEN",clss:"pk_modal_a_accpt",callback:function(e){s(),e.Destroy()}},{title:"OPEN IN NEW",clss:"pk_modal_a_accpt",callback:function(e){window.open(window.location.pathname+"?local="+o),e.Destroy()}}],setup:function(t){_.ui.InteractionHandler.checkAndSet("mm"),_.ui.KeyHandler.addCallback("mmErr",function(e){t.Destroy()},[27])},ondestroy:function(e){s=null,_.ui.InteractionHandler.on=!1,_.ui.KeyHandler.removeCallback("mmErr")}}),setTimeout(function(){i.Show()},0)):s()}})})}}]},{name:"Edit",children:[{name:'Undo <span class="pk_shrtct">Shft+Z</span>',clss:"pk_inact",action:function(){_.fireEvent("StateRequestUndo")},setup:function(n){_.listenFor("DidStateChange",function(e,t){0===e.length?(n.innerHTML='Undo <span class="pk_shrtct">Shft+Z</span>',n.classList.add("pk_inact")):(n.innerHTML='Undo&nbsp;<i style="pointer-events:none">'+e[e.length-1].desc+'</i><span class="pk_shrtct">Shft+Z</span>',n.classList.remove("pk_inact"))})}},{name:'Redo <span class="pk_shrtct">Shft+Y</span>',clss:"pk_inact",action:function(){_.fireEvent("StateRequestRedo")},setup:function(n){_.listenFor("DidStateChange",function(e,t){0===t.length?(n.innerHTML='Redo <span class="pk_shrtct">Shft+Y</span>',n.classList.add("pk_inact")):(n.innerHTML='Redo&nbsp;<i style="pointer-events:none">'+t[0].desc+'</i><span class="pk_shrtct">Shft+Y</span>',n.classList.remove("pk_inact"))})}},{name:'Play <span class="pk_shrtct">Space</span>',action:function(){_.fireEvent("RequestPlay")}},{name:"Stop",action:function(){_.fireEvent("RequestStop")}},{name:'Select All <span class="pk_shrtct">Shft+A</span>',action:function(){_.fireEvent("RequestSelect")}},{name:'Deselect All <span class="pk_shrtct">~</span>',action:function(){_.fireEvent("RequestDeselect")}},{name:"Channel Info/Flip",action:function(){_.fireEvent("RequestActionFXUI_Flip")},clss:"pk_inact",setup:function(e){_.listenFor("DidUnloadFile",function(){e.classList.add("pk_inact")}),_.listenFor("DidLoadFile",function(){e.classList.remove("pk_inact")})}}]},{name:"Effects",children:[{name:"Gain",action:function(){_.fireEvent("RequestFXUI_Gain")}},{name:"Fade In",action:function(){_.fireEvent("RequestActionFX_FadeIn")}},{name:"Fade Out",action:function(){_.fireEvent("RequestActionFX_FadeOut")}},{name:"Noise Reduction (Voice)",action:function(){_.fireEvent("RequestActionFX_NoiseRNN")}},{name:"Paragraphic EQ",action:function(){_.fireEvent("RequestActionFXUI_ParaGraphicEQ")}},{name:"Compressor",action:function(){_.fireEvent("RequestActionFXUI_Compressor")}},{name:"Normalize",action:function(){_.fireEvent("RequestActionFXUI_Normalize")}},{name:"Graphic EQ",action:function(){_.fireEvent("RequestActionFXUI_GraphicEQ",10)}},{name:"Graphic EQ (20 bands)",action:function(){_.fireEvent("RequestActionFXUI_GraphicEQ",20)}},{name:"Hard Limiter",action:function(){_.fireEvent("RequestActionFXUI_HardLimiter")}},{name:"Delay",action:function(){_.fireEvent("RequestActionFXUI_Delay")}},{name:"Distortion",action:function(){_.fireEvent("RequestActionFXUI_Distortion")}},{name:"Reverb",action:function(){_.fireEvent("RequestActionFXUI_Reverb")}},{name:"Speed Up / Slow Down (pitch)",action:function(){_.fireEvent("RequestActionFXUI_Speed")}},{name:"Playback Rate",action:function(){_.fireEvent("RequestActionFXUI_Rate")}},{name:"Reverse",action:function(){_.fireEvent("RequestActionFX_Reverse")}},{name:"Invert",action:function(){_.fireEvent("RequestActionFX_Invert")}},{name:"Remove Silence",action:function(){_.fireEvent("RequestActionFX_RemSil")}}]},{name:"View",children:[{name:"Follow Cursor  &#10004;",action:function(e){_.fireEvent("RequestViewFollowCursorToggle")},setup:function(n){_.listenFor("DidViewFollowCursorToggle",function(e){var t="Follow Cursor";e?n.innerHTML=t+" &#10004;":n.textContent=t})}},{name:"Peak Separators &#10004;",action:function(e){_.fireEvent("RequestViewPeakSeparatorToggle")},setup:function(n){_.listenFor("DidViewPeakSeparatorToggle",function(e){var t="Peak Separators";e?n.innerHTML=t+" &#10004;":n.textContent=t})}},{name:"Timeline &#10004;",action:function(e){_.fireEvent("RequestViewTimelineToggle")},setup:function(n){_.listenFor("DidViewTimelineToggle",function(e){var t="Timeline";e?n.innerHTML=t+" &#10004;":n.textContent=t})}},{name:"---"},{name:"Frequency Analyser",action:function(e){_.fireEvent("RequestShowFreqAn","eq",[1])},setup:function(n){_.listenFor("DidToggleFreqAn",function(e,t){"eq"===e&&(e="Frequency Analyser",t?n.innerHTML=e+" &#10004;":n.textContent=e)})}},{name:"Spectrum Analyser",action:function(e){_.fireEvent("RequestShowFreqAn","sp",[1])},setup:function(n){_.listenFor("DidToggleFreqAn",function(e,t){"sp"===e&&(e="Spectrum Analyser",t?n.innerHTML=e+" &#10004;":n.textContent=e)})}},{name:"Tempo Tools",action:function(e){_.fireEvent("RequestActionTempo")}},{name:"ID3 Tags",action:function(e){_.fireEvent("RequestActionID3")}},{name:"---"},{name:'Center to Cursor <span class="pk_shrtct">[Tab]</span>',action:function(e){_.fireEvent("RequestViewCenterToCursor")}},{name:'Reset Zoom <span class="pk_shrtct">[0]</span>',action:function(e){_.fireEvent("RequestZoomUI",0)}}]},{name:"Help",children:[{name:"Store Offline Version",action:function(){function e(e){confirm("Would you like to refresh the page to load the newer version?")&&window.location.reload()}0<window.location.href.indexOf("-cache")?(window.applicationCache.onupdateready=e,window.applicationCache.ondownloading=function(e){OneUp("Downloading newer version",1500)},window.applicationCache.status===window.applicationCache.UPDATEREADY&&e(),window.applicationCache.update()):new PKSimpleModal({title:"Open Offline Version?",ondestroy:function(e){_.ui.InteractionHandler.on=!1,_.ui.KeyHandler.removeCallback("modalTempErr")},buttons:[{title:"OPEN",callback:function(e){window.open("/index-cache.html"),e.Destroy()}}],body:"<p>This will open a new window that will try to store a local version in your browser</p>",setup:function(t){_.fireEvent("RequestPause"),_.fireEvent("RequestRegionClear"),_.ui.InteractionHandler.checkAndSet("modal"),_.ui.KeyHandler.addCallback("modalTempErr",function(e){t.Destroy()},[27])}}).Show()},setup:function(e){0<window.location.href.indexOf("-cache")&&(e.innerHTML="Update Offline Version")}},{name:"---"},{name:"About",action:function(){window.open("/about.html")}},{name:"See Welcome Message",action:function(){PKAudioEditor._deps.Wlc()}},{name:"SourceCode on Github",action:function(){window.open("https://github.com/pkalogiros/audiomass")}}]}]),this),this.Toolbar=new c(this),this.footer=new i(this,a),this.BarBtm=new r(this,a),this.Dock=function(e,t,n){a.fireEvent(e,t,n)},a.listenFor("ShowError",function(e){new PKSimpleModal({title:"Oops! Something is not right",clss:"pk_modal_anim",ondestroy:function(e){a.ui.InteractionHandler.on=!1,a.ui.KeyHandler.removeCallback("modalTempErr")},buttons:[],body:"<p>"+e+"</p>",setup:function(t){a.fireEvent("RequestPause"),a.fireEvent("RequestRegionClear"),a.ui.InteractionHandler.checkAndSet("modal"),a.ui.KeyHandler.addCallback("modalTempErr",function(e){t.Destroy()},[27])}}).Show()}),a.listenFor("RequestKeyDown",function(e){t.KeyHandler.keyDown(e,null),t.KeyHandler.keyUp(e)})}})(window,document),((e,u)=>{var f=0;function n(e){var t=this,n=(this.id=e.id||++f,u.createElement("div")),a=(this.els={toolbar:[],bottom:[]},n.className="pk_modal "+(e.clss||""),t.el=n,u.createElement("div")),a=(a.className="pk_modal_back",this.el_back=a,u.createElement("div")),r=(a.className="pk_modal_cnt",this.el_cont=a,u.createElement("div")),a=(r.className="pk_noselect pk_modal_title",r.innerHTML="<span>"+(e.title||"")+"</span>",n.appendChild(r),this.el_title=r,u.createElement("div")),i=(a.className="pk_modal_main",n.appendChild(a),this.el_body=a,u.createElement("div")),a=(i.className="pk_noselect pk_modal_bottom",u.createElement("a"));if(a.innerHTML="CANCEL",a.className="pk_modal_cancel pk_modal_a_bottom",a.onclick=function(){t.Destroy()},i.appendChild(a),e.buttons&&0<e.buttons.length)for(var s,o=0;o<e.buttons.length;++o)(l=e.buttons[o]).title&&l.callback&&((s=u.createElement("a")).innerHTML=l.title,s.className="pk_modal_a_bottom "+(l.clss||""),l.callback&&(e=>{s.onclick=function(){e(t)}})(l.callback),t.els.bottom.push(s),i.appendChild(s));if(n.appendChild(i),e.toolbar&&0<e.toolbar.length)for(var l,c,o=0;o<e.toolbar.length;++o)(l=e.toolbar[o]).title&&l.callback&&((c=u.createElement("a")).innerHTML=l.title,c.className="pk_modal_a_top "+(l.clss||""),r.appendChild(c),l.callback&&(e=>{c.onclick=function(){e(t,this)}})(l.callback),t.els.toolbar.push(c));this.ondestroy=e.ondestroy,e.body&&(t.el_body.innerHTML=e.body),e.onpreset&&(this.onpreset=e.onpreset),e.setup&&e.setup(this)}n.prototype.Show=function(){return this.el_back.appendChild(this.el_cont),this.el_cont.appendChild(this.el),u.body.appendChild(this.el_back),this},n.prototype.Destroy=function(){this.ondestroy&&(this.ondestroy(this),this.ondestroy=null),this.els=null,u.body.removeChild(this.el_back)},e.PKSimpleModal=n,e.PKAudioFXModal=function(t,f){var e=null;return t.preview&&(e=[{title:"ON",clss:"pk_inact",callback:function(e,t){f.fireEvent("RequestActionFX_TOGGLE")}},{title:"Preview",callback:function(e){t.preview&&t.preview(e)}}]),new n({id:t.id,title:t.title,clss:t.clss,presets:t.presets,updateFilter:t.updateFilter,ondestroy:function(e){f.fireEvent("DidCloseFX_UI"),f.stopListeningFor("DidStartPreview",e._evstart),f.stopListeningFor("DidStopPreview",e._evstop),f.stopListeningFor("DidTogglePreview",e._evtoggle),f.stopListeningFor("DidSetPresets",e._updatePresets),f.stopListeningFor("RequestActionFX_UPDATE_PREVIEW",e._updpreview),f.stopListeningFor("RequestSetPresetActive",e._updpreset),f.fireEvent("RequestActionFX_PREVIEW_STOP"),f.ui.KeyHandler.removeCallback("ksp"+e.id),t.ondestroy&&t.ondestroy(e)},toolbar:e,buttons:t.buttons,body:t.body,onpreset:t.onpreset,setup:function(u){f.fireEvent("RequestActionFX_TOGGLE",1);var r=this;f.ui.KeyHandler.addCallback("ksp"+u.id,function(e,t){if(f.ui.InteractionHandler.check("modalfx")){var n=r.toolbar;if(n&&0<n.length)for(var a=n.length;0<a--;)if("Preview"===n[a].title){n[a].callback(u);break}}},[32]),u._evstart=function(){u.els.toolbar[0].classList.remove("pk_inact"),u.els.toolbar[1].classList.add("pk_act")},u._evstop=function(){u.els.toolbar[0].classList.add("pk_inact"),u.els.toolbar[1].classList.remove("pk_act")},u._evtoggle=function(e){var t=u.els.toolbar[0];t.innerHTML=e?"ON":"OFF"};u._updpreview=function(e){var t=u.el_presets.options[u.el_presets.selectedIndex],n=u.el.getElementsByClassName("pk_sel_edt")[0];"t"===e?t&&t.getAttribute("data-custom")?(n.style.visibility="visible",n.style.opacity="1",f.stopListeningFor("RequestActionFX_UPDATE_PREVIEW",u._updpreview)):(n.style.visibility="hidden",n.style.opacity="0",f.stopListeningFor("RequestActionFX_UPDATE_PREVIEW",u._updpreview),setTimeout(function(){f.listenFor("RequestActionFX_UPDATE_PREVIEW",u._updpreview)},100),0):(n.style.visibility="visible",n.style.opacity="1",f.stopListeningFor("RequestActionFX_UPDATE_PREVIEW",u._updpreview))},u._updpreset=function(e,t){if(!e||e===u.id)for(var n=u.el_presets.getElementsByTagName("option"),a=n.length,r=null;0<a--;)if((r=n[a]).getAttribute("data-custom")===t){r.selected="selected";break}},u._updatePresets=function(e,t){if(!e||e===u.id){var n=document;if(0<(a=u.el.getElementsByClassName("pk_sel")).length){for(var a,r=(a=a[0]).getElementsByTagName("option"),i=r.length,s=null;0<i--;)(s=r[i]).getAttribute("data-custom")&&a.removeChild(s);if(0!==t.length){(l=n.createElement("option")).setAttribute("disabled","1"),l.setAttribute("data-custom","1"),l.innerHTML="----custom-----",a.appendChild(l);for(var o=0;o<t.length;++o){var l=n.createElement("option"),s=t[o];l.value=s.val,l.setAttribute("data-custom",s.id),l.innerHTML=s.name,a.appendChild(l)}}}else if((a=n.createElement("select")).className="pk_sel",0!==t.length){for(o=-1;o<t.length;++o){l=n.createElement("option");-1===o?(l.value="null",l.innerHTML="Presets"):(s=t[o],l.value=s.val,l.innerHTML=s.name),a.appendChild(l)}a.onchange=function(){var e=this.value.split(","),t=u.el.getElementsByTagName("input");if(u._updpreview("t"),u.onpreset)u.onpreset(this.value);else for(var n=t.length,a=0;a<n&&e[a];++a){var r=e[a].trim(),i=t[a];"null"!==r&&("checkbox"===i.type||"radio"===i.type?i.checked=r:(i.value=r,i.oninput&&i.oninput.apply(i)))}};var e=u.el.getElementsByClassName("pk_modal_bottom")[0],c=(e.appendChild(a),u.el_presets=a,n.createElement("a"));c.className="pk_sel_edt",c.innerHTML="...<span>Save or Modify preset</span>",c.onclick=function(){f.fireEvent("RequestSavePreset")},e.appendChild(c),f.listenFor("RequestActionFX_UPDATE_PREVIEW",u._updpreview),f.listenFor("RequestSetPresetActive",u._updpreset)}}},f.listenFor("DidStartPreview",u._evstart),f.listenFor("DidStopPreview",u._evstop),f.listenFor("DidTogglePreview",u._evtoggle),f.fireEvent("DidOpenFX_UI",u),t.updateFilter&&(u.updateFilter=t.updateFilter),t.presets&&(u._updatePresets(null,t.presets),t.custom_pres&&u._updatePresets(null,t.custom_pres),f.listenFor("DidSetPresets",u._updatePresets)),t.setup&&t.setup(u)}})}})(window,document),PKAudioEditor._deps.state=function(t,n){t=t||1;var a=this,r=1,i=n.fireEvent,e=n.listenFor,s=[],o=[];a.getLastUndoState=function(){return s[s.length-1]},a.pushUndoState=function(e){return!!e&&(e.id||(e.id=++r),s.length>=t&&s.shift(),0<s.length&&s[s.length-1].id!==e.id-1&&(s=[]),0<o.length&&o[0].id!==e.id+1&&(o=[]),s.push(e),i("StatePush",s.length),i("DidStateChange",s,o),!0)},a.popUndoState=function(){var e,t=s.pop();return t&&(0<o.length&&o[0].id!==t.id+1&&(o=[]),e=n.engine.wavesurfer.backend.buffer,i("StateDidPop",t,1),t.data=e,o.unshift(t),i("DidStateChange",s,o)),t},a.shiftRedoState=function(){var e,t=o.shift();return t&&(0<s.length&&s[s.length-1].id!==t.id-1&&(s=[]),e=n.engine.wavesurfer.backend.buffer,i("StateDidPop",t,0),t.data=e,s.push(t),i("DidStateChange",s,o)),t},a.clearAllState=function(){s=[],o=[],i("StateClearAll"),i("DidStateChange",[],[])},e("StateRequestPush",function(e){a.pushUndoState(e)}),e("StateRequestUndo",function(){a.popUndoState()}),e("StateRequestRedo",function(){a.shiftRedoState()}),e("StateRequestClearAll",function(){a.clearAllState()}),e("StateRequestLastState",function(){i("StateDidLastState",a.getLastUndoState())})},((u,f)=>{PKAudioEditor._deps.engine=function(w){function t(e){var t=c-e.clientX;w.fireEvent("RequestPan",t),c=e.clientX}var e,E=this,R=WaveSurfer.create({container:"#pk_av_"+w.id,scrollParent:!1,hideScrollbar:!0,partialRender:!1,fillParent:!1,pixelRatio:1,progressColor:"rgba(128,85,85,0.24)",splitChannels:!0,autoCenter:!0,height:u.innerHeight-168,plugins:[WaveSurfer.regions.create({dragSelection:{slop:5}})]}),C=(this.wavesurfer=R,new w._deps.audioutils(w,R)),n=(E.is_ready=!1,this.TrimTo=function(e,t){t={0:1,1:10,2:100,3:1e3,4:1e4,5:1e5}[t];return(e*t>>0)/t},this.LoadArrayBuffer=function(e){function t(){w.listenFor("RequestCancelModal",function(){R.cancelBufferLoad(),R.arraybuffer&&(E.is_ready=!0),w.fireEvent("RequestResize"),setTimeout(function(){w.fireEvent("DidDownloadFile")},12),w.stopListeningForName("RequestCancelModal"),OneUp("Canceled Loading",1350)}),w.fireEvent("RequestZoomUI",0),w.fireEvent("WillDownloadFile"),E.is_ready=!1,R.loadBlob(e),w.fireEvent("DidUnloadFile"),R.regions&&R.regions.clear()}E.is_ready?new PKSimpleModal({title:"Open or append",clss:"pk_modal_anim pk_fnt10",ondestroy:function(e){w.ui.InteractionHandler.on=!1,w.ui.KeyHandler.removeCallback("modalTempErr")},buttons:[{title:"OPEN NEW",callback:function(e){R.backend._add=0,t(),e.Destroy()}},{title:"ADD IN EXISTING",callback:function(e){R.backend._add=1,t(),e.Destroy()}}],body:"<p>Append file to existing track?</p>",setup:function(t){w.ui.InteractionHandler.checkAndSet("modal"),w.ui.KeyHandler.addCallback("modalTempErr",function(e){t.Destroy()},[27])}}).Show():(R.backend._add=0,t())},this.LoadDB=function(e){for(var t=R.backend.ac.createBuffer(e.data.length,e.data[0].byteLength/4,e.samplerate),n=0;n<e.data.length;++n){var a=new Float32Array(e.data[n]);t.copyToChannel?t.copyToChannel(a,n,0):t.getChannelData(n).set(a)}var r=R.backend._add,i=R.getDuration(),s=(PKAudioEditor.engine.wavesurfer.loadDecodedBuffer(t),o(),R.getDuration());w.fireEvent("DidUpdateLen",s),r?(R.regions.clear(),R.regions.add({start:i,end:s,id:"t"})):w.fireEvent("RequestSeekTo",0)},this.LoadFile=function(e){var t;0<e.files.length&&("audio/mp3"!=e.files[0].type&&"audio/wave"!=e.files[0].type&&"audio/mpeg"!=e.files[0].type&&"audio/aiff"!=e.files[0].type&&"audio/flac"!=e.files[0].type&&"audio/ogg"!=e.files[0].type||(t=function(){w.listenFor("RequestCancelModal",function(){R.cancelBufferLoad(),C.DownloadFileCancel(),R.arraybuffer&&(E.is_ready=!0),w.fireEvent("RequestResize"),setTimeout(function(){w.fireEvent("DidDownloadFile")},12),w.stopListeningForName("RequestCancelModal"),OneUp("Canceled Loading",1350)}),w.fireEvent("WillDownloadFile"),E.is_ready=!1,R.loadBlob(e.files[0]),w.fireEvent("DidUnloadFile"),R.regions&&R.regions.clear()},E.is_ready?new PKSimpleModal({title:"Open or append",clss:"pk_modal_anim pk_fnt10",ondestroy:function(e){w.ui.InteractionHandler.on=!1,w.ui.KeyHandler.removeCallback("modalTempErr")},buttons:[{title:"OPEN NEW",callback:function(e){R.backend._add=0,t(),e.Destroy()}},{title:"ADD IN EXISTING",callback:function(e){R.backend._add=1,t(),e.Destroy()}}],body:"<p>Append file to existing track?</p>",setup:function(t){w.ui.InteractionHandler.checkAndSet("modal"),w.ui.KeyHandler.addCallback("modalTempErr",function(e){t.Destroy()},[27])}}).Show():(R.backend._add=0,t())))},this.DownloadFile=function(e,t,n,a,r){E.is_ready&&(w.fireEvent("WillDownloadFile"),w.listenFor("RequestCancelModal",function(){C.DownloadFileCancel(),R.arraybuffer&&(E.is_ready=!0),w.fireEvent("RequestResize"),setTimeout(function(){w.fireEvent("DidDownloadFile")},12),w.stopListeningForName("RequestCancelModal")}),setTimeout(function(){C.DownloadFile(e,t,n,a,r,function(e){"done"===e?(setTimeout(function(){w.fireEvent("DidDownloadFile")},12),w.stopListeningForName("RequestCancelModal")):w.fireEvent("DidProgressModal",e)})},220))},this.LoadSample=function(){w.fireEvent("WillDownloadFile"),setTimeout(function(){w.listenFor("RequestCancelModal",function(){R.cancelAjax()&&(R.arraybuffer&&(E.is_ready=!0),w.fireEvent("RequestResize"),setTimeout(function(){w.fireEvent("DidDownloadFile")},12),w.stopListeningForName("RequestCancelModal"),OneUp("Canceled Loading",1380))}),w.fireEvent("RequestZoomUI",0),E.is_ready=!1,R.load("test.mp3")},180)},this.LoadURL=function(e){w.fireEvent("WillDownloadFile"),setTimeout(function(){w.listenFor("RequestCancelModal",function(){R.cancelAjax()&&(R.arraybuffer&&(E.is_ready=!0),w.fireEvent("RequestResize"),setTimeout(function(){w.fireEvent("DidDownloadFile")},12),w.stopListeningForName("RequestCancelModal"),OneUp("Canceled Loading",1350))}),R.load(e),E.is_ready=!1},180)},w.listenFor("RequestResize",function(){R.fireEvent("resize");var e=window.innerHeight,t=0;w.ui&&w.ui.BarBtm&&(t=w.ui.BarBtm.on?w.ui.BarBtm.height:0),R.setHeight((e<280?280:e)-168-t)}),R.on("ready",function(){var e;w.fireEvent("DidReadyFire"),R.backend._add&&(R.backend._add=0),E.is_ready||(E.is_ready=!0,0<(e=document.getElementsByClassName("pk_tmpMsg")).length&&(e=e[0]).parentNode.removeChild(e),i=null,w.fireEvent("DidDownloadFile"),w.fireEvent("StateRequestClearAll"),w.fireEvent("DidLoadFile"),w.fireEvent("DidUpdateLen",R.getDuration()),w.fireEvent("DidSetClipboard",0),w.fireEvent("RequestSeekTo",0),w.fireEvent("RequestResize"),R.getWaveEl().style.opacity="1",w.stopListeningForName("RequestCancelModal"),setTimeout(function(){OneUp("Loaded Successfully")},180),1===R.backend.buffer.numberOfChannels?(R.backend.SetNumberOfChannels(1),R.ActiveChannels=[1],R.drawer.params.ActiveChannels=R.ActiveChannels,R.SelectedChannelsLen=1,w.el.classList.add("pk_mono")):2===R.backend.buffer.numberOfChannels&&(R.backend.SetNumberOfChannels(2),R.ActiveChannels=[1,1],R.drawer.params.ActiveChannels=R.ActiveChannels,R.SelectedChannelsLen=2,w.el.classList.remove("pk_mono")))}),R.on("pause",function(){w.fireEvent("DidStopPlay")}),R.on("play",function(){w.fireEvent("DidPlay")}),R.on("seek",function(e,t){var n=R.getCurrentTime(),a=R.getLoudness();w.fireEvent("DidAudioProcess",[n,a,t])}),w.listenFor("RequestStop",function(e){if(w.rec.isActive())return w.fireEvent("RequestActionRecordStop"),!1;var t=R.regions.list[0];t&&(R.ActiveMarker=t.start/R.getDuration()),R.stop(e)}),w.listenFor("RequestPlay",function(e){E.in_fx||(w.fireEvent("RequestActionRecordStop"),!e&&R.isPlaying()?(R.stop(),R.play()):w.rec.isActive()?setTimeout(function(){w.rec.isActive()||e||R.isPlaying()||R.play()},220):R.play())}),w.listenFor("RequestPause",function(){w.fireEvent("RequestActionRecordStop"),R.pause()}),w.listenFor("RequestSetLoop",function(){var e,t;E.is_ready&&(e=!1,R.regions.list[0]?R.regions.list[0].loop?R.regions.list[0].loop=!1:R.regions.list[0].loop=!0:(e=!0,R.regions.add({start:.01,end:R.getDuration()-.01,id:"t"}),R.regions.list[0].loop=!0),t=R.regions.list[0].loop,w.fireEvent("DidSetLoop",t),t)&&!e&&w.fireEvent("RequestSeekTo",R.regions.list[0].start/R.getDuration())}),w.listenFor("RequestSkipBack",function(e){R.skipBackward(e)}),w.listenFor("RequestSkipFront",function(e){R.skipForward(e)}),w.listenFor("RequestSeekTo",function(e){1<e||R.seekTo(e)}),w.ui.KeyHandler.addCallback("zkA",function(e,t,n){n.preventDefault()},[38]),w.ui.KeyHandler.addCallback("zkD",function(e,t,n){n.preventDefault()},[40]),w.ui.KeyHandler.addSingleCallback("KeyPlayPause",function(e){w.ui.InteractionHandler.on||e.preventDefault()},32),w.ui.KeyHandler.addSingleCallback("KeyTilda",function(e){w.ui.TopHeader.getOpenElement()?(w.ui.TopHeader.closeMenu(),e.preventDefault()):w.ui.InteractionHandler.on||(e.preventDefault(),w.ui.TopHeader.openMenu(-1))},96),w.ui.KeyHandler.addSingleCallback("KeyQ",function(e){w.ui.InteractionHandler.on||(e.preventDefault(),w.fireEvent("RequestDeselect"))},113),w.ui.KeyHandler.addCallback("kF12",function(e,t,n){n.preventDefault(),n.stopPropagation()},[123]),w.ui.KeyHandler.addCallback("KeyShiftSpace"+w.id,function(e){w.ui.InteractionHandler.on||R.playPause()},[16,32]),w.ui.KeyHandler.addCallback("KeySpace"+w.id,function(e,t){w.ui.InteractionHandler.on||1!==t[16]&&(PKAudioEditor.engine.wavesurfer.isPlaying()?w.fireEvent("RequestStop"):w.fireEvent("RequestPlay"))},[32]),w.ui.KeyHandler.addCallback("KeyShiftCopy"+w.id,function(e){w.ui.InteractionHandler.on||w.fireEvent("RequestActionCopy")},[16,67]),w.ui.KeyHandler.addCallback("KeyShiftUndo"+w.id,function(e){w.ui.InteractionHandler.on||w.fireEvent("StateRequestUndo")},[16,90]),w.ui.KeyHandler.addCallback("KeyShiftRedo"+w.id,function(e){w.ui.InteractionHandler.on||w.fireEvent("StateRequestRedo")},[16,89]),w.ui.KeyHandler.addCallback("KeyShiftPaste"+w.id,function(e){w.ui.InteractionHandler.on||w.fireEvent("RequestActionPaste")},[16,86]),w.ui.KeyHandler.addCallback("KeyShiftCut"+w.id,function(e){w.ui.InteractionHandler.on||w.fireEvent("RequestActionCut",1)},[16,88]),w.ui.KeyHandler.addCallback("KeyDel"+w.id,function(e){w.ui.InteractionHandler.on||w.fireEvent("RequestActionCut")},[8]),w.ui.KeyHandler.addCallback("KeyShiftSelectAll"+w.id,function(e){w.ui.InteractionHandler.on||w.fireEvent("RequestSelect")},[16,65]),w.ui.KeyHandler.addSingleCallback("KeyLoopToggle",function(e){w.ui.InteractionHandler.on||(e.preventDefault(),e.stopPropagation(),w.fireEvent("RequestSetLoop"))},108),w.ui.KeyHandler.addCallback("KeyShiftSave"+w.id,function(e){w.ui.InteractionHandler.on||document.querySelector('.pk_opt[data-id="dl"]').click()},[16,83]),R.container.addEventListener("mousedown",function(e){3===e.which&&e.preventDefault()},!1),w.listenFor("RequestSelect",function(e,t){if(E.is_ready){if(e)if(R.regions.list[0])return!1;t?(R.regions.add({start:t[0],end:t[1],id:"t"}),R.isPlaying()||setTimeout(function(){w.fireEvent("RequestSeekTo",t[0]/R.getDuration())},0)):(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),R.isPlaying()||setTimeout(function(){w.fireEvent("RequestSeekTo",0)},0))}}),w.listenFor("RequestDeselect",function(){R.regions.clear(),w.fireEvent("RequestSeekTo",0)}),e=null,w.listenFor("RequestLoadLocalFile",function(){R.pause(),e&&(e.parentNode.removeChild(e),e.onchange=null),(e=f.createElement("input")).setAttribute("type","file"),e.setAttribute("accept","audio/*"),e.className="pk_inpfile",e.onchange=function(){E.LoadFile(e),e.parentNode.removeChild(e),e.onchange=null,e=null},w.el.appendChild(e),e.click()}),R.container.addEventListener("dblclick",function(e){w.fireEvent("RequestSelect",!1,[R.LeftProgress,R.LeftProgress+R.VisibleDuration])},!1),R.container.addEventListener("click",function(e){!E.is_ready||w.ui.KeyHandler.keyMap[16]||R.regions.clear()},!1),null),i=(u.addEventListener("resize",function(){R&&(n&&clearTimeout(n),n=setTimeout(function(){w.fireEvent("RequestResize"),w.isMobile&&window.scrollTo(0,200)},84))},!1),u.addEventListener("beforeunload",function(e){w.fireEvent("WillUnload")}),R.on("error",function(e){setTimeout(function(){w.fireEvent("DidDownloadFile"),E.is_ready=!1},20),w.fireEvent("ShowError",e)}),R.on("audioprocess",function(e,t){var n=R.getLoudness();w.fireEvent("DidAudioProcess",[e,n,t],R.backend.FreqArr)}),R.on("DidZoom",function(e){w.fireEvent("DidZoom",[R.ZoomFactor,R.LeftProgress/R.getDuration()*100,R.params.verticalZoom],e)}),R.on("region-removed",function(){w.fireEvent("DidSetLoop",0),w.fireEvent("DidDestroyRegion")}),w.listenFor("RequestRegionClear",function(){R.regions.clear()}),w.listenFor("RequestRegionSet",function(e,t){E.is_ready&&(e=e||+R.LeftProgress,t=t||+(R.LeftProgress+R.VisibleDuration),R.regions.clear(),R.regions.add({start:e,end:t,id:"t"}))}),null),a=(this.GetCopyBuff=function(){return i},this.GetSel=function(){var e,t=R.regions.list[0];return!!t&&(e=E.TrimTo(t.start,3),t=E.TrimTo(t.end-t.start,3),C.Copy(e,t))},this.PlayBuff=function(e,t,n,a){a=a||new(u.AudioContext||u.webkitAudioContext);if(a){for(var r=e[0].byteLength/4,i=a.createBuffer(t,r,n),s=0;s<t;++s)i.getChannelData(s).set(new Float32Array(e[s]));r=a.createBufferSource();return r.buffer=i,r.connect(a.destination),r.start(0),r}},this.GetFX=function(e,t){return C.FXBank[e](t)},this.GetWave=function(e,t,n,a,r,i,s){for(var o=e.getChannelData(0),l=e.sampleRate,c=[],u=t||200,t=n||80,f=t/2,d=u,p=a||0,_=((r||e.duration*l>>0)-p)/u>>0,m=0,h=0,b=0;b<d;++b){var v=p+_*b,m=0,h=0;if(0<=v)for(var g=0;g<_;g+=3)o[v+g]>m?m=o[v+g]:o[v+g]<h&&(h=o[v+g]);c[2*b]=m,c[2*b+1]=h}var n=i,k=s;n||((n=document.createElement("canvas")).width=u,n.height=t,k=n.getContext("2d",{alpha:!1,antialias:!1})),k.fillStyle="#000",k.fillRect(0,0,u,t),k.fillStyle="#99c2c6",k.beginPath(),k.moveTo(0,f);for(b=0;b<u;++b){var A=c[2*b],y=Math.round(A*f);k.lineTo(b,f-y)}for(b=u-1;0<=b;--b){A=c[2*b+1],y=Math.round(A*f);k.lineTo(b,f-y)}return k.closePath(),k.fill(),n.toDataURL("image/jpeg",.56)},w.listenFor("RequestActionCut",function(e){if(E.is_ready){var t=R.regions.list[0];if(!t)return!1;w.fireEvent("RequestPause");var n=E.TrimTo(t.start,3),t=E.TrimTo(t.end-t.start,3),a=(w.fireEvent("StateRequestPush",{desc:e?"Cut":"Delete",meta:[n,t],data:R.backend.buffer}),C.Trim(n,t)),r=(R.regions.clear(),n-.03);w.fireEvent("RequestSeekTo",(r=r<0?0:r)/R.getDuration()),e?(i=a,w.fireEvent("DidSetClipboard",1),w.fireEvent("DidCut",a),OneUp("Cut :: "+E.TrimTo(n,2)+" to "+E.TrimTo(+n+ +t,2),1100)):OneUp("Delete :: "+E.TrimTo(n,2)+" to "+E.TrimTo(+n+ +t,2),1100)}}),w.listenFor("RequestActionCopy",function(){if(E.is_ready){var e=R.regions.list[0];if(!e)return!1;w.fireEvent("RequestPause");var t=E.TrimTo(e.start,3),e=E.TrimTo(e.end-e.start,3),t=C.Copy(t,e);i=t,w.fireEvent("DidSetClipboard",1),w.fireEvent("DidCopy",t),OneUp("Copied range")}}),w.listenFor("RequestActionSilence",function(e,t){var n,a;E.is_ready&&(w.fireEvent("RequestPause"),R.regions.list[0],n=[0,0],a=t=!t||t<0?1:t,w.fireEvent("StateRequestPush",{desc:"Silence",meta:[e,a],data:R.backend.buffer}),n=C.Insert(e,C.MakeSilence(t)),R.regions.clear(),R.regions.add({start:n[0],end:n[1],id:"t"}),w.fireEvent("RequestSeekTo",n[0]/R.getDuration()),OneUp("Inserted Silence"))}),w.listenFor("RequestActionPaste",function(){if(E.is_ready){if(!i)return!1;w.fireEvent("RequestPause");var e,t=R.regions.list[0],n=[0,0],n=t?(a(e=E.TrimTo(t.start,3),t=E.TrimTo(t.end-t.start,3)),C.Replace(e,t,i)):(a(e=E.TrimTo(R.getCurrentTime(),3)),C.Insert(e,i)),t=(R.regions.clear(),R.regions.add({start:n[0],end:n[1],id:"t"}),0);1e-4<R.getDuration()&&(t=n[0]/R.getDuration()),w.fireEvent("RequestSeekTo",t),OneUp("Paste to "+n[0].toFixed(2),982)}function a(e,t){w.fireEvent("StateRequestPush",{desc:"Paste",meta:[e,t],data:R.backend.buffer})}}),!1),o=(w.listenFor("RequestActionRecordToggle",function(){E.is_ready?w.rec.isActive()?w.fireEvent("RequestActionRecordStop"):a||(a=!0,setTimeout(function(){w.fireEvent("RequestActionRecordStart"),setTimeout(function(){a=!1},50)},26)):w.fireEvent("RequestActionNewRec")}),w.listenFor("RequestActionRecordStop",function(){if(E.is_ready)return!!w.rec.isActive()&&void w.rec.stop()}),w.listenFor("RequestActionRecordStart",function(){if(E.is_ready){if(w.fireEvent("RequestPause"),w.rec.isActive())return!1;var e=R.getCurrentTime()*R.backend.buffer.sampleRate,e=(w.rec.start(e,function(e,t){var n;w.fireEvent("DidActionRecordStop",!!t),t&&(w.fireEvent("StateRequestPush",{desc:"Record Audio",meta:[e,n],data:R.backend.buffer}),n=C.ReplaceFloatArrays(e,t),R.regions.clear(),R.regions.add({start:n[0],end:n[1],id:"t"}),w.fireEvent("RequestSeekTo",n[0]/R.getDuration()),OneUp("Recorded Audio "+n[0].toFixed(2),982))},function(){w.fireEvent("DidActionRecordStart")}),R.regions.list[0]);e?w.rec.setEndingOffset(e.end*R.backend.buffer.sampleRate):w.rec.setEndingOffset(R.getDuration()*R.backend.buffer.sampleRate)}}),w.listenFor("RequestActionFX_PREVIEW_HardLimit",function(e){var t,n;E.is_ready&&(C.previewing?(C.FXPreviewStop(),w.fireEvent("DidStopPreview")):((n=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),t=E.TrimTo(n.start,3),n=E.TrimTo(n.end-n.start,3),C.FXPreview(t,n,C.FXBank.HardLimit(e)),w.fireEvent("DidStartPreview")))}),w.listenFor("RequestActionFX_HardLimit",function(e){var t,n;E.is_ready&&(w.fireEvent("RequestPause"),(n=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),t=E.TrimTo(n.start,3),n=E.TrimTo(n.end-n.start,3),w.fireEvent("StateRequestPush",{desc:"Apply Hard Limit (fx)",meta:[t,n],data:R.backend.buffer}),C.FX(t,n,C.FXBank.HardLimit(e)),OneUp("Applied Hard Limit (fx)"))}),w.listenFor("RequestActionFX_PARAMEQ",function(e){var t,n;E.is_ready&&(w.fireEvent("RequestPause"),(n=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),t=E.TrimTo(n.start,3),n=E.TrimTo(n.end-n.start,3),w.fireEvent("StateRequestPush",{desc:"Apply Parametric EQ (fx)",meta:[t,n],data:R.backend.buffer}),C.FX(t,n,C.FXBank.ParametricEQ(e)),OneUp("Applied Parametric EQ (fx)"))}),w.listenFor("RequestActionFX_PREVIEW_PARAMEQ",function(e){var t,n;E.is_ready&&e&&(C.previewing?(C.FXPreviewStop(),w.fireEvent("DidStopPreview")):((n=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),t=E.TrimTo(n.start,3),n=E.TrimTo(n.end-n.start,3),C.FXPreview(t,n,C.FXBank.ParametricEQ(e)),w.fireEvent("DidStartPreview")))}),w.listenFor("RequestActionFX_PREVIEW_DISTORT",function(e){var t,n;E.is_ready&&(C.previewing?(C.FXPreviewStop(),w.fireEvent("DidStopPreview")):((n=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),t=E.TrimTo(n.start,3),n=E.TrimTo(n.end-n.start,3),C.FXPreview(t,n,C.FXBank.Distortion(e)),w.fireEvent("DidStartPreview")))}),w.listenFor("RequestActionFX_DISTORT",function(e){var t,n;E.is_ready&&(w.fireEvent("RequestPause"),(n=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),t=E.TrimTo(n.start,3),n=E.TrimTo(n.end-n.start,3),w.fireEvent("StateRequestPush",{desc:"Apply Distortion (fx)",meta:[t,n],data:R.backend.buffer}),C.FX(t,n,C.FXBank.Distortion(e)),OneUp("Applied Distortion (fx)"))}),w.listenFor("RequestActionFX_PREVIEW_DELAY",function(e){var t,n;E.is_ready&&(C.previewing?(C.FXPreviewStop(),w.fireEvent("DidStopPreview")):((n=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),t=E.TrimTo(n.start,3),n=E.TrimTo(n.end-n.start,3),C.FXPreview(t,n,C.FXBank.Delay(e)),w.fireEvent("DidStartPreview")))}),w.listenFor("RequestActionFX_DELAY",function(e){var t,n;E.is_ready&&(w.fireEvent("RequestPause"),(n=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),t=E.TrimTo(n.start,3),n=E.TrimTo(n.end-n.start,3),w.fireEvent("StateRequestPush",{desc:"Apply Delay (fx)",meta:[t,n],data:R.backend.buffer}),C.FX(t,n,C.FXBank.Delay(e)),OneUp("Applied Delay (fx)"))}),w.listenFor("RequestActionFX_PREVIEW_REVERB",function(e){var t,n;E.is_ready&&(C.previewing?(C.FXPreviewStop(),w.fireEvent("DidStopPreview")):((n=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),t=E.TrimTo(n.start,3),n=E.TrimTo(n.end-n.start,3),C.FXPreview(t,n,C.FXBank.Reverb(e)),w.fireEvent("DidStartPreview")))}),w.listenFor("RequestActionFX_REVERB",function(e){var t,n;E.is_ready&&(w.fireEvent("RequestPause"),(n=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),t=E.TrimTo(n.start,3),n=E.TrimTo(n.end-n.start,3),w.fireEvent("StateRequestPush",{desc:"Apply Reverb (fx)",meta:[t,n],data:R.backend.buffer}),C.FX(t,n,C.FXBank.Reverb(e)),OneUp("Applied Reverb (fx)"))}),w.listenFor("RequestActionFX_PREVIEW_COMPRESSOR",function(e){var t,n;E.is_ready&&(C.previewing?(C.FXPreviewStop(),w.fireEvent("DidStopPreview")):((n=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),t=E.TrimTo(n.start,3),n=E.TrimTo(n.end-n.start,3),C.FXPreview(t,n,C.FXBank.Compressor(e)),w.fireEvent("DidStartPreview")))}),w.listenFor("RequestActionFX_Compressor",function(e){var t,n;E.is_ready&&(w.fireEvent("RequestPause"),(n=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),t=E.TrimTo(n.start,3),n=E.TrimTo(n.end-n.start,3),w.fireEvent("StateRequestPush",{desc:"Apply Compressor (fx)",meta:[t,n],data:R.backend.buffer}),C.FX(t,n,C.FXBank.Compressor(e)),OneUp("Applied Compressor (fx)"))}),w.listenFor("RequestActionFX_Normalize",function(e){var t,n;E.is_ready&&(w.fireEvent("RequestPause"),(n=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),t=E.TrimTo(n.start,3),n=E.TrimTo(n.end-n.start,3),w.fireEvent("StateRequestPush",{desc:"Normalize ",meta:[t,n],data:R.backend.buffer}),C.FX(t,n,C.FXBank.Normalize(e)),OneUp("Applied Normalize"))}),w.listenFor("RequestActionFX_Invert",function(e){var t,n;E.is_ready&&(w.fireEvent("RequestPause"),(n=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),t=E.TrimTo(n.start,3),n=E.TrimTo(n.end-n.start,3),w.fireEvent("StateRequestPush",{desc:"Invert ",meta:[t,n],data:R.backend.buffer}),C.FX(t,n,C.FXBank.Invert()),OneUp("Applied Invert"))}),w.listenFor("RequestActionFX_RemSil",function(e){if(E.is_ready){w.fireEvent("RequestPause");for(var t,n=R.regions.list[0],a=(n||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),E.TrimTo(n.start,3)),r=E.TrimTo(n.end-n.start,3),i=(n=a,t=r,w.fireEvent("StateRequestPush",{desc:"Remove Silence ",meta:[n,t],data:R.backend.buffer}),R.backend.buffer),s=[],o=210,l=0,c=0,a=0,r=0,u=!1,f=0;f<1;++f){for(var d=i.getChannelData(f),p=0;p<d.length;++p)Math.abs(d[p])<368e-6?(0===l&&(a=500<p?p-500:p),++l>o&&(r=p,u=!(c=0))):u?56<++c?(s.push([a,r]),p+=500,u=!1,c=r=a=l=0):r=p:(u=!1,c=r=a=l=0);u&&s.push([a,r])}if(0<s.length){for(var _=0,f=0;f<s.length;++f)_+=s[f][1]-s[f][0];for(var m=R.backend.ac.createBuffer(i.numberOfChannels,i.length-_,i.sampleRate),f=0;f<i.numberOfChannels;++f)for(var d=i.getChannelData(f),h=m.getChannelData(f),o=0,b=0,v=s[b],g=v[0],k=v[1],A=0,p=0;p<h.length;++p){if(g<(A=p+o)&&A<k){if(A<g+500){var y=(500-(A-g))/500;h[p]=d[A]*y,h[p]+=(1-y)*d[p+(o+(k-g))];continue}o+=k-g,(v=s[++b])&&(g=v[0],k=v[1]),A=p+o}h[p]=d[A]}C.FullReplace(m)}setTimeout(function(){R.drawBuffer()},40),OneUp("Applied :: Remove Silence")}}),function(){var e=R.backend.buffer.numberOfChannels;1===e?(R.ActiveChannels=[1],w.el.classList.add("pk_mono")):(R.ActiveChannels=[1,1],w.el.classList.remove("pk_mono")),R.drawer.params.ActiveChannels=R.ActiveChannels,R.SelectedChannelsLen=e}),r=(w.listenFor("RequestActionFX_Flip",function(e,t){var n,a,r;function i(e,t,n,a){w.fireEvent("StateRequestPush",{desc:n,meta:[e,t],data:R.backend.buffer,cb:a})}E.is_ready&&(w.fireEvent("RequestPause"),n=R.getDuration(),"flip"===e?(i(0,n,"Flip Channels"),C.FX(0,n,C.FXBank.Flip(e))):"stereo"===e?(i(0,n,"Make Stereo",function(){o()}),a=R.backend.buffer,(r=R.backend.ac.createBuffer(2,a.length,a.sampleRate)).getChannelData(0).set(a.getChannelData(0)),r.getChannelData(1).set(a.getChannelData(0)),C.FullReplace(r),R.regions.clear(),R.regions.add({start:0,end:n,id:"t"}),o(),w.fireEvent("RequestSeekTo",0)):"mono"===e&&(i(0,n,"Make Mono",function(){o()}),a=R.backend.buffer,(r=R.backend.ac.createBuffer(1,a.length,a.sampleRate)).getChannelData(0).set(a.getChannelData(t)),C.FullReplace(r),R.regions.clear(),R.regions.add({start:0,end:n,id:"t"}),o(),w.fireEvent("RequestSeekTo",0)),OneUp("Applied Channel Change: "+e))}),w.listenFor("RequestActionFX_Reverse",function(e){var t,n;E.is_ready&&(w.fireEvent("RequestPause"),(n=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),t=E.TrimTo(n.start,3),n=E.TrimTo(n.end-n.start,3),w.fireEvent("StateRequestPush",{desc:"Reverse ",meta:[t,n],data:R.backend.buffer}),C.FX(t,n,C.FXBank.Reverse()),OneUp("Applied Reverse"))}),!1),s=(w.listenFor("RequestActionFX_NoiseRNN",function(e){var t,o=R;E.is_ready&&(w.fireEvent("RequestPause"),t=function(){(n=o.regions.list[0])||(o.regions.add({start:0,end:+o.getDuration(),id:"t"}),n=o.regions.list[0]);var e=E.TrimTo(n.start,3),t=E.TrimTo(n.end-n.start,3),n=n.end-n.start;n=E.TrimTo(n,3),w.fireEvent("StateRequestPush",{desc:"Apply Noise RNN (fx)",meta:[e,t],data:o.backend.buffer});for(var a=C.Copy(e,t),r=0;r<a.numberOfChannels;r++){var i=a.getChannelData(r),s=wasm_denoise_stream_perf(i);i.set(s)}C.Replace(e,t,a),w.fireEvent("RequestSeekTo",e/o.getDuration()),R.regions.clear(),o.regions.add({start:e,end:e+n,id:"t"}),OneUp("Applied Noise RNN (fx)")},r?t():((e=document.createElement("script")).src="rnn_denoise.js",e.onload=function(){r=!0;var e=function(){window.Module&&window.Module.asm&&window.Module.asm.malloc?t():setTimeout(function(){e()},350)};setTimeout(function(){e()},100)},e.onerror=function(){alert("Could not download noise Reduction script")},document.head.appendChild(e)))}),w.listenFor("RequestActionFX_FadeIn",function(e){var t,n;E.is_ready&&(w.fireEvent("RequestPause"),(n=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),t=E.TrimTo(n.start,3),n=E.TrimTo(n.end-n.start,3),w.fireEvent("StateRequestPush",{desc:"Apply Fade In (fx)",meta:[t,n],data:R.backend.buffer}),C.FX(t,n,C.FXBank.FadeIn()),OneUp("Applied Fade In (fx)"))}),w.listenFor("RequestActionFX_FadeOut",function(e){var t,n;E.is_ready&&(w.fireEvent("RequestPause"),(n=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),t=E.TrimTo(n.start,3),n=E.TrimTo(n.end-n.start,3),w.fireEvent("StateRequestPush",{desc:"Apply Fade Out (fx)",meta:[t,n],data:R.backend.buffer}),C.FX(t,n,C.FXBank.FadeOut()),OneUp("Applied Fade Out (fx)"))}),null),l=(w.listenFor("RequestActionFX_UPDATE_PREVIEW",function(e){C.previewing&&(clearTimeout(s),s=setTimeout(function(){C.FXPreviewUpdate(e)},44))}),w.listenFor("RequestActionFX_TOGGLE",function(e){e?C.FXPreviewInit(!0):w.fireEvent("DidTogglePreview",C.FXPreviewToggle())}),w.listenFor("RequestActionFX_PREVIEW_STOP",function(){C.FXPreviewStop(),w.fireEvent("DidStopPreview")}),w.listenFor("RequestActionFX_PREVIEW_GAIN",function(e){var t,n;E.is_ready&&(C.previewing?(C.FXPreviewStop(),w.fireEvent("DidStopPreview")):((n=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),t=E.TrimTo(n.start,3),n=E.TrimTo(n.end-n.start,3),C.FXPreview(t,n,C.FXBank.Gain(e)),w.fireEvent("DidStartPreview")))}),w.listenFor("RequestActionFX_GAIN",function(e){var t,n;E.is_ready&&(w.fireEvent("RequestPause"),(n=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),t=E.TrimTo(n.start,3),n=E.TrimTo(n.end-n.start,3),w.fireEvent("StateRequestPush",{desc:"Apply Gain (fx)",meta:[t,n],data:R.backend.buffer}),C.FX(t,n,C.FXBank.Gain(e)),OneUp("Applied Gain (fx)"))}),w.listenFor("RequestActionFX_PREVIEW_SPEED",function(e){var t,n;E.is_ready&&(C.previewing?(C.FXPreviewStop(),w.fireEvent("DidStopPreview")):((n=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),t=E.TrimTo(n.start,3),n=E.TrimTo(n.end-n.start,3),C.FXPreview(t,n,C.FXBank.Speed(e)),w.fireEvent("DidStartPreview")))}),w.listenFor("RequestActionFX_RATE",function(e){if(E.is_ready){w.fireEvent("RequestPause");var t,n=R.regions.list[0],a=(n||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),n=R.regions.list[0]),E.TrimTo(n.start,3)),r=E.TrimTo(n.end-n.start,3),i=(n.end-n.start)/e,i=E.TrimTo(i,3),s=(w.fireEvent("StateRequestPush",{desc:"Apply Rate (fx)",meta:[a,r],data:R.backend.buffer}),C.Copy(a,r)),n=R.backend.buffer,e=(n.sampleRate,+i*n.sampleRate>>0),n=e/(+r*n.sampleRate>>0),o=(o=R.SelectedChannelsLen,t=s.sampleRate,new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(o,e,t)),l=[],c=((t,e,n)=>{var a=t.numberOfChannels,r=[t.getChannelData(0)];for(let e=1;e<a;++e)r.push(t.getChannelData(e));let i=.05;var s=.025*n,o=(1<n&&(i=s/.5),Math.floor(i*e)),l=Math.floor(.025*e),c=Math.floor(s*e),u=new Float32Array(o);for(let e=0;e<o;e++)u[e]=.5*(1-Math.cos(2*Math.PI*e/(o-1)));var f=Math.floor((r[0].length-o)/l),d=c*f+o,p=[new Float32Array(d)];for(let e=1;e<a;++e)p.push(new Float32Array(d));let _=0,m=0;for(let e=0;e<f;++e){for(let t=0;t<o;++t)for(let e=0;e<a;++e)p[e][m+t]+=r[e][_+t]*u[t];_+=l,m+=c}return p})(s,s.sampleRate,n),u=o.createBuffer(c.length,c[0].length,s.sampleRate);for(let e=0;e<c.length;++e)u.copyToChannel(c[e],e);var f=o.createBufferSource(),d=(f.buffer=u,f.connect(o.destination),f.start(),E.in_fx=!0,w.ui.InteractionHandler.on=!0,function(e){if(C.Replace(a,r,e),R.regions.clear(),R.regions.add({start:a,end:a+i,id:"t"}),w.fireEvent("RequestSeekTo",a/R.getDuration()),OneUp("Applied Rate (fx)"),0<l.length)for(var t=0;t<l.length;++t)l[t].disconnect();else l&&l.disconnect&&l.disconnect();e=s=l=null,f.disconnect(),E.in_fx=!1,w.ui.InteractionHandler.on=!1}),e=o.startRendering();e?e.then(d).catch(function(e){console.log("Rendering failed: "+e)}):o.oncomplete=function(e){d(e.renderedBuffer)}}}),w.listenFor("RequestActionFX_PREVIEW_RATE",function(e){var t,n,a;E.is_ready&&(C.previewing?(C.FXPreviewStop(),w.fireEvent("DidStopPreview")):((a=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),a=R.regions.list[0]),t=E.TrimTo(a.start,3),n=E.TrimTo(a.end-a.start,3),a=(a.end-a.start)/e,(e=R.backend.buffer).sampleRate,C.FXPreview(t,n,C.FXBank.Rate((a*e.sampleRate>>0)/(+n*e.sampleRate>>0))),w.fireEvent("DidStartPreview")))}),w.listenFor("RequestActionFX_SPEED",function(e){var n,a,r,i,t,s,o,l,c,u;E.is_ready&&(w.fireEvent("RequestPause"),(s=R.regions.list[0])||(R.regions.add({start:0,end:+R.getDuration(),id:"t"}),s=R.regions.list[0]),n=E.TrimTo(s.start,3),a=E.TrimTo(s.end-s.start,3),r=(s.end-s.start)/e,r=E.TrimTo(r,3),w.fireEvent("StateRequestPush",{desc:"Apply Speed (fx)",meta:[n,a],data:R.backend.buffer}),i=C.Copy(n,a),s=R.backend.buffer,s.sampleRate,u=+r*s.sampleRate>>0,E.in_fx=!0,w.ui.InteractionHandler.on=!0,e=C.FXBank.Speed(e),t=R.SelectedChannelsLen,s=s.sampleRate,t=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(t,u,s),(o=t.createBufferSource()).buffer=i,l=e.filter(t,t.destination,o,r),o.start(),c=function(e){if(C.Replace(n,a,e),R.regions.clear(),R.regions.add({start:n,end:n+r,id:"t"}),w.fireEvent("RequestSeekTo",n/R.getDuration()),OneUp("Applied Speed (fx)"),0<l.length)for(var t=0;t<l.length;++t)l[t].disconnect();else l&&l.disconnect&&l.disconnect();e=i=l=null,o.disconnect(),E.in_fx=!1,w.ui.InteractionHandler.on=!1},(u=t.startRendering())?u.then(c).catch(function(e){console.log("Rendering failed: "+e)}):t.oncomplete=function(e){c(e.renderedBuffer)})}),w.listenFor("StateDidPop",function(e,t){var n;E.is_ready&&(w.fireEvent("RequestPause"),R.regions.clear(),R.loadDecodedBuffer(e.data),e.cb&&e.cb(),n=R.getDuration(),w.fireEvent("DidUpdateLen",n),e.meta&&0<e.meta.length&&(e.meta[1]?R.regions.add({start:+e.meta[0],end:+e.meta[0]+ +e.meta[1],id:"t"}):w.fireEvent("RequestSeekTo",e.meta[0]/(n=n||1e-4))),t?OneUp("Undo "+e.desc):OneUp("Redo "+e.desc))}),w.listenFor("RequestChanToggle",function(e,t){var n,a;return!(!E.is_ready||R.ActiveChannels.length<=e)&&(a=-1,void((n=R.ActiveChannels[e])!==(a=t||(1===n?0:1))&&(0===(R.ActiveChannels[e]=a)?(--R.SelectedChannelsLen,0===e?R.backend.gainNode2.gain.value=0:R.backend.gainNode1.gain.value=0):(++R.SelectedChannelsLen,0===e?R.backend.gainNode2.gain.value=1:R.backend.gainNode1.gain.value=1),R.ForceDraw(),w.fireEvent("DidChanToggle",e,a))))}),R.on("region-updated",function(){R.regions.list[0]&&w.fireEvent("DidCreateRegion",R.regions.list[0])}),R.on("region-update-end",function(){w.fireEvent("DidCreateRegion",R.regions.list[0]);var e=R.regions.list[0].start;R.isPlaying()||w.fireEvent("RequestSeekTo",e/R.getDuration())}),R.on("cursorcenter",function(e){w.fireEvent("DidCursorCenter",e,R.ZoomFactor)}),R.drawer.canvases[0].wave.parentNode),c=0;w.listenFor("RequestZoom",function(e,t){var n=R;if(e*=n.ZoomFactor,-1===t){var a=(s=n.drawer.width)-s/n.ZoomFactor;if((o=n.ZoomFactor-1)<=0)return;var r=n.ZoomFactor,i=(n.ZoomFactor+=e*o/a,n.ZoomFactor<1&&(n.ZoomFactor=1),n.getDuration()/n.ZoomFactor);if(i<=.5)return void(n.ZoomFactor=r);n.VisibleDuration=i;r=n.VisibleDuration*(e/n.drawer.width);n.LeftProgress+=r,n.LeftProgress+n.VisibleDuration>=n.getDuration()?n.LeftProgress=n.getDuration()-n.VisibleDuration:n.LeftProgress<0&&(n.LeftProgress=0)}else if(1===t){var s,o,a=(s=n.drawer.width)-s/n.ZoomFactor;if((o=n.ZoomFactor-1)<=0)return;i=n.ZoomFactor,r=(n.ZoomFactor-=e*o/a,n.ZoomFactor<1&&(n.ZoomFactor=1),n.getDuration()/n.ZoomFactor);if(r+n.LeftProgress>n.getDuration())n.ZoomFactor=i;else{if(r<=.5)return void(n.ZoomFactor=i);n.VisibleDuration=r}}n.ForceDraw(),w.fireEvent("DidZoom",[R.ZoomFactor,R.LeftProgress/R.getDuration()*100,R.params.verticalZoom])}),w.listenFor("RequestPan",function(e,t){var n,a=R;if(1===t)e*=a.ZoomFactor;else if(2===t)return n=a.getDuration()*(e/a.drawer.width),a.LeftProgress=n,a.ForceDraw(),void w.fireEvent("DidZoom",[R.ZoomFactor,R.LeftProgress/R.getDuration()*100,R.params.verticalZoom]);0<a.ZoomFactor&&(n=a.VisibleDuration*(e/a.drawer.width),a.LeftProgress+=n,a.LeftProgress+a.VisibleDuration>=a.getDuration()?a.LeftProgress=a.getDuration()-a.VisibleDuration:a.LeftProgress<0&&(a.LeftProgress=0),a.ForceDraw(),w.fireEvent("DidZoom",[R.ZoomFactor,R.LeftProgress/R.getDuration()*100,R.params.verticalZoom]))}),l.addEventListener("mousedown",function(e){if(3===e.which)return e.preventDefault(),R.Interacting|=2,c=e.clientX,l.className="pk_grabbing",document.addEventListener("mousemove",t,!1),!1;w.fireEvent("MouseDown"),w.fireEvent("RequestChanToggle",0,1),w.fireEvent("RequestChanToggle",1,1)},!1),l.addEventListener("mouseleave",function(e){document.removeEventListener("mousemove",t),""!==l.className&&(l.className="",setTimeout(function(){R.Interacting&=-3},20))},!1),l.addEventListener("mouseup",function(e){3===e.which&&(""!==l.className&&(l.className="",setTimeout(function(){R.Interacting&=-3},20)),document.removeEventListener("mousemove",t))},!1),w.fireEvent("RequestResize"),w.listenFor("RequestViewFollowCursorToggle",function(){var e=!R.FollowCursor;(R.FollowCursor=e)&&E.is_ready&&R.CursorCenter(),w.fireEvent("DidViewFollowCursorToggle",e)}),w.listenFor("RequestViewPeakSeparatorToggle",function(){var e;E.is_ready&&(e=!R.params.limits,R.params.limits=e,R.ForceDraw(),w.fireEvent("DidViewPeakSeparatorToggle",e))}),w.listenFor("RequestViewTimelineToggle",function(){var e;E.is_ready&&(e=!R.params.timeline,R.params.timeline=e,R.ForceDraw(),w.fireEvent("DidViewTimelineToggle",e))}),w.listenFor("RequestViewCenterToCursor",function(){E.is_ready&&R.CursorCenter()}),w.listenFor("RequestZoomUI",function(e,t){E.is_ready&&(0===e?R.ResetZoom():("h"===e&&R.SetZoom(.5,t),"v"===e&&R.SetZoomVertical(t)))}),this.ID3=function(e){var t=null,n=new Uint8Array(e);return n.length<64?w.fireEvent("RequestActionID3",1,t):(73===n[0]&&68===n[1]&&51===n[2]?t=ID3v2.ReadTags(e):102===n[4]&&116===n[5]&&121===n[6]&&112===n[7]&&77===n[8]&&52===n[9]&&(t=ID4.ReadTags(e)),w.fireEvent("RequestActionID3",1,t)),t}}})(window,document),PKAudioEditor._deps.audioutils=function(f,h){var d=h.backend.analyser,n=h.backend.ac,s=n.createScriptProcessor(256);function p(e){h.loadDecodedBuffer(e),f.fireEvent("DidUpdateLen",h.getDuration())}function _(e,t){for(var n=h.backend.buffer,a=+t*n.sampleRate>>0,r=+e*n.sampleRate>>0,i=h.backend.ac.createBuffer(h.SelectedChannelsLen,a,n.sampleRate),s=0,o=0;s<h.ActiveChannels.length;++s)0!==h.ActiveChannels[s]&&(i.getChannelData(o).set(n.getChannelData(s).slice(r,a+r)),++o);return i}function a(e,t,n){var a=h.backend.buffer,r=+t*a.sampleRate>>0,i=+e*a.sampleRate>>0,s=h.backend.ac.createBuffer(n?a.numberOfChannels:h.SelectedChannelsLen,r,a.sampleRate),o=null;if(!n&&h.SelectedChannelsLen<a.numberOfChannels)for(var o=h.backend.ac.createBuffer(a.numberOfChannels,a.length,a.sampleRate),l=0;l<a.numberOfChannels;++l){var c=a.getChannelData(l),u=o.getChannelData(l);0===h.ActiveChannels[l]?u.set(c):((f=s.getChannelData(0)).set(c.slice(i,i+r)),u.set(c.slice(0,i)),u.set(c.slice(i+r),i+r))}else{o=h.backend.ac.createBuffer(a.numberOfChannels,a.length-r,a.sampleRate);for(l=0;l<a.numberOfChannels;++l){var c=a.getChannelData(l),f=s.getChannelData(l),u=o.getChannelData(l);f.set(c.slice(i,i+r)),u.set(c.slice(0,i)),u.set(c.slice(i+r),i)}}return p(o),s}function r(e,t){var n=h.backend.buffer,a=h.backend.ac.createBuffer(n.numberOfChannels,n.length+t.length,n.sampleRate);e=+e*n.sampleRate>>0;for(var r=0;r<n.numberOfChannels;++r){var i=n.getChannelData(r),s=a.getChannelData(r),o=null,o=1===t.numberOfChannels?t.getChannelData(0):t.getChannelData(r);1===h.SelectedChannelsLen&&0===h.ActiveChannels[r]?s.set(i):(0<e&&s.set(i.slice(0,e)),s.set(o,e),e<n.length+t.length&&s.set(i.slice(e),e+o.length))}return p(a),[e/n.sampleRate,e/n.sampleRate+t.length/n.sampleRate]}function o(e){if(this.previewing){if(e&&e.destroy&&e.destroy(),this.PreviewFilter)if(0<this.PreviewFilter.length)for(var t=0;t<this.PreviewFilter.length;++t)this.PreviewFilter[t].disconnect();else this.PreviewFilter.disconnect();s.disconnect(),h.backend.scriptNode.connect(n.destination),this.PreviewSource.stop(),this.PreviewSource.disconnect(),this.PreviewDestination=this.PreviewSource=this.PreviewFilter=this.PreviewUpdate=null,this.previewing=0}}function m(){return this.previewing?2===this.previewing?(this.PreviewTog&&this.PreviewTog(!1,this.PreviewSource),this.PreviewSource.disconnect(),this.PreviewSource.connect(this.PreviewDestination),this.previewing=1,this.previewVal=!1):(this.PreviewSource.disconnect(),this.PreviewFilter&&(0<this.PreviewFilter.length?this.PreviewFilter[0].buffer||this.PreviewSource.connect(this.PreviewFilter[0]):(this.PreviewFilter.buffer||this.PreviewSource.connect(this.PreviewFilter),this.PreviewFilter.disconnect(),this.PreviewFilter.connect(this.PreviewDestination))),this.PreviewTog&&this.PreviewTog(!0,this.PreviewSource),this.previewing=2,this.previewVal=!0):(this.previewVal=!this.previewVal,this.previewVal)}var b=null,e={Gain:function(l){return{filter:function(e,t,n,a){for(var r=e.createGain(),i=0;i<l.length;++i){var s=l[i];if(s.length)for(var o=0;o<s.length;++o)r.gain.linearRampToValueAtTime(s[o].val,e.currentTime+s[o].time);else r.gain.setValueAtTime(s.val,e.currentTime)}return r.connect(t),n.connect(r),r},update:function(e,t,n){for(var a=0;a<n.length;++a){var r=n[a];if(r.length)for(var i=0;i<r.length;++i)e.gain.linearRampToValueAtTime(r[i].val,t.currentTime+r[i].time);else e.gain.setValueAtTime(r.val,t.currentTime)}}}},FadeIn:function(e){return{filter:function(e,t,n,a){var r=e.createGain();return r.gain.setValueAtTime(0,e.currentTime),r.gain.linearRampToValueAtTime(1,e.currentTime+ +a),r.connect(t),n.connect(r),r}}},FadeOut:function(e){return{filter:function(e,t,n,a){var r=e.createGain();return r.gain.setValueAtTime(1,e.currentTime),r.gain.linearRampToValueAtTime(0,e.currentTime+ +a),r.connect(t),n.connect(r),r}}},Compressor:function(l){return{filter:function(e,t,n,a){var r,i=e.createDynamicsCompressor();for(r in l)if(l[r].length)for(var s=0;s<l[r].length;++s){var o=l[r][s];i[r].linearRampToValueAtTime(o.val,e.currentTime+o.time)}else i[r].setValueAtTime(l[r].val,e.currentTime);return i.connect(t),n.connect(i),i},update:function(e,t,n){for(var a in n)if(n[a].length)for(var r=0;r<n[a].length;++r){var i=n[a][r];e[a].linearRampToValueAtTime(i.val,t.currentTime+i.time)}else e[a].setValueAtTime(n[a].val,t.currentTime)}}},Reverse:function(e){return{filter:function(e,t,n,a){for(var r=0;r<n.buffer.numberOfChannels;++r)Array.prototype.reverse.call(n.buffer.getChannelData(r));return n.connect(t),n},update:function(){}}},Invert:function(e){return{filter:function(e,t,n,a){for(var r=0;r<n.buffer.numberOfChannels;++r)for(var i=n.buffer.getChannelData(r),s=0;s<i.length;++s)i[s]*=-1;return n.connect(t),n},update:function(){}}},Flip:function(l,e){return{filter:function(e,t,n,a){if("flip"===l)for(var r,i=n.buffer.getChannelData(0),s=n.buffer.getChannelData(1),o=0;o<i.length;++o)r=i[o],i[o]=s[o],s[o]=r;return n.connect(t),n},update:function(){}}},Normalize:function(p){return{filter:function(e,t,n,a){for(var r=p[1]||1,i=p[0],s=0,o=0;o<n.buffer.numberOfChannels;++o){for(var l=1,c=(d=n.buffer.getChannelData(o)).length;l<c;l+=10){var u=Math.abs(d[l]);s<u&&(s=u)}var f=r/s;if(!i){for(l=0,c=d.length;l<c;++l)d[l]*=f;s=0}}if(i)for(f=r/s,o=0;o<n.buffer.numberOfChannels;++o)for(var d,l=0,c=(d=n.buffer.getChannelData(o)).length;l<c;++l)d[l]*=f;return n.connect(t),n},update:function(){}}},HardLimit:function(g){return{filter:function(e,t,n,a){for(var r=g[1]||1,i=g[2]||0,s=g[3]||15,o=0,l=e.createBuffer(n.buffer.numberOfChannels,n.buffer.length,n.buffer.sampleRate),s=s*l.sampleRate/1e3>>0,c=0;c<l.numberOfChannels;++c){var u=l.getChannelData(c);u.set(n.buffer.getChannelData(c));for(var f=0,d=u.length;f<d;++f){for(var p=0;p<s;p+=10){var _=Math.abs(u[f+p]);o<_&&(o=_)}for(var m=r/o,p=0;p<s;++p){var h=u[f+p],b=h*m,v=r-Math.abs(b);v*=h<0?-i:i,u[f+p]=b+v}f+=s,o=0}}e=e.createBufferSource();return e.buffer=l,e.loop=!0,e.start(),e.connect(t),e},update:function(e,t,n,a){e.disconnect(),e.buffer=null,e=null;e=this.FXBank.HardLimit(n);this.PreviewFilter=e.filter(t,d,a,0)}}},ParametricEQ:function(c){return{filter:function(a,e,t,n){function r(e){var t=a.createBiquadFilter();if(e.length){for(var n=0;n<e.length;++n)t.gain.linearRampToValueAtTime(~~e[n].val,a.currentTime+e[n].time);e=e[0]}else t.gain.value=~~e.val;return t.type=e.type,t.Q.value=e.q||1,t.frequency.value=e.freq,t}var i=[],s=c.length,o=(c[0]||(c[0]={type:"peaking",val:0,q:1,freq:500}),r(c[0]));if(i.push(o),t.connect(o),1!==c.length){for(var l=1;l<s-1;++l)o=r(c[l]),i[l-1].connect(o),i.push(o);o=r(c[s-1]),i[i.length-1].connect(o),i.push(o)}return o.connect(e),i},update:function(e,t,n,a){if(e.length!==n.length)if(e.length<n.length){for(var r=n.length-e.length;0<r--;){var i=t.createBiquadFilter(),s=e[0];e.unshift(i),i.connect(s)}a.disconnect(),a.connect(e[0])}else if(0<n.length){r=e.length-n.length;a.disconnect();for(var o=0;o<r;++o)(i=e.shift()).disconnect();a.connect(e[0])}else n[0]={type:"peaking",val:0,q:1,freq:500};for(var l=n.length,o=0;o<l;++o)(i=e[o]).type=n[o].type,i.gain.value=~~n[o].val,i.Q.value=n[o].q||1,i.frequency.value=n[o].freq}}},Rate:function(A){var g,y=[];return{filter:function(e,t,n,a){let r=n.buffer,i=A,s=.05;var o=.025*i,l=(1<i&&(s=o/.5),e),c=e.currentTime,u=0,f=[];for(let e=0;e<r.duration;e+=.025){var d=e,p=u*o;if(d+s>r.duration)break;var _=l.createBufferSource(),m=(_.buffer=r,l.createGain()),h=(_.connect(m),m.connect(l.destination),k=g=v=b=h=void 0,m),b=c+p,v=s;for(let e=0;e<=50;e++){var g=e/50*v,k=.5*(1-Math.cos(2*Math.PI*g/v));h.gain.linearRampToValueAtTime(k,b+g)}_.start(c+p,d,s),f.push(m),y[u]=_,++u}return f},destroy:function(){y=[]},update:function(t,n,e,a){g=1/e;let r=a.buffer,i=.05;for(var s=.025*g,o=(1<g&&(i=s/.5),n.currentTime),l=t.length,c=0,u=0;u<l;++u){var f=c,d=u*s,p=t[u];let e=y[u];e.stop(),e=n.createBufferSource(),p.gain.setValueAtTime(p.gain.value,o),p.gain.cancelScheduledValues(o),e.buffer=r,e.connect(p),y[u]=e,v=b=h=m=_=void 0;var _=p,m=d+o,h=i;for(let e=0;e<=50;e++){var b=e/50*h,v=.5*(1-Math.cos(2*Math.PI*b/h));_.gain.linearRampToValueAtTime(v,m+b)}e.start(o+d,f,i),c+=.025}}}},Speed:function(r){var i=1;return{filter:function(e,t,n,a){e=e.createGain();return n.playbackRate.value=r,n.connect(e),e.connect(t),[e]},preview:function(e,t){t.playbackRate.value=e?i:1},update:function(e,t,n,a){i=n,a.playbackRate.value=n}}},Delay:function(f){return{filter:function(e,t,n,a){var r=e.createGain(),i=e.createGain(),s=e.createGain(),o=e.createGain(),l=e.createGain(),c=e.createDelay(),n=(n.connect(r),r.connect(s),s.connect(i),c.connect(l),l.connect(c),r.connect(c),c.connect(o),o.connect(i),i.connect(t),[r,i,s,o,l,c]);if(f.delay.length)for(var u=0;u<f.delay.length;++u)c.delayTime.linearRampToValueAtTime(f.delay[u].val,f.delay[u].time+e.currentTime);else c.delayTime.value=f.delay.val;if(f.feedback.length)for(u=0;u<f.feedback.length;++u)l.gain.linearRampToValueAtTime(f.feedback[u].val,f.feedback[u].time+e.currentTime);else l.gain.value=f.feedback.val;if(f.mix.length)for(u=0;u<f.mix.length;++u)s.gain.linearRampToValueAtTime(1-2*(f.mix[u].val-.5),f.mix[u].time+e.currentTime),o.gain.linearRampToValueAtTime(1-2*(.5-f.mix[u].val),f.mix[u].time+e.currentTime);else s.gain.value=1-2*(f.mix.val-.5),o.gain.value=1-2*(.5-f.mix.val);return n},update:function(e,t,n){e[0];var a=e[2],r=e[3],i=e[4],s=e[5];if(n.delay.length)for(var o=0;o<n.delay.length;++o)s.delayTime.linearRampToValueAtTime(n.delay[o].val,n.delay[o].time+t.currentTime);else s.delayTime.value=n.delay.val;if(n.feedback.length)for(o=0;o<n.feedback.length;++o)i.gain.linearRampToValueAtTime(n.feedback[o].val,n.feedback[o].time+t.currentTime);else i.gain.value=n.feedback.val;if(n.mix.length)for(o=0;o<n.mix.length;++o)a.gain.linearRampToValueAtTime(1-2*(n.mix[o].val-.5),n.mix[o].time+t.currentTime),r.gain.linearRampToValueAtTime(1-2*(.5-n.mix[o].val),n.mix[o].time+t.currentTime);else a.gain.value=1-2*(n.mix.val-.5),r.gain.value=1-2*(.5-n.mix.val)}}},Distortion:function(c){return{filter:function(e,t,n,a){for(var r=e.createWaveShaper(),i=function(e){for(var t,n=parseInt(100*+e,10),a=new Float32Array(44100),r=Math.PI/180,i=0;i<44100;++i)a[i]=(3+n)*(t=2*i/44100-1)*20*r/(Math.PI+n*Math.abs(t));return a},s=0;s<c.length;++s){var o=c[s];if(o.length)for(var l=0;l<o.length;++l)r.curve.linearRampToValueAtTime(i(o[l].val),e.currentTime+o[l].time);else r.curve=i(o.val)}return n.connect(r),r.connect(t),r},update:function(e,t,n){for(var a=function(e){for(var t,n=parseInt(100*+e,10),a=new Float32Array(44100),r=Math.PI/180,i=0;i<44100;++i)a[i]=(3+n)*(t=2*i/44100-1)*20*r/(Math.PI+n*Math.abs(t));return a},r=0;r<n.length;++r){var i=n[r];if(i.length)for(var s=0;s<i.length;++s)e.curve.linearRampToValueAtTime(a(i[s].val),t.currentTime+i[s].time);else e.curve=a(i.val)}}}},Reverb:function(_){return{filter:function(e,t,n,a){for(var r,i=e.createGain(),s=e.createConvolver(),o=e.createGain(),l=e.createGain(),c=e.createGain(),n=(n.connect(i),i.connect(s),s.connect(l),i.connect(c),c.connect(o),l.connect(o),o.connect(t),[i,o,s,c,l]),u=(c.gain.value=1-2*(_.mix-.5),l.gain.value=1-2*(.5-_.mix),e.sampleRate*_.time),t=e.createBuffer(2,u,e.sampleRate),f=t.getChannelData(0),d=t.getChannelData(1),p=0;p<u;p++)r=_.reverse?u-p:p,f[p]=(2*Math.random()-1)*Math.pow(1-r/u,_.decay),d[p]=(2*Math.random()-1)*Math.pow(1-r/u,_.decay);return s.buffer=t,n},update:function(e,t,n){t=h.backend.ac;for(var a,r=e[2],i=e[3],e=e[4],s=(i.gain.value=1-2*(n.mix-.5),e.gain.value=1-2*(.5-n.mix),t.sampleRate*n.time),i=t.createBuffer(2,s,t.sampleRate),o=i.getChannelData(0),l=i.getChannelData(1),c=0;c<s;c++)a=n.reverse?s-c:c,o[c]=(2*Math.random()-1)*Math.pow(1-a/s,n.decay),l[c]=(2*Math.random()-1)*Math.pow(1-a/s,n.decay);r.buffer=i}}}};this.FXPreviewUpdate=function(e){this.previewing&&this.PreviewUpdate&&this.PreviewUpdate(this.PreviewFilter,n,e,this.PreviewSource)},this.FXPreviewStop=o,this.FXPreviewToggle=m,this.FXPreviewInit=function(e){this.previewVal=e},this.FXPreview=function(e,t,n){this.previewing&&o(n);var a=h.backend.buffer,a=(e||(t=t||a.length/a.sampleRate>>(e=0)),s),e=_(e,t),r=h.backend.ac||(window.WaveSurferAudioContext||(window.WaveSurferAudioContext=new(window.AudioContext||window.webkitAudioContext)),window.WaveSurferAudioContext),i=r.createBufferSource(),l=(i.buffer=e,i.loop=!0,this.PreviewFilter=this.PreviewTog=null,n?(this.PreviewTog=n.preview,this.PreviewUpdate=n.update,this.PreviewFilter=n.filter(r,d,i,+t)):i.connect(d),a.disconnect(),h.backend.scriptNode.disconnect(),a.connect(r.destination),1),c=0,u=null;return a.onaudioprocess=e=>{var t=[0,0],n=0;if(0===--l){if(d.getFloatTimeDomainData){c!==d.fftSize&&(u=new Float32Array(d.fftSize),c=d.fftSize),d.getFloatTimeDomainData(u);for(var a=0;a<d.fftSize;a+=1){var r=u[a];Math.abs(r)>=n&&(n=Math.abs(r))}t[0]=20*Math.log10(n)+.001}else{c!==d.fftSize&&(u=new Uint8Array(d.fftSize),c=d.fftSize),d.getByteTimeDomainData(u);for(var i=0,a=0;a<d.fftSize;a+=1){var s=u[a]/128-1;i+=s*s}var o=Math.sqrt(i/d.fftSize);t[0]=Math.log(o)/Math.log(10)*20}t[0]<-100&&(t[0]=-100),t[1]=t[0],d.getByteFrequencyData(h.backend.FreqArr),f.fireEvent("DidAudioProcess",[-1,t,e.timeStamp],h.backend.FreqArr),l=2}},i.start(),this.PreviewSource=i,this.PreviewDestination=d,this.previewing=2,this.previewVal||m.call(this),i},this.FX=function(e,t,n){function a(e){for(var t=h.backend.ac.createBuffer(s.numberOfChannels,s.length,s.sampleRate),n=0;n<s.numberOfChannels;++n){var a,r=t.getChannelData(n),i=s.getChannelData(n);0===h.ActiveChannels[n]?r.set(i):(a=null,a=1===e.numberOfChannels?e.getChannelData(0):e.getChannelData(n),r.set(i),r.set(a,l,a.length-l))}if(p(t),0<u.length)for(n=0;n<u.length;++n)u[n].disconnect();else u&&u.disconnect&&u.disconnect();e=o=u=null,c.disconnect()}var r,s=h.backend.buffer,o=(e||(t=t||s.length/s.sampleRate>>(e=0)),_(e=e<0?0:e,t=h.getDuration()<t?h.getDuration():t)),l=+e*s.sampleRate>>0;e=h.SelectedChannelsLen,r=s.sampleRate,i=o.length;var c=(e=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(e,i,r)).createBufferSource(),u=(c.buffer=o,null),i=(n&&(u=n.filter(e,e.destination,c,+t)).destroy&&u.destroy(),c.start(),e.startRendering());i?i.then(a).catch(function(e){console.log("Rendering failed: "+e)}):e.oncomplete=function(e){a(e.renderedBuffer)}},this.FXBank=e,this.Trim=a,this.Copy=_,this.Insert=r,this.InsertFloatArrays=function(e,t){for(var n=h.backend.buffer,a=t.length,r=t[0].length,i=r*a,s=(e=+e*n.sampleRate>>0,h.backend.ac.createBuffer(n.numberOfChannels,n.length+i,n.sampleRate)),o=0;o<n.numberOfChannels;o++){var l=n.getChannelData(o),c=s.getChannelData(o);0<e&&c.set(l.slice(0,e));for(var u=0;u<a;++u)c.set(t[u],e+u*r);e<n.length+i&&c.set(l.slice(e),e+i)}return p(s),[e/n.sampleRate,e/n.sampleRate+i/n.sampleRate]},this.ReplaceFloatArrays=function(e,t){for(var n=h.backend.buffer,a=t.length,r=t[0].length,i=r*a,s=n.length,o=h.backend.ac.createBuffer(n.numberOfChannels,s=s<(e=+e*n.sampleRate>>0)+i?e+i:s,n.sampleRate),l=0;l<n.numberOfChannels;l++){var c=n.getChannelData(l),u=o.getChannelData(l);0<e&&u.set(c.slice(0,e));for(var f=0;f<a;++f)u.set(t[f],e+f*r);e<n.length+i&&u.set(c.slice(e+i),e+i)}return p(o),[e/n.sampleRate,e/n.sampleRate+i/n.sampleRate]},this.Replace=function(e,t,n){return h.backend.buffer,a(e,t,!0),t=r(e,n),setTimeout(function(){h.drawBuffer()},40),t},this.FullReplace=function(e){p(e),setTimeout(function(){h.drawBuffer()},40)},this.MakeSilence=function(e){var t=h.backend.buffer;return h.backend.ac.createBuffer(t.numberOfChannels,e*t.sampleRate,t.sampleRate)},this.DownloadFile=function(n,e,t,a,r,i){if(!(h&&h.backend&&h.backend.buffer))return!1;b="mp3"===e?new Worker("lame.js"):"flac"===e?new Worker("flac.js"):new Worker("wav.js");var s=(e=h.backend.buffer).sampleRate,o=e.numberOfChannels,l=e.getChannelData(0),c=null,u=(2===o&&(c=e.getChannelData(1)),r||2!==o||!h.ActiveChannels[0]&&h.ActiveChannels[1]&&(l=e.getChannelData(1),c=null,o=1),r&&!c?(c=l,o=2):!r&&c&&(c=null,o=1),l.length),f=0,d=0,p=(a&&(d=a[0]*s>>0,u=(a[1]*s>>0)-d),new Int16Array(u)),_=null;if(c)for(_=new Int16Array(u);f<u;)p[f]=m(l[d+f]),_[f]=m(c[d+f]),++f;else for(;f<u;)p[f]=m(l[d+f]),++f;function m(e){return Math.max(-32768,Math.min(32768,e<0?32768*e:32767*e))}b.onmessage=function(e){var t;e.data.percentage?i&&i(e.data.percentage):(e=e.data,e=(window.URL||window.webkitURL).createObjectURL(e),(t=document.createElement("a")).href=e,t.download=n||"output.mp3",t.style.display="none",document.body.appendChild(t),t.click(),i&&i("done"),b.terminate(),b=null)},b.postMessage({sample_rate:s,kbps:t||128,flac_compression:t,channels:o}),b.postMessage(p.buffer,[p.buffer]),c?b.postMessage(_.buffer,[_.buffer]):b.postMessage(null)},this.DownloadFileCancel=function(){b&&(b.terminate(),b=null)}},(e=>{function c(e,t){if(e.className){for(var n=e.className.split(" "),a=[],r=0,i=n.length;r<i;++r)n[r]!=t&&a.push(n[r]);e.className=a.join(" ")}}var a,u,e=e||window;if(!window.FileReader||!document.addEventListener)throw"File API not supported";a=new FileReader,u=function(t,n,e){return a.onerror=function(e){throw["File not found.","File coulnot be opened","File couldnot be uploaded","Couldnot read File","File too large"][e.target.error.code-1]},a.onloadend=function(e){n&&n(e.target.result,t.name),a.onloadend=null},a[e](t),!1},e.dragNDrop=function(e,t,a,r,n){window;if("ontouchstart"in window)return"mobile";var i=n||"__fadingIn",r=r?{text:"readAsText",binary:"readAsBinaryText",arrayBuffer:"readAsArrayBuffer"}[r]:"readAsText",s=0,o=t||e,l={silencer:function(e){e.preventDefault(),e.stopPropagation()},onDragEnter:function(e){++s,setTimeout(function(){1<s&&(s=1)},10)},onDragLeave:function(e){--s<=0&&(c(o,i),s=0)},onDrop:function(e){l.silencer(e),c(o,i),s=0;var t,n=e.dataTransfer.files;if(!n||!n.length)return!1;for(t=n.length;t--;)u(n[t],a,r)}};e.parentNode.addEventListener("dragenter",l.onDragEnter,!1),e.addEventListener("dragleave",l.onDragLeave,!1),e.addEventListener("dragover",l.silencer,!1),e.addEventListener("drop",l.onDrop,!1)}})(window),document,PKAudioEditor._deps.rec=function(a){function i(e){0<v?--v:(b+=e.inputBuffer.duration*d,n<=b?0<n&&t.stop():(e=e.inputBuffer.getChannelData(0).slice(0),r[++p]=e,0==--_&&requestAnimationFrame(function(){_=4,a.engine.wavesurfer.DrawTemp(f,r)})))}var t=this,s=null,o=null,l=null,c=null,u=!1,f=0,n=0,d=0,r=[],p=-1,_=1,m=null,h=null,b=0,v=8;this.isActive=function(){return u},this.setEndingOffset=function(e){n=e},this.start=function(e,r,t,n){return!u&&(navigator.mediaDevices&&(f=+e,!isNaN(f)&&f||(f=0),b=f,l=a.engine.wavesurfer.backend.getAudioContext())?(0===l.currentTime&&(a.engine.wavesurfer.backend.source.start(0),a.engine.wavesurfer.backend.source.stop(0)),n||(d=(a.engine.wavesurfer.backend.buffer||l).sampleRate),m=function(t,e,n){var a=l?l.sampleRate:48e3;a===d?(n(),r(t,e)):(async(t,e,n)=>{var a=t.reduce((e,t)=>e+t.length,0),r=new Float32Array(a);let i=0;for(let e=0;e<t.length;e++)r.set(t[e],i),i+=t[e].length;var s=new AudioContext({sampleRate:e}),e=((a=s.createBuffer(1,a,e)).copyToChannel(r,0,0),s.close(),a.duration),s=Math.ceil(e*n),e=new OfflineAudioContext(1,s,n);return(s=e.createBufferSource()).buffer=a,s.connect(e.destination),s.start(0),(await e.startRendering()).getChannelData(0)})(e,a,d).then(e=>{n(),r(t,[e])}).catch(e=>{n(),console.error("Error during downsampling:",e)})},h=t,navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(e){o=e,s=l.createMediaStreamSource(e),c=l.createScriptProcessor(4096,1,1),s.connect(c),c.connect(l.destination),u=!0,h&&h(),c.onaudioprocess=i}).catch(function(e){a.fireEvent("ErrorRec"),e&&e.message&&a.fireEvent("ShowError",e.message)}),!0):(a.fireEvent("ErrorRec"),a.fireEvent("ShowError","No recording device found"),!1))},this.stop=function(e){u&&(o.getTracks().forEach(function(e){e.stop()}),c.onaudioprocess=null,s.disconnect(),c.disconnect(),a.engine.wavesurfer.DrawTemp(null),0<r.length&&!e?m&&m(f/d,r,function(){u=!1}):m&&m(null,null,function(){u=!1}),v=8,p=-(_=1),f=n=d=0,r=[],m=h=l=o=null)}},((e,a)=>{setTimeout(function(){PKAudioEditor._deps.Wlc=function(){var e="",t="";a.isMobile?(n-=15,e='Tips:<br/>Please make sure your device is not in silent mode. You might need to physically flip the silent switch. <img src="phone-switch.jpg" style="max-width:224px;max-height:126px;width:40%;margin: 10px auto; display: block;"/><br/><br/>'):(e="Tips:<br/>Please keep in mind that most key shortcuts rely on the <strong>Shift + <u>key</u></strong> combo. (eg Shift+Z for undo, Shift+C copy, Shift+X cut... etc )<br/><br/>",t='Check out the codebase on <a href="https://github.com/pkalogiros/audiomass" target="_blank">Github</a><br/><br/>'),new PKSimpleModal({title:'<font style="font-size:15px">Welcome to AudioMass</font>',ondestroy:function(e){a.ui.InteractionHandler.on=!1,a.ui.KeyHandler.removeCallback("modalTemp")},body:'<div style="overflow:auto;-webkit-overflow-scrolling:touch;max-width:580px;width:calc(100vw - 40px);max-height:calc(100vh - 340px);min-height:110px;font-size:13px; color:#95c6c6;padding-top:7px;">AudioMass is a free, open source, web-based Audio and Waveform Editor.<br />It runs entirely in the browser with no backend and no plugins required!<br/><br/><br/>'+e+"You can load any type of audio your browser supports and perform operations such as fade in, cut, trim, change the volume, and apply a plethora of audio effects.<br/><br/>"+t+"</div>",setup:function(t){a.ui.InteractionHandler.checkAndSet("modal"),a.ui.KeyHandler.addCallback("modalTemp",function(e){t.Destroy()},[27]);var e=t.el_body.getElementsByTagName("div")[0];e.addEventListener("touchstart",function(e){e.stopPropagation()},!1),e.addEventListener("touchmove",function(e){e.stopPropagation()},!1)}}).Show(),document.getElementsByClassName("pk_modal_cancel")[0].innerHTML="&nbsp; &nbsp; &nbsp; OK &nbsp; &nbsp; &nbsp;"};var n=96;e.localStorage&&e.localStorage.getItem("k")||(n=0,e.localStorage&&e.localStorage.setItem("k",1)),100*Math.random()>>0<n||PKAudioEditor._deps.Wlc()},320)})(window,(document,PKAudioEditor)),(D=>{var O="modalfx",H=O+"esc",y=35;function i(){function e(){n(t)}var t=this,u=0,m=!1,c=!1,h=(t.act=null,t.ranges=[],t.ui={},this.Callback=function(){},this.Init=function(e){var t,n,a,r,i,s,o,c,u,l,f,d,p;function _(e){var t=!!c.act;if(0===c.ranges.length)t&&c.Render();else{for(var n=u.getBoundingClientRect(),a=(u.width,u.height,e.clientX-n.left),r=e.clientY-n.top,i=e.is_touch?20:10,s=e.is_touch?20:9,o=0;o<c.ranges.length;++o){var l=c.ranges[o];if(Math.abs(l._coords.x-a)<i&&Math.abs(l._coords.y-r)<s)return t&&c.act.el.classList.remove("pk_act"),c.act=l,c.act.el.classList.add("pk_act"),f=!0,c.Render(),void(e.is_touch?(e.ev.preventDefault(),e.ev.stopPropagation(),u.addEventListener("touchmove",d,!1),u.addEventListener("touchup",p,!1)):(u.addEventListener("mousemove",d,!1),u.addEventListener("mouseup",p,!1)))}t&&(c.act.el.classList.remove("pk_act"),c.act=null,c.Render())}}this.el=e,e=this,(t=D.createElement("div")).className="pk_row",n=D.createElement("canvas"),a=D.createElement("canvas"),n.className="pk_peq2",a.className="pk_peq",n.width=225,n.height=112,a.width=450,a.height=225,r=n.getContext("2d",{alpha:!0,antialias:!1}),i=a.getContext("2d",{alpha:!0,antialias:!1}),r.fillStyle="#365457",i.strokeStyle="#FF0000",i.shadowColor="#FF2222",i.shadowBlur=0,(s=D.createElement("div")).className="pk_peq3 pk_noselect",s.innerHTML='<span>32</span><span style="position:absolute;left:3.5%">500<span></span></span><span style="position:absolute;left:9%">1k<span></span></span><span style="position:absolute;left:19%">2k<span></span></span><span style="position:absolute;left:38%">4k<span></span></span><span style="position:absolute;left:50%">5k<span></span></span><span style="position:absolute;left:59%">8k<span></span></span><span style="position:absolute;left:72%">12k<span></span></span><span style="position:absolute;left:85%">16k<span></span></span><span style="float:right">20k</span>',(o=D.createElement("div")).className="pk_peq4 pk_noselect",o.innerHTML='<span style="top:0">35</span><span style="top:10%">28<span></span></span><span style="top:20%">21<span></span></span><span style="top:30%">14<span></span></span><span style="top:40%">7<span></span></span><span>0<span></span></span><span style="top:60%">-7<span></span></span><span style="top:70%">-14<span></span></span><span style="top:80%">-21<span></span></span><span style="top:90%">-28<span></span></span><span style="top:100%">35</span>',t.appendChild(n),t.appendChild(a),t.appendChild(s),t.appendChild(o),e.el.appendChild(t),(s=document.createElement("div")).className="pk_row pk_noselect pk_pglst",s.innerHTML='<div class="pk_pgeq_els"><span class="pk_txlft"> #</span><span>type</span><span>gain</span><span>freq</span><span>Q</span></div>',e.el.appendChild(s),e.ui.ctx_bars=r,e.ui.ctx_eq=i,e.ui.canvas_bars=n,e.ui.canvas_eq=a,e.ui.el_list=s,(c=this).ui.ctx_eq,u=c.ui.canvas_eq,l=0,f=!1,d=function(e){if(f&&c.act){var t=0,n=0;if(e.touches){if(1<e.touches.length)return;t=e.touches[0].clientX,n=e.touches[0].clientY}else t=e.clientX,n=e.clientY;var e=u.getBoundingClientRect(),a=u.width,r=u.height,t=t-e.left,n=n-e.top,e=t/a,a=n/r,r=(c.act._coords.x=t,c.act._coords.y=n,0),r=e<=.5?2*e*5e3>>0:5e3+(2*(e-.5)*15e3>>0),t=+(-2*(a-.5)*y).toFixed(2);g(c,c.act,{freq:r,gain:t}),k(c.act)}},p=function(e){f=!1,u.removeEventListener("mousemove",d),u.removeEventListener("mouseup",p),u.removeEventListener("touchmove",d),u.removeEventListener("touchup",p)},u.addEventListener("mousedown",_,!1),u.addEventListener("touchstart",function(e){1<e.touches.length?(e.preventDefault(),e.stopPropagation()):(e={clientX:e.touches[0].clientX,clientY:e.touches[0].clientY,is_touch:!0,ev:e},_(e))}),u.addEventListener("click",function(e){var t,n,a,r,i;e.timeStamp-l<260&&(i=u.getBoundingClientRect(),a=u.width,t=u.height,r=0,r=(a=(n=e.clientX-i.left)/a)<=.5?2*a*5e3>>0:5e3+(2*(a-.5)*15e3>>0),i=+(-2*((a=e.clientY-i.top)/t-.5)*y).toFixed(2),c.Add("peaking",!0,r,i,5,n,a)),l=e.timeStamp},!1),this.Render()},this.Add=function(e,t,n,a,r,i,s){var o,l,c,e={id:++u,type:e||"peaking",freq:n||0,gain:a||0,q:r||5,_on:t,_hov:!1,_el:null,_coords:{x:i||0,y:s||0},_arr:[]};this.ranges.push(e),this.ranges.sort(A),this.act&&this.act.el.classList.remove("pk_act"),k(this.act=e),e.el=(l=e,n=" pk_act",a=(o=this).ui.el_list,(c=D.createElement("div")).className="pk_pgeq_els"+(n||""),c.setAttribute("data-id",l.id),c.addEventListener("click",function(e){l.el&&l!==o.act&&(o.act&&o.act.el.classList.remove("pk_act"),o.act=l,o.act.el.classList.add("pk_act"),o.Render())},!1),c.addEventListener("mouseover",function(e){!l.el||l._hov||(l._hov=!0,o.Render())},!1),c.addEventListener("mouseleave",function(e){l.el&&l._hov&&(l._hov=!1,o.Render())},!1),n=l._on?"checked":"",r="<i>"+l.id+"</i>",(t=D.createElement("div")).className="pk_txlft",t.innerHTML=r+'<input type="checkbox" id="pgon'+l.id+'" class="pk_check" name="onoff" '+n+'><label for="pgon'+l.id+'">ON</label>',t.getElementsByTagName("input")[0].onchange=function(e){g(o,l,{_on:!!this.checked}),this.parentNode.getElementsByTagName("label")[0].innerHTML=this.checked?"ON":"OFF"},c.appendChild(t),r="lowpass"===l.type?"selected":"",n="highpass"===l.type?"selected":"",(t=D.createElement("div")).innerHTML="<select><option>peaking</option><option "+r+">lowpass</option><option "+n+">highpass</option></select>",t.getElementsByTagName("select")[0].onchange=function(e){var t=this.options[this.selectedIndex].value;"peaking"===t?c.classList.remove("pk_dis"):c.classList.add("pk_dis"),g(o,l,{type:t},1)},c.appendChild(t),(r=D.createElement("div")).innerHTML='<input type="number" class="pk_val pk_gain" min="-35" max="35" value="'+l.gain+'">',r.getElementsByClassName("pk_gain")[0].onchange=function(e){this.value||(this.value=0),this.hasAttribute("data-open")&&(this.parentNode.getElementsByClassName("pk_horiz")[0].value=this.value),g(o,l,{gain:+this.value},1),k(l)},r.getElementsByClassName("pk_gain")[0].onfocus=function(e){var t,n,a,r;this.hasAttribute("data-open")||(n=(t=this).parentNode,(a=document.createElement("div")).className="pk_pgeq_freq pk_gain",a.innerHTML='<div class="pk_arr"></div><input type="range" min="-35" max="35" class="pk_horiz pk_gain" step="0.1" value="'+l.gain+'">',a.getElementsByClassName("pk_horiz")[0].oninput=function(e){t.value!=this.value&&(t.value=this.value,t.onchange())},n.appendChild(a),this.setAttribute("data-open","1"),r=function(e){e.target.classList.contains("pk_gain")&&(e.target.type!==t.type||e.target===t)||(t.removeAttribute("data-open"),n.removeChild(a),o.el.removeEventListener("mousedown",r))},o.el.addEventListener("mousedown",r,!1))},c.appendChild(r),(n=D.createElement("div")).innerHTML='<input type="number" class="pk_val pk_freq" min="16" max="20000" value="'+l.freq+'">',n.getElementsByClassName("pk_freq")[0].onchange=function(e){this.value||(this.value=500),this.hasAttribute("data-open")&&(this.parentNode.getElementsByClassName("pk_horiz")[0].value=this.value),g(o,l,{freq:+this.value},1),k(l)},n.getElementsByClassName("pk_freq")[0].onfocus=function(e){var t,n,a,r;this.hasAttribute("data-open")||(n=(t=this).parentNode,(a=document.createElement("div")).className="pk_pgeq_freq pk_freq",a.innerHTML='<div class="pk_arr"></div><input type="range" min="16" max="20000" class="pk_horiz pk_freq" step="1" value="'+l.freq+'">',a.getElementsByClassName("pk_horiz")[0].oninput=function(e){t.value!=this.value&&(t.value=this.value,t.onchange())},n.appendChild(a),this.setAttribute("data-open","1"),r=function(e){e.target.classList.contains("pk_freq")&&(e.target.type!==t.type||e.target===t)||(t.removeAttribute("data-open"),n.removeChild(a),o.el.removeEventListener("mousedown",r))},o.el.addEventListener("mousedown",r,!1))},c.appendChild(n),(t=D.createElement("div")).innerHTML='<input type="number" class="pk_val pk_q" min="1" max="50" value="'+l.q+'">',t.getElementsByClassName("pk_q")[0].onchange=function(e){this.value||(this.value=1),this.hasAttribute("data-open")&&(this.parentNode.getElementsByClassName("pk_horiz")[0].value=this.value),g(o,l,{q:+this.value},1),k(l)},t.getElementsByClassName("pk_q")[0].onfocus=function(e){var t,n,a,r;this.hasAttribute("data-open")||(n=(t=this).parentNode,(a=document.createElement("div")).className="pk_pgeq_freq pk_q",a.innerHTML='<div class="pk_arr"></div><input type="range" min="1" max="50" class="pk_horiz pk_q" step="0.1" value="'+l.q+'">',a.getElementsByClassName("pk_horiz")[0].oninput=function(e){t.value!=this.value&&(t.value=this.value,t.onchange())},n.appendChild(a),this.setAttribute("data-open","1"),r=function(e){e.target.classList.contains("pk_q")&&(e.target.type!==t.type||e.target===t)||(t.removeAttribute("data-open"),n.removeChild(a),o.el.removeEventListener("mousedown",r))},o.el.addEventListener("mousedown",r,!1))},c.appendChild(t),(r=D.createElement("div")).className="pk_del",r.innerHTML='<a style="cursor:pointer">DELETE</a>',r.getElementsByTagName("a")[0].onclick=function(e){o.Remove(l)},c.appendChild(r),a.appendChild(c),c),this.Callback&&this.Callback(),this.Render()},this.Remove=function(e){for(var t=this.ranges.length;0<t--;)if(this.ranges[t]===e){this.ranges.splice(t,1);break}e.el&&(e.el.parentNode.removeChild(e.el),e.el=null),this.act&&this.act===e&&(this.act=null),this.Render()},"#d9d955"),a=(this.Render=function(){m||(m=!0,requestAnimationFrame(e))},this.RenderBars=function(e,t){var n=this;c||(c=!0,requestAnimationFrame(function(){a(n,t)}))},function(e,t){if(c=!1,t){for(var n=e.ui.ctx_bars,e=e.ui.canvas_bars,a=e.width,r=e.height,i=(n.clearRect(0,0,a,r),+(a/234).toFixed(1)),s=0,o=0;o<117;++o){var l=t[o]/256*r>>0;n.fillRect(s,r-l,i,l),s+=i}for(o=0;o<117;++o){l=t[117+(3.34*o>>0)]/256*r>>0;n.fillRect(s,r-l,i,l),s+=i}}}),b=new Array(1e3),n=function(e){m=!1;var t=e.ui.ctx_eq,n=e.ui.canvas_eq,a=n.width,n=n.height,r=n/2;if(t.clearRect(0,0,a,n),t.fillStyle=h,0===e.ranges.length)t.beginPath(),t.moveTo(0,r),t.lineTo(a,r),t.stroke();else{for(var i=!0,s=0;s<v;++s)s,0;for(var o=0;o<e.ranges.length;++o)if((d=e.ranges[o])._on)if(i)for(i=!1,s=0;s<v;++s)b[s]=d._arr[s];else for(s=0;s<v;++s)b[s]+=d._arr[s];if(i)t.beginPath(),t.moveTo(0,r),t.lineTo(a,r);else{t.beginPath(),t.moveTo(0,r-b[0]*(r/y));for(s=0;s<v/4;s+=1){var l=b[s],c=2*s*(a/v),u=r-l*(r/y);t.lineTo(c,u)}for(var f=0,s=v/4;s<v;s+=3){l=b[s],c=(v/2+(f+=2))*(a/v),u=r-l*(r/y);t.lineTo(c,u)}}t.stroke();for(o=0;o<e.ranges.length;++o){var d,p=(d=e.ranges[o])._coords.x,_=d._coords.y;t.beginPath(),t.arc(p,_,6,0,2*Math.PI,!1),d===e.act?(t.shadowBlur=24,d._on?t.fillStyle="#fff":t.fillStyle="#686868",t.stroke(),t.fill(),t.shadowBlur=0,t.fillStyle=h):d._hov?(d._on?t.fillStyle="blue":t.fillStyle="darkblue",t.stroke(),t.fill(),t.fillStyle=h):d._on?t.fill():(t.fillStyle="#555",t.fill(),t.fillStyle=h)}}},l=null,f=2e4,v=1e3,d=f/v>>0;function g(e,t,n,a){var r,i,s,o=!1;for(r in n)t[r]!==n[r]&&(o=!0,t[r],t[r]=n[r],"_on"===r?(i=document.getElementById("pgon"+t.id)).checked=t[r]:"freq"===r?(i=t.el.getElementsByClassName("pk_freq")[0]).value=t[r]:"gain"===r?(i=t.el.getElementsByClassName("pk_gain")[0]).value=t[r]:"q"===r?(i=t.el.getElementsByClassName("pk_q")[0]).value=t[r]:"type"===r&&(i=t.el.getElementsByTagName("select")[0],"peaking"===t[r]?i.options[0].selected=!0:"lowpass"===t[r]?i.options[1].selected=!0:"highpass"===t[r]&&(i.options[2].selected=!0),k(t),e.ranges.sort(A)));o&&(a&&(s=(a=e.ui.canvas_eq).width,a=a.height,t.freq<=5e3?t._coords.x=+(t.freq/5e3*(s/2)).toFixed(1):t._coords.x=+(s/2+(t.freq-5e3)/15e3*(s/2)).toFixed(1),t._coords.y="peaking"===t.type?+((1-(t.gain+y)/(2*y))*a).toFixed(1):+(a/2).toFixed(1)),l&&clearTimeout(l),l=setTimeout(function(){e.Callback(),l=null},38),e.Render())}function p(e){return e*e*e*e*e}function _(e){return e*e*e*e}function k(e){for(var t=[],n=0;n<v;++n)t[n]=0;e._arr=t;var a=f*(2/e.q),r=a/d>>0;if("peaking"===e.type)for(var i=e.freq-a/2,s=(c=e.freq+a/2)/d>>0,o=0,n=l=i/d>>0;n<s;++n)n*d<e.freq?t[n]+=p(++o/(r/2))*e.gain:t[n]+=p(--o/(r/2))*e.gain;else if("highpass"===e.type){for(var l=(i=e.freq-a)/d>>0,s=e.freq/d>>0,n=0;n<l;++n)t[n]=-y;for(o=r,n=l;n<s;++n)t[n]-=_(--o/r)*y}else if("lowpass"===e.type){for(var c=e.freq+a,l=e.freq/d>>0,n=s=c/d>>0;n<v;++n)t[n]=-y;for(o=0,n=l;n<s;++n)t[n]-=_(++o/r)*y}}function A(e,t){return"peaking"===e.type&&"peaking"!==t.type?-1:"peaking"===t.type&&"peaking"!==e.type?1:0}}PKAudioEditor._deps.FxEQ=function(n,e){n.fireEvent("RequestSelect",1);function a(e,t){f.RenderBars(e,t)}function r(){if(f){for(var e=[],t=f.ranges,n=0;n<t.length;++n){var a=t[n];a._on&&e.push({type:a.type,freq:a.freq,val:a.gain,q:a.q})}return e}}var t="paragraphic_eq",f=new i;new PKAudioFXModal({id:t,title:"Paragraphic EQ",ondestroy:function(e){n.stopListeningFor("DidAudioProcess",a),n.ui.InteractionHandler.on=!1,n.ui.KeyHandler.removeCallback(H),f=null},preview:function(e){n.fireEvent("RequestActionFX_PREVIEW_PARAMEQ",r())},body:"",presets:[{name:"Old Telephone",val:"1,highpass,0,5800,5.8,1,lowpass,0,7060,5"}],custom_pres:e.Get(t),onpreset:function(e){for(var t=f.ranges.length;0<t--;)f.Remove(f.ranges[t]);for(var n=f.ui.canvas_eq,a=n.width,r=n.height,i=e.split(","),s=i.length/5>>0,o=0;o<s;++o){var l=[],c=5*o,c=(l[0]=!!+i[0+c],l[1]=i[1+c],l[2]=+i[2+c],l[3]=+i[3+c],l[4]=+i[4+c],0),u=0,c=l[3]<5e3?l[3]/5e3*(a/2):+(a/2+(l[3]-5e3)/15e3*(a/2)).toFixed(1),u="peaking"===l[1]?+((1-(+l[2]+y)/(2*y))*r).toFixed(1):+(r/2).toFixed(1);f.Add(l[1],!!l[0],+l[3],+l[2],+l[4],c,u)}},buttons:[{title:"Apply EQ",clss:"pk_modal_a_accpt",callback:function(e){n.fireEvent("RequestActionFX_PARAMEQ",r()),e.Destroy()}}],setup:function(t){f.Init(t.el_body),f.Callback=function(){n.fireEvent("RequestActionFX_UPDATE_PREVIEW",r())},n.listenFor("DidAudioProcess",a),n.fireEvent("RequestPause"),n.ui.InteractionHandler.checkAndSet(O),n.ui.KeyHandler.addCallback(H,function(e){n.ui.InteractionHandler.check(O)&&t.Destroy()},[27])}},n).Show()},PKAudioEditor._deps.FxTMP=function(r){r.fireEvent("RequestSelect",1);function i(e,t){var u,n=this,f=(n.app=e,null),d=0,p=500,_=null,m=null,h=null,b=!1,v=.5,g=!0,k=null,A=null,y=null,w=null;function E(e){m.frequency.value=1===e&&g?880:440,h.gain.setValueAtTime(h.gain.value,_.currentTime),h.gain.linearRampToValueAtTime(v,_.currentTime+.01),h.gain.linearRampToValueAtTime(0,_.currentTime+.12)}n.Init=function(e){this.el=e,e=this,(t=D.createElement("div")).className="pk_row",t.innerHTML='<div class="pk_row"><label>BPM</label><input type="range" min="20" max="300" class="pk_horiz" step="1" value="120" /><span class="pk_val">120</span></div><div class="pk_row"><label>Volume</label><input type="range" min="0.0" max="1.0" class="pk_horiz" step="0.1" value="0.5" /><span class="pk_val">50%</span></div><div class="pk_row"><input type="checkbox" id="xxcjgs" class="pk_check" checked name="metroAccent"><label for="xxcjgs">Accentuate metronome click</label></div><div class="pk_row"><a class="pk_modal_a_bottom" style="display:inline-block;float:none">Metronome</a><a class="pk_modal_a_bottom" style="display:inline-block;float:none">Play Track</a><a class="pk_modal_a_bottom" style="display:inline-block;float:none">Play Both</a></div>',e.body=t,e.el.appendChild(t);var t,n=this,a=n.body.getElementsByClassName("pk_horiz")[0],r=n.body.getElementsByClassName("pk_val")[0],i=n.body.getElementsByClassName("pk_horiz")[1],s=n.body.getElementsByClassName("pk_val")[1],o=n.body.getElementsByClassName("pk_check")[0],l=(a.oninput=function(){u=+a.value,r.innerHTML=u,p=60/u*1e3>>0},i.oninput=function(){var e=+i.value;v=e,s.innerHTML=(100*e>>0)+"%"},o.oninput=function(){g=o.checked},n.body.getElementsByClassName("pk_modal_a_bottom")[0]),c=n.body.getElementsByClassName("pk_modal_a_bottom")[1],e=n.body.getElementsByClassName("pk_modal_a_bottom")[2];l.onclick=function(){var e;f?(clearTimeout(f),f=null,d=0,n.app.fireEvent("DidStopMetro")):(e=function(){f=setTimeout(function(){f&&(++d%4==0?E(1):E(0),e())},p)},d=0,b||(_=new(window.AudioContext||window.webkitAudioContext),m=_.createOscillator(),(h=_.createGain()).gain.value=0,m.connect(h),h.connect(_.destination),m.start(0),b=!0),n.app.fireEvent("DidStartMetro"),E(1),e())},w=function(){l.classList.remove("pk_act")},y=function(){l.classList.add("pk_act")},n.app.listenFor("DidStartMetro",y),n.app.listenFor("DidStopMetro",w),c.onclick=function(){PKAudioEditor.engine.wavesurfer.isPlaying()?n.app.fireEvent("RequestStop"):n.app.fireEvent("RequestPlay")},PKAudioEditor.engine.wavesurfer.isReady||(c.className+=" pk_inact",e.className+=" pk_inact"),PKAudioEditor.engine.wavesurfer.isPlaying()&&(c.className+=" pk_act"),k=function(){c.classList.remove("pk_act"),c.innerText="Play Track"},A=function(){c.classList.add("pk_act"),c.innerText="Stop Track"},n.app.listenFor("DidStopPlay",k),n.app.listenFor("DidPlay",A),e.onclick=function(){f&&l.onclick(),PKAudioEditor.engine.wavesurfer.isPlaying()&&c.onclick(),setTimeout(function(){f||PKAudioEditor.engine.wavesurfer.isPlaying()||(c.onclick(),setTimeout(function(){l.onclick()},0))},66)}},n.Destroy=function(){var e;n.app.stopListeningFor("DidStopPlay",k),n.app.stopListeningFor("DidPlay",A),n.app.stopListeningFor("DidStartMetro",y),n.app.stopListeningFor("DidStopMetro",w),w=y=A=k=null,b&&(f&&(clearTimeout(f),f=null),_)&&(e=_.currentTime,m.stop(e),h.disconnect(),m.disconnect(),_=null,b=!1),n.body&&(n.body.parentNode.removeChild(n.body),n.body=null),n.app=null}}function s(T,e){var t=this,M=(t.app=T,null),P=null,B=null,F=null;t.Init=function(e){this.el=e,e=this,(t=D.createElement("div")).className="pk_row",t.innerHTML='<div class="pk_row pk_pgeq_els"><span>Average BPM</span><input style="margin-left:2px;min-width:64px;max-width:64px" type="text" class="pk_val pk_gain" value="-"></div><div class="pk_row pk_pgeq_els"><span>Nearest BPM</span><input style="margin-left:2px;min-width:64px;max-width:64px" type="text" class="pk_val pk_gain" value="-"></div><div class="pk_row pk_pgeq_els"><span>Timing Taps</span><input style="margin-left:2px;min-width:64px;max-width:64px" type="text" class="pk_val pk_gain" value="-"><a class="pk_modal_a_bottom" style="display:inline-block;float:none">Reset</a><a class="pk_modal_a_bottom" style="display:inline-block;float:none">Play Track</a><a class="pk_modal_a_bottom" style="display:inline-block;float:none">Loop</a></div><div><div id="pk_tmp_tap"><span style="opacity:0" class="pk_obj2">CLEARED...</span><span class="pk_obj2">STAND BY...</span></div><div id="pk_tmp_tap2" style="position:relative"><canvas width="1000" height="200" style="image-rendering:pixelated;width:500px;height:100px;display:block;background:#000"></canvas><span style="z-index:3;background:red;position:absolute;display:block;width:2px;height:100px;left:50%;margin-left:-1px;top:0"></span></div></div><div id="pk_tmp_tap3"><span style="position:absolute;top:50%;display:block;width:80%;left:10%;font-size:12px;margin-top:-20px;user-select:none;text-align:center;pointer-events:none;color:#ccc">Tap in this area, or hit [SPACE] rhythmically, to measure BPM.</span></div>',e.body=t,e.el.appendChild(t);var t,n=this;function a(e){if(w&&(c[1].style.opacity="0"),w=!(y=h=0),setTimeout(function(){w&&(c[0].style.opacity="0.5",e||(s.className+=" pk_act",setTimeout(function(){s.classList.remove("pk_act")},140)),setTimeout(function(){w?(c[0].style.opacity="0",c[1].style.opacity="0.5"):(c[0].style.opacity="0",c[1].style.opacity="0")},e?490:874))},e?0:150),e){u.value="-",f.value="-",d.value="-";for(var t=r.parentNode.getElementsByClassName("pk_obj"),n=t.length;0<n--;)t[n]&&t[n].parentNode.removeChild(t[n])}}var r=n.body.querySelectorAll("#pk_tmp_tap")[0],i=n.body.querySelectorAll("#pk_tmp_tap3")[0],s=n.body.getElementsByClassName("pk_modal_a_bottom")[0],o=n.body.getElementsByClassName("pk_modal_a_bottom")[1],l=n.body.getElementsByClassName("pk_modal_a_bottom")[2],v=n.body.getElementsByTagName("canvas")[0],g=v.getContext("2d",{alpha:!1,antialias:!1}),k=document.createElement("canvas"),A=(k.width=1e3,k.height=200,k.getContext("2d",{alpha:!1,antialias:!1})),e=(g.imageSmoothingEnabled=!0,A.imageSmoothingEnabled=!0,n.body.getElementsByClassName("pk_val")),c=r.getElementsByClassName("pk_obj2"),u=(i.getElementsByTagName("span")[0],e[0]),f=e[1],d=e[2],p=0,_=0,m=0,h=0,b=0,y=0,w=!0,E=!1,R=(s.onclick=function(){a(!0)},o.onclick=function(){PKAudioEditor.engine.wavesurfer.isPlaying()?n.app.fireEvent("RequestStop"):n.app.fireEvent("RequestPlay")},PKAudioEditor.engine.wavesurfer.isReady||(o.className+=" pk_inact",l.className+=" pk_inact"),PKAudioEditor.engine.wavesurfer.isPlaying()&&(o.className+=" pk_act"),M=function(){E=!1,o.classList.remove("pk_act"),o.innerText="Play Track"},P=function(){E=!0,o.classList.add("pk_act"),o.innerText="Stop Track"},n.app.listenFor("DidStopPlay",M),n.app.listenFor("DidPlay",P),-999999),C=[],S=0;F=function(){var e=PKAudioEditor.engine.wavesurfer,t=e.backend.buffer,n=t.getChannelData(0),t=t.sampleRate,e=e.getCurrentTime(),a=500,r=0,i=0,s=0,o=e-1.5,e=e+1.5,l=!1,c=o*t>>0,u=(((3+o)*t>>0)-c)/500>>0;if(o<R){s=(e-R)/3*500,i=Math.round(s);if(s=(1e3*s>>0)/1e3,0<=i){if(0===i)return;u=((e*t>>0)-(c=R*t>>0))/(a=i)>>0,C=C.slice(2*i),r=500-i,l=!0}}R=e;for(var f=0,d=0,p=0;p<a;++p){var _=c+u*p,f=0,d=0;if(0<=_)for(var m=0;m<u;m+=3)n[_+m]>f?f=n[_+m]:n[_+m]<d&&(d=n[_+m]);C[2*(p+r)]=f,C[2*(p+r)+1]=d}if(l&&A.drawImage(v,0,0),g.fillStyle="#000",g.fillRect(0,0,1e3,200),g.fillStyle="#99c2c6",l){var o=Math.round(2*s),h=(1<(S+=o-2*s)&&(--o,S=0),g.translate(-o,0),g.drawImage(k,0,0),g.setTransform(1,0,0,1,0,0),g.beginPath(),C[2*(500-i-2)]),b=Math.round(100*h);g.moveTo(2*(500-i-2),100-b);for(p=500-i-1;p<500;++p)h=C[2*p],b=Math.round(100*h),g.lineTo(2*p,100-b);for(p=499;500-i-1<=p;--p){h=C[2*p+1],b=Math.round(100*h);g.lineTo(2*p,100-b)}}else{g.beginPath(),g.moveTo(0,100);for(p=0;p<500;++p){h=C[2*p],b=Math.round(100*h);g.lineTo(2*p,100-b)}for(p=499;0<=p;--p){h=C[2*p+1],b=Math.round(100*h);g.lineTo(2*p,100-b)}}g.closePath(),g.fill()},n.app.listenFor("DidAudioProcess",F),PKAudioEditor.engine.wavesurfer.regions.list[0]&&PKAudioEditor.engine.wavesurfer.regions.list[0].loop&&(l.className+=" pk_act"),l.onclick=function(){n.app.fireEvent("RequestSetLoop")},B=function(e){e?l.classList.add("pk_act"):l.classList.remove("pk_act")},n.app.listenFor("DidSetLoop",B),r.parentNode.addEventListener("transitionend",function(e){r&&"DIV"===(e=e.target).tagName&&(e.parentNode.removeChild(e),0===--y)&&(E?setTimeout(function(){0===y&&a()},1100):a())}),i.onclick=function(e){e&&(e.preventDefault(),e.stopPropagation()),w&&(w=!1,c[1].style.opacity="0"),p=Date.now(),0===(h=3e3<p-_?0:h)?(m=p,h=1,u.value="First Beat",f.value="First Beat"):(b=6e4*h/(p-m),++h,u.value=Math.round(100*b)/100,f.value=Math.round(b)),d.value=h;var t=document.createElement("div");t.className="pk_obj",(E?v.parentNode:r).appendChild(t),++y,i.classList.add("pk_act"),requestAnimationFrame(function(){t.style.transform="translate3d(-10%,0,0)",setTimeout(function(){i.classList.remove("pk_act")},56)}),_=p},T.ui.KeyHandler.addCallback("tmpTap",function(e,t,n){T.ui.InteractionHandler.check(O)&&(n.preventDefault(),n.stopPropagation(),i.onclick(null))},[32])},t.Destroy=function(){t.app.stopListeningFor("DidStopPlay",M),t.app.stopListeningFor("DidPlay",P),t.app.stopListeningFor("DidSetLoop",B),t.app.stopListeningFor("DidAudioProcess",F),F=B=P=M=null,t.app.ui.KeyHandler.removeCallback("tmpTap"),t.body&&(t.body.parentNode.removeChild(t.body),t.body=null),t.app=null}}var o=1,l=null;new PKAudioFXModal({id:"tempo_tools",title:"Tempo & Rhythm Tools",ondestroy:function(e){r.ui.InteractionHandler.on=!1,r.ui.KeyHandler.removeCallback(H),l.Destroy(),l=null,r.fireEvent("RequestStop")},body:'<div class="pk_tbs"><a class="pk_tbsa pk_inact">Tempo Estimation</a><a class="pk_tbsa">Tempo Tap</a><a class="pk_tbsa">Metronome</a></div>',setup:function(t){function e(){l&&(l.Destroy(),l=null,a[o].classList.remove("pk_act"))}function n(){0!==o&&(1===o?(a[1].className+=" pk_act",l=new s(r)):2===o&&(a[2].className+=" pk_act",l=new i(r)),l)&&l.Init(t.el_body)}var a=t.el_body.getElementsByClassName("pk_tbsa");a[1].onclick=function(){1!==o&&(e(),o=1,n())},a[2].onclick=function(){2!==o&&(e(),o=2,n())},n(),r.fireEvent("RequestPause"),r.ui.InteractionHandler.checkAndSet(O),r.ui.KeyHandler.addCallback(H,function(e){r.ui.InteractionHandler.check(O)&&t.Destroy()},[27])}},r).Show()},PKAudioEditor._deps.FxREC=function(b){function v(){g&&(g.getTracks().forEach(function(e){e.stop()}),D&&(D.onaudioprocess=null),x&&x.disconnect(),D&&D.disconnect(),k=g=x=null)}var g=null,k=null,D=null,x=null,L=[],I=null,N=44100;new PKAudioFXModal({id:"rec_tools",title:"New Recording",ondestroy:function(e){v(),L=[],I=null,b.ui.InteractionHandler.on=!1,b.ui.KeyHandler.removeCallback(H),b.fireEvent("RequestStop")},body:'<div class="pk_rec" style="user-select:none"><div class="pk_row"><label>Devices:</label><select style="max-width:220px"></select></div><div class="pk_row"><div style="float:left"><label>Volume</label><canvas width="200" height="40"></canvas></div><div style="float:left;margin-left:20px;"><label>Time</label><span style="font-size: 24px;line-height: 50px;">0.0</span></div><div style="clear:both;height:10px"></div><div><label>Waveform</label><canvas width="1000" height="200" style="image-rendering:pixelated;width:500px;height:100px;display:block;background:#000"></canvas></div></div><div class="pk_row"><a class="pk_tbsa pk_inact" style="text-align: center;">START RECORDING</a><a class="pk_tbsa pk_inact" style="margin-left: 24px; text-align: center;">PAUSE</a></div><div class="pk_row"><a class="pk_tbsa" style="float:left;display:none;text-align:center;box-shadow:0 0 7px #3a6b79 inset;">OPEN RECORDING</a><a class="pk_tbsa" style="float:left;display:none;margin-left: 24px; text-align: center;">APPEND TO EXISTING</a></div></div>',setup:function(t){function r(e){if(0<C)--C;else if(!A){e.inputBuffer.duration;for(var t,n=e.inputBuffer.getChannelData(0).slice(0),a=(L[++S]=n,0),r=0;r<2048;r+=2)a+=(t=n[r])*t;var e=Math.sqrt(a/1024),e=(T=Math.max(e,.9*T),2048*S/N),i=500,s=0,o=0,l=0,c=(M=e)-3,u=!1,f=c*N>>0,d=(((3+c)*N>>0)-f)/500>>0;if(c<P){l=(e-P)/3*500,o=Math.round(l);if(l=(1e3*l>>0)/1e3,0<=o){if(0===o)return;d=((e*N>>0)-(f=P*N>>0))/(i=o)>>0,B=B.slice(2*o),s=500-o,u=!0}}P=e;for(var p=0,_=0,r=0;r<i;++r){var m=f+d*r,p=0,_=0;if(0<=m)for(var h=0;h<d;h+=3){var b=m+h,v=b/2048>>0,b=b%2048;L[v]&&(L[v][b]>p?p=L[v][b]:L[v][b]<_&&(_=L[v][b]))}B[2*(r+s)]=p,B[2*(r+s)+1]=_}if(u&&R.drawImage(y,0,0),w.fillStyle="#000",w.fillRect(0,0,1e3,200),w.fillStyle="#99c2c6",u){var c=Math.round(2*l),g=(1<(F+=c-2*l)&&(--c,F=0),w.translate(-c,0),w.drawImage(E,0,0),w.setTransform(1,0,0,1,0,0),w.beginPath(),B[2*(500-o-2)]),k=Math.round(100*g);w.moveTo(2*(500-o-2),100-k);for(r=500-o-1;r<500;++r)g=B[2*r],k=Math.round(100*g),w.lineTo(2*r,100-k);for(r=499;500-o-1<=r;--r){g=B[2*r+1],k=Math.round(100*g);w.lineTo(2*r,100-k)}}else{w.beginPath(),w.moveTo(0,100);for(r=0;r<500;++r){g=B[2*r],k=Math.round(100*g);w.lineTo(2*r,100-k)}for(r=499;0<=r;--r){g=B[2*r+1],k=Math.round(100*g);w.lineTo(2*r,100-k)}}w.closePath(),w.fill()}}var i=!1,s=!1,A=!1,o=!1,e=t.el_body.getElementsByClassName("pk_tbsa"),l=e[0],c=e[1],u=e[2],f=e[3],n=t.el_body.getElementsByTagName("span")[0],d=t.el_body.getElementsByTagName("select")[0],a=t.el_body.getElementsByTagName("canvas")[0].getContext("2d",{alpha:!1,antialias:!1}),y=t.el_body.getElementsByTagName("canvas")[1],w=y.getContext("2d",{alpha:!1,antialias:!1}),E=document.createElement("canvas"),R=(E.width=1e3,E.height=200,E.getContext("2d",{alpha:!1,antialias:!1})),C=12,S=-1,T=0,M=0,p=!1,P=-999999,B=[],F=0,_=!1,m=(L=[],I=null,function(){a.fillStyle="#000",a.fillRect(0,0,200,40),s&&(a.fillStyle="green",a.fillRect(0,0,200*T*1.67,40),n.innerText=(10*M>>0)/10,window.requestAnimationFrame(m))}),h=(navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(e){e.getTracks().forEach(function(e){e.stop()}),h()}).catch(function(e){alert("no microphone permissions found!")}),function(){navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(e=>{e=e.filter(e=>"audioinput"===e.kind),p=!0;for(var t=e.length,n=0;n<t;++n){var a=document.createElement("option");a.value=e[n].deviceId,a.innerText=e[n].label,d.appendChild(a)}i=!0,l.classList.remove("pk_inact")}):(d.parentNode.style.display="none",i=!(p=!1),l.classList.remove("pk_inact"))});l.onclick=function(){if(i&&!_&&(_=!0,setTimeout(function(){_=!1},260),!o||window.confirm("Are you sure? This will discard the current recording.")))if(s){v(),A=s=!1,C=10,++S;var e=-1;I=new Float32Array(2048*S);for(var t=0;t<S;++t)for(var n=0;n<2048;++n)I[++e]=L[t][n];S=-1,L=[],u.style.display="block",b.engine.is_ready&&(f.style.display="block"),o=!0,c.classList.add("pk_inact"),l.innerText="START RECORDING",l.style.boxShadow="none"}else{S=-1,L=[],I=null,T=0,u.style.display="none",f.style.display="none",k=new(window.AudioContext||window.webkitAudioContext),N=k.sampleRate;var a=!0;p&&(a={deviceId:d.value}),navigator.mediaDevices.getUserMedia({audio:a}).then(function(e){g=e,x=k.createMediaStreamSource(e),D=k.createScriptProcessor(2048,1,1),x.connect(D),D.connect(k.destination),s=!0,c.classList.remove("pk_inact"),l.innerText="FINISH RECORDING",l.style.boxShadow="#992222 0px 0px 6px inset",D.onaudioprocess=r,m()}).catch(function(e){})}},c.onclick=function(){i&&s&&(A=!A,c.innerText=A?"UN-PAUSE":"PAUSE")},u.onclick=function(){_||(_=!0,setTimeout(function(){_=!1},150),b.engine.wavesurfer.backend._add=0,b.engine.LoadDB({samplerate:N,data:[I.buffer]}),t.Destroy())},f.onclick=function(){_||(_=!0,setTimeout(function(){_=!1},150),b.engine.wavesurfer.backend._add=1,b.engine.LoadDB({samplerate:N,data:[I.buffer]}),t.Destroy())},b.fireEvent("RequestPause"),b.ui.InteractionHandler.checkAndSet(O),b.ui.KeyHandler.addCallback(H,function(e){b.ui.InteractionHandler.check(O)&&t.Destroy()},[27])}},b).Show()}})((window,document),PKAudioEditor),(i=>{var _=0,m=0;PKAudioEditor._deps.FxAUT=function(e,t,l,n){var c,s,u,r,a,f=this,t=(f.modal=t,f.app=e,f.wv=e.engine.wavesurfer,f.points={},f.act=null,f.act_point=null,f.in_auto=!1,f.rbuff=null,f.btn_auto=(e=>{var t=i.createElement("a");return t.className="pk_modal_a_bottom",t.innerHTML="AUTOMATE",t.onclick=function(){e.in_auto=!e.in_auto,e.in_auto?t.classList.add("pk_act"):t.classList.remove("pk_act")},e.modal.el_body.appendChild(t),t})(f),f.GetValue=function(){for(var e=[],t=f.modal.el_body.getElementsByTagName("input"),n=(f.points.length,0);n<t.length;++n){var a=t[n];if(f.points[a.id]){for(var r=[],i=f.points[a.id],s=0;s<i.length;++s){var o={time:i[s].time,val:i[s].val};r.push(o),l&&l(o,a)}e.push(r)}else{o={val:a.value};e.push(o),l&&l(o,a)}}return e},f.cw=500,f.ch=200,(e=>{var t,n,a=document.createElement("canvas"),r=(a.width=500,a.height=200,a.style.background="#000",a.getContext("2d")),i=(e.modal.el_body.appendChild(a),e.wv.backend.buffer),s=new Image,o=(s.onload=function(){r.drawImage(s,0,0)},e.wv.regions.list[0]);return o&&(t=o.start*i.sampleRate>>0,n=o.end*i.sampleRate>>0),p(e,i),s.src=e.app.engine.GetWave(i,500,200,t,n),[a,r]})(f)),d=(f.canvas=t[0],f.ctx=t[1],"#d9d955");function o(e,t){return e.x>t.x?1:-1}function p(t,e){function n(e){t.rbuff=e,t.Render()}var a=t.wv.regions.list[0],r=0,i=e.duration,a=(a&&(r=a.start,i=a.end-a.start),a=1,s=(o=8e3)*i>>0,new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(a,s,o)),s=a.createBuffer(1,i*e.sampleRate,e.sampleRate),o=(s.getChannelData(0).set(e.getChannelData(0).slice(r*e.sampleRate/4,(r+i)*e.sampleRate/4)),a.createBufferSource()),r=(o.buffer=s,o.connect(a.destination),o.start(0),a.startRendering());r?r.then(n).catch(function(e){console.log("Rendering failed: "+e)}):a.oncomplete=function(e){n(e.renderedBuffer)}}f.Render=function(){var e=f.ctx,t=f.cw,n=f.ch;if(f.rbuff&&f.app.engine.GetWave(f.rbuff,500,200,null,null,f.canvas,f.ctx),e.fillStyle=d,e.strokeStyle="#FF0000",f.act){e.beginPath(),e.moveTo(0,n/2);for(var a=n/2,r=0;r<f.points[f.act.id].length;++r){var i=(o=f.points[f.act.id][r]).ax,s=o.ay;e.lineTo(i,s),a=s}e.lineTo(t,a),e.stroke();for(r=0;r<f.points[f.act.id].length;++r){var o,i=(o=f.points[f.act.id][r]).ax,s=o.ay;e.beginPath(),e.arc(i,s,6,0,2*Math.PI,!1),o===f.act_point?(e.shadowBlur=24,o._on?e.fillStyle="#fff":e.fillStyle="#686868",e.stroke(),e.fill(),e.shadowBlur=0,e.fillStyle=d):o._hov?(o._on?e.fillStyle="blue":e.fillStyle="darkblue",e.stroke(),e.fill(),e.fillStyle=d):o._on?e.fill():(e.fillStyle="#555",e.fill(),e.fillStyle=d)}}},s=0,(c=f).canvas.addEventListener("click",function(e){var t,n,a,r,i;c.act&&(e.timeStamp-s<260&&(n=c.canvas.getBoundingClientRect(),t=c.cw,a=(e.clientX-n.left)/t,r=(e.clientY-n.top)/(n=c.ch),c.points[c.act.id]||(c.points[c.act.id]=[]),i=(i=c.wv.regions.list[0])?i.end-i.start:c.wv.getDuration(),c.points[c.act.id].push({id:++_,x:a,y:r,ax:a*t,ay:r*n,time:i*a,val:(1-r)*(c.act.max-c.act.min)+c.act.min,_on:!0,_hov:!1}),c.points[c.act.id].sort(o),c.act_point=c.points[c.act.id][c.points[c.act.id].length-1],c.Render()),s=e.timeStamp)},!1),u=!1,r=3,c.canvas.addEventListener("mousemove",function(e){if(u&&c.act_point){var t=0,n=0;if(e.touches){if(1<e.touches.length)return;t=e.touches[0].clientX,n=e.touches[0].clientY}else t=e.clientX,n=e.clientY;var e=c.canvas.getBoundingClientRect(),a=c.cw,t=t-e.left,n=n-e.top,e=t/a,a=n/c.ch,t=(c.act_point.ax=t,c.act_point.ay=n,c.act_point.x=e,c.act_point.y=a,c.wv.regions.list[0]),n=t?t.end-t.start:c.wv.getDuration();c.act_point.time=n*e,c.act_point.val=(1-a)*c.act.max-c.act.min+c.act.min,c.Render(),0==--r&&(r=4,p(c,c.wv.backend.buffer))}}),c.canvas.addEventListener("mousedown",function(e){if(u=!1,c.act){var t=c.canvas.getBoundingClientRect(),n=(c.cw,e.clientX-t.left),a=e.clientY-t.top,r=e.is_touch?20:10,i=e.is_touch?20:9;c.points[c.act.id]||(c.points[c.act.id]=[]);for(var s=0;s<c.points[c.act.id].length;++s){var o=c.points[c.act.id][s];if(Math.abs(o.ax-n)<r&&Math.abs(o.ay-a)<i){u=!0,c.act_point=o,c.Render();break}}u||(c.act_point=null,c.Render())}}),c.canvas.addEventListener("mouseup",function(e){u=!1}),a=null,c.modal.el_body.addEventListener("mouseover",function(e){c.in_auto&&"INPUT"===e.target.tagName&&e.target.classList.add("pk_aut")}),c.modal.el_body.addEventListener("mouseout",function(e){c.in_auto&&"INPUT"===e.target.tagName&&e.target.classList.remove("pk_aut")}),c.modal.el_body.addEventListener("click",function(e){c.in_auto&&e.target.classList.contains("pk_aut")&&(a&&(a.classList.remove("pk_aut_act"),a=null),e.target.classList.add("pk_aut_act"),a=e.target,e.target.id||(e.target.id="pk"+ ++m),c.act={id:e.target.id,el:e.target,type:e.target.range,min:+e.target.min,max:+e.target.max,step:+e.target.step},c.points[c.act.id]||(c.points[c.act.id]=[]),c.Render())})}})((window,document)),(()=>{var _,m={l4z:{ready:!1,loading:!1,compress:null,decompress:null,init:function(t){var a,n=this;n.loading=!0,lz4BlockCodec.createInstance("wasm").then(e=>{a=e,n.ready=!0,n.loading=!1,n.compress=function(e,t){return a?a.encodeBlock(e,0):e instanceof ArrayBuffer?new Uint8Array(e):e},n.decompress=function(e,t,n){return a?a.decodeBlock(e,0,n):e instanceof ArrayBuffer?new Uint8Array(e):e},t&&t()})}}};PKAudioEditor._deps.fls=function(p){var n=this;n.on=!1,this.Init=function(t){var e;n.on?t&&t():window.indexedDB?((e=indexedDB.open("audiomass",1)).onerror=function(e){t&&t("err")},e.onupgradeneeded=function(e){e.target.result.createObjectStore("sessions",{keyPath:"id"})},e.onsuccess=function(e){(_=e.target.result).onerror=function(e){console.log(e)},setTimeout(function(){n.on=!0,t&&t(),p.fireEvent("DidOpenDB",n)},120)}):t&&t("err")},this.SaveSession=function(e,t,n){var a=this,r=m.l4z;if(r.loading||r.ready){for(var i,s=e.numberOfChannels,o=[],l=[],c=e.sampleRate,u=0;u<s;++u)i=e.getChannelData(u),l.push(i.buffer.byteLength),f=r.compress(i.buffer,0),o.push(f.buffer.slice(f.byteOffset,f.byteLength+f.byteOffset));var f=null,d={id:t,name:n,created:(new Date).getTime(),data:o,data2:l,durr:+e.duration.toFixed(3),chans:s,comp:"l4z",thumb:PKAudioEditor.engine.GetWave(e),samplerate:c},c=_.transaction(["sessions"],"readwrite");c.objectStore("sessions").add(d).onerror=function(e){p.fireEvent("ErrorDB",e),console.log("error storing data"),console.error(e)},c.oncomplete=function(e){p.fireEvent("DidStoreDB",d,e)}}else r.init(function(){a.SaveSession(e,t,n)})},this.GetSession=function(e,s){_.transaction(["sessions"],"readonly").objectStore("sessions").get(e).onsuccess=function(e){var a=e.target.result;if(a&&a.comp){var r=m.l4z;if(!r.loading&&!r.ready)return void r.init(function(){for(var e=[],t=null,n=0;n<a.data.length;++n)t=r.decompress(a.data[n],0,a.data2[n]),e.push(t.buffer.slice(t.byteOffset,t.byteLength+t.byteOffset));t=null,a.data=e,s&&s(a)});for(var t=[],n=null,i=0;i<a.data.length;++i)n=r.decompress(a.data[i],0,a.data2[i]),t.push(n.buffer.slice(n.byteOffset,n.byteLength+n.byteOffset));n=null,a.data=t}s&&s(a)}},this.DelSession=function(t,n){_.transaction(["sessions"],"readwrite").objectStore("sessions").delete(t).onsuccess=function(e){n&&n(t)}},this.ListSessions=function(n){var e=_.transaction(["sessions"],"readonly").objectStore("sessions").openCursor(),a=[];e.onerror=function(e){console.err("error fetching data")},e.onsuccess=function(e){var t,e=e.target.result;e?(e.primaryKey,t=e.value,a.push(t),e.continue()):(t=a.sort(function(e,t){return e.created>t.created?-1:e.created<t.created?1:0}),n&&n(t))}}}})((window,document)),(e=>{function m(e,t,n){for(var a=new Array(n),r=0;r<n;r++)a[r]=e.getUint8(t+r);return a}function h(e,t,n,a){var r,i=m(e,t,n);switch(a.toLowerCase()){case"utf-16":case"utf-16le":case"utf-16be":r=s(i,a);break;case"utf-8":r=o(i);break;default:r=l(i)}return r}function b(e,t,n){for(var a=[],r=t,i=0;r<t+n;r++,i++)a[i]=String.fromCharCode(e.getUint8(r));return a.join("")}function v(e,t,n){return(n=n?(e.getUint8(t)<<8)+e.getUint8(t+1):(e.getUint8(t+1)<<8)+e.getUint8(t))<0&&(n+=65536),n}function g(e,t,n){var a=e.getUint8(t),r=e.getUint8(t+1),e=e.getUint8(t+2);return(t=n?((a<<8)+r<<8)+e:((e<<8)+r<<8)+a)<0&&(t+=16777216),t}function k(e,t){var n=t.getUint8(e),a=t.getUint8(e+1),r=t.getUint8(e+2);return 127&t.getUint8(e+3)|(127&r)<<7|(127&a)<<14|(127&n)<<21}function d(e,t,n,a,r){var i={},s=a.major;for(r=(e=>{for(var t,n=[],a=0;t=e[a];a++)n=n.concat(E[t]||[t]);return n})(r||R);e<t;){var o,l,c=null,u=n,f=e,d=null;switch(s){case 2:var p=b(u,f,3),_=g(u,f+3,!0),m=6;break;case 3:p=b(u,f,4),_=y(u,f+4,!0),m=10;break;case 4:p=b(u,f,4),_=k(f+4,u),m=10}if(""==p)break;e+=m+_,r.indexOf(p)<0||(2<s&&(d={message:{tag_alter_preservation:w(o=u,l=f+8,6),file_alter_preservation:w(o,l,5),read_only:w(o,l,4)},format:{grouping_identity:w(o,l+1,7),compression:w(o,l+1,3),encription:w(o,l+1,2),unsynchronisation:w(o,l+1,1),data_length_indicator:w(o,l+1,0)}}),f+=m,d&&d.format.data_length_indicator&&(k(f,u),f+=4,_-=4),d&&d.format.unsynchronisation)||(p in A.readFrameData?c=A.readFrameData[p]:"T"==p[0]&&(c=A.readFrameData["T*"]),o=c?c(f,_,u,d):void 0,l={id:p,size:_,description:p in A.frames?A.frames[p]:"Unknown",data:o},p in i?(i[p].id&&(i[p]=[i[p]]),i[p].push(l)):i[p]=l)}return i}var s=function(e,t,n){for(var a=0,r=1,i=0,s=(n=Math.min(n||e.length,e.length),254==e[0]&&255==e[1]?(t=!0,a=2):255==e[0]&&254==e[1]&&(t=!1,a=2),t&&(r=0,i=1),[]),o=0;a<n;o++){var l,c=e[a+r],u=(c<<8)+e[a+i];if(a+=2,0==u)break;c<216||224<=c?s[o]=String.fromCharCode(u):(c=e[a+r],l=e[a+i],a+=2,s[o]=String.fromCharCode(u,(c<<8)+l))}t=new String(s.join(""));return t.bytesReadCount=a,t},o=function(e,t){for(var n=0,a=(t=Math.min(t||e.length,e.length),239==e[0]&&187==e[1]&&191==e[2]&&(n=3),[]),r=0;n<t;r++){var i,s,o=e[n++];if(0==o)break;o<128?a[r]=String.fromCharCode(o):194<=o&&o<224?(i=e[n++],a[r]=String.fromCharCode(((31&o)<<6)+(63&i))):224<=o&&o<240?(i=e[n++],s=e[n++],a[r]=String.fromCharCode(((255&o)<<12)+((63&i)<<6)+(63&s))):240<=o&&o<245&&(o=((7&o)<<18)+((63&(i=e[n++]))<<12)+((63&(s=e[n++]))<<6)+(63&e[n++])-65536,a[r]=String.fromCharCode(55296+(o>>10),56320+(1023&o)))}var l=new String(a.join(""));return l.bytesReadCount=n,l},l=function(e,t){var n=[];t=t||e.length;for(var a=0;a<t;){var r=e[a++];if(0==r)break;n[a-1]=String.fromCharCode(r)}var i=new String(n.join(""));return i.bytesReadCount=a,i},A={readFrameData:{},frames:{BUF:"Recommended buffer size",CNT:"Play counter",COM:"Comments",CRA:"Audio encryption",CRM:"Encrypted meta frame",ETC:"Event timing codes",EQU:"Equalization",GEO:"General encapsulated object",IPL:"Involved people list",LNK:"Linked information",MCI:"Music CD Identifier",MLL:"MPEG location lookup table",PIC:"Attached picture",POP:"Popularimeter",REV:"Reverb",RVA:"Relative volume adjustment",SLT:"Synchronized lyric/text",STC:"Synced tempo codes",TAL:"Album/Movie/Show title",TBP:"BPM (Beats Per Minute)",TCM:"Composer",TCO:"Content type",TCR:"Copyright message",TDA:"Date",TDY:"Playlist delay",TEN:"Encoded by",TFT:"File type",TIM:"Time",TKE:"Initial key",TLA:"Language(s)",TLE:"Length",TMT:"Media type",TOA:"Original artist(s)/performer(s)",TOF:"Original filename",TOL:"Original Lyricist(s)/text writer(s)",TOR:"Original release year",TOT:"Original album/Movie/Show title",TP1:"Lead artist(s)/Lead performer(s)/Soloist(s)/Performing group",TP2:"Band/Orchestra/Accompaniment",TP3:"Conductor/Performer refinement",TP4:"Interpreted, remixed, or otherwise modified by",TPA:"Part of a set",TPB:"Publisher",TRC:"ISRC (International Standard Recording Code)",TRD:"Recording dates",TRK:"Track number/Position in set",TSI:"Size",TSS:"Software/hardware and settings used for encoding",TT1:"Content group description",TT2:"Title/Songname/Content description",TT3:"Subtitle/Description refinement",TXT:"Lyricist/text writer",TXX:"User defined text information frame",TYE:"Year",UFI:"Unique file identifier",ULT:"Unsychronized lyric/text transcription",WAF:"Official audio file webpage",WAR:"Official artist/performer webpage",WAS:"Official audio source webpage",WCM:"Commercial information",WCP:"Copyright/Legal information",WPB:"Publishers official webpage",WXX:"User defined URL link frame",AENC:"Audio encryption",APIC:"Attached picture",COMM:"Comments",COMR:"Commercial frame",ENCR:"Encryption method registration",EQUA:"Equalization",ETCO:"Event timing codes",GEOB:"General encapsulated object",GRID:"Group identification registration",IPLS:"Involved people list",LINK:"Linked information",MCDI:"Music CD identifier",MLLT:"MPEG location lookup table",OWNE:"Ownership frame",PRIV:"Private frame",PCNT:"Play counter",POPM:"Popularimeter",POSS:"Position synchronisation frame",RBUF:"Recommended buffer size",RVAD:"Relative volume adjustment",RVRB:"Reverb",SYLT:"Synchronized lyric/text",SYTC:"Synchronized tempo codes",TALB:"Album/Movie/Show title",TBPM:"BPM (beats per minute)",TCOM:"Composer",TCON:"Content type",TCOP:"Copyright message",TDAT:"Date",TDLY:"Playlist delay",TENC:"Encoded by",TEXT:"Lyricist/Text writer",TFLT:"File type",TIME:"Time",TIT1:"Content group description",TIT2:"Title/songname/content description",TIT3:"Subtitle/Description refinement",TKEY:"Initial key",TLAN:"Language(s)",TLEN:"Length",TMED:"Media type",TOAL:"Original album/movie/show title",TOFN:"Original filename",TOLY:"Original lyricist(s)/text writer(s)",TOPE:"Original artist(s)/performer(s)",TORY:"Original release year",TOWN:"File owner/licensee",TPE1:"Lead performer(s)/Soloist(s)",TPE2:"Band/orchestra/accompaniment",TPE3:"Conductor/performer refinement",TPE4:"Interpreted, remixed, or otherwise modified by",TPOS:"Part of a set",TPUB:"Publisher",TRCK:"Track number/Position in set",TRDA:"Recording dates",TRSN:"Internet radio station name",TRSO:"Internet radio station owner",TSIZ:"Size",TSRC:"ISRC (international standard recording code)",TSSE:"Software/Hardware and settings used for encoding",TYER:"Year",TXXX:"User defined text information frame",UFID:"Unique file identifier",USER:"Terms of use",USLT:"Unsychronized lyric/text transcription",WCOM:"Commercial information",WCOP:"Copyright/Legal information",WOAF:"Official audio file webpage",WOAR:"Official artist/performer webpage",WOAS:"Official audio source webpage",WORS:"Official internet radio station homepage",WPAY:"Payment",WPUB:"Publishers official webpage",WXXX:"User defined URL link frame"}},c=["32x32 pixels 'file icon' (PNG only)","Other file icon","Cover (front)","Cover (back)","Leaflet page","Media (e.g. lable side of CD)","Lead artist/lead performer/soloist","Artist/performer","Conductor","Band/Orchestra","Composer","Lyricist/text writer","Recording Location","During recording","During performance","Movie/video screen capture","A bright coloured fish","Illustration","Band/artist logotype","Publisher/Studio logotype"],y=function(e,t,n){var a=e.getUint8(t),r=e.getUint8(t+1),i=e.getUint8(t+2),e=e.getUint8(t+3),t=n?(((a<<8)+r<<8)+i<<8)+e:(((e<<8)+i<<8)+r<<8)+a;return t<0&&(t+=4294967296),t},w=function(e,t,n){return 0!=(e.getUint8(t)&1<<n)},E={title:["TIT2","TT2"],artist:["TPE1","TP1"],album:["TALB","TAL"],year:["TYER","TYE"],comment:["COMM","COM"],track:["TRCK","TRK"],genre:["TCON","TCO"],picture:["APIC","PIC"],lyrics:["USLT","ULT"]},R=["title","artist","album","track"];function u(e){var t;switch(e){case 0:t="iso-8859-1";break;case 1:t="utf-16";break;case 2:t="utf-16be";break;case 3:t="utf-8"}return t}A.readFrameData.APIC=function(e,t,n,a,r){r=r||"3";var i=e,s=u(n.getUint8(e));switch(r){case"2":var o=b(n,e+1,3);e+=4;break;case"3":case"4":e+=1+(o=h(n,e+1,t-(e-i),"")).bytesReadCount}r=n.getUint8(e,1),r=c[r],s=h(n,e+1,t-(e-i),s);return e+=1+s.bytesReadCount,{format:o.toString(),type:r,description:s.toString(),data:m(n,e,i+t-e)}},A.readFrameData.COMM=function(e,t,n){var a=e,r=u(n.getUint8(e)),i=b(n,e+1,3),s=h(n,e+4,t-4,r),n=(e+=4+s.bytesReadCount,h(n,e,a+t-e,r));return{language:i,short_description:s.toString(),text:n.toString()}},A.readFrameData.COM=A.readFrameData.COMM,A.readFrameData.PIC=function(e,t,n,a){return A.readFrameData.APIC(e,t,n,a,"2")},A.readFrameData.PCNT=function(e,t,n){return n.getInteger32At(e)},A.readFrameData.CNT=A.readFrameData.PCNT,A.readFrameData["T*"]=function(e,t,n){var a=u(n.getUint8(e));return h(n,e+1,t-1,a).toString()},A.readFrameData.TCON=function(e,t,n){return A.readFrameData["T*"].apply(this,arguments).replace(/^\(\d+\)/,"")},A.readFrameData.TCO=A.readFrameData.TCON,A.readFrameData.USLT=function(e,t,n){var a=e,r=u(n.getUint8(e)),i=b(n,e+1,3),s=h(n,e+4,t-4,r),n=(e+=4+s.bytesReadCount,h(n,e,a+t-e,r));return{language:i,descriptor:s.toString(),lyrics:n.toString()}},A.readFrameData.ULT=A.readFrameData.USLT,A.ReadTags=function(e){var t=new DataView(e),e=0,n=t.getUint8(e+3);if(4<n)return{version:">2.4"};var a,r,i=t.getUint8(e+4),s=w(t,e+5,7),o=w(t,e+5,6),l=w(t,e+5,5),c=k(e+6,t),u=(e+=10,o&&(e+=t.getInt32(e,!0)+4),{version:"2."+n+"."+i,major:n,revision:i,flags:{unsynchronisation:s,extended_header:o,experimental_indicator:l},size:c}),f=s?{}:d(e,c-10,t,u);for(a in E)E.hasOwnProperty(a)&&(t=((e,t)=>{"string"==typeof t&&(t=[t]);for(var n,a=0;n=t[a];a++)if(n in e)return e[n].data})(f,E[a]))&&(u[a]=t);for(r in f)f.hasOwnProperty(r)&&(u[r]=f[r]);return u},e.ID3v2=A;var C={types:{0:"uint8",1:"text",13:"jpeg",14:"png",21:"uint8"},atom:{"©alb":["album"],"©art":["artist"],"©ART":["artist"],aART:["artist"],"©day":["year"],"©nam":["title"],"©gen":["genre"],trkn:["track"],"©wrt":["composer"],"©too":["encoder"],cprt:["copyright"],covr:["picture"],"©grp":["grouping"],keyw:["keyword"],"©lyr":["lyrics"],"©cmt":["comment"],tmpo:["tempo"],cpil:["compilation"],disk:["disc"]}};C.loadData=function(e,t){e=new DataView(e);!function e(t,n,a,r){var i=y(t,n,!0);if(0==i)return r();var s=b(t,n+4,4);-1<["moov","udta","meta","ilst"].indexOf(s)?("meta"==s&&(n+=4),e(t,n+8,i-8,r)):(0 in C.atom,e(t,n+i,a,r))}(e,0,e.byteLength,t)},C.ReadTags=function(e){var e=new DataView(e),t={};return function e(t,n,a,r,i){i=void 0===i?"":i+"  ";var s=a;for(;s<a+r;){var o=n.getInt32(s);if(0==o)return;var l=b(n,s+4,4);if("meta"===l)return void e(t,n,(s+=4)+8,o-8,i);if("moov"===l||"udta"===l||"ilst"===l)return void e(t,n,s+8,o-8,i);if(C.atom[l]){var c=g(n,s+16+1,!0),u=C.atom[l],f=C.types[c];if("trkn"===l)t[u[0]]=n.getUint8(s+16+11),t.count=n.getUint8(s+16+13);else{var d,p=s+16+4+4,_=o-16-4-4;switch(f){case"text":d=h(n,p,_,"UTF-8");break;case"uint8":d=v(n,p);break;case"jpeg":case"png":d={format:"image/"+f,data:m(n,p,_)}}"comment"===u[0]?t[u[0]]={text:d}:t[u[0]]=d}}s+=o}}(t,e,0,e.byteLength),t},e.ID4=C})(window,document),(a=>{e=document.currentScript.src;let r=null!==(t=/[^\/]+$/.exec(e))?e.slice(0,t.index):"";var e,t;function i(e){e&&null!==e.parentNode&&e.parentNode.removeChild(e)}function n(){if(a.LZ4BlockWASM instanceof Function){let e=new a.LZ4BlockWASM;return e.init().then(()=>e)}return null===a.LZ4BlockWASM?Promise.resolve(null):new Promise((t,n)=>{var e=document.createElement("script");e.src=r+"lz4-block-codec-wasm.js",e.addEventListener("load",()=>{if(a.LZ4BlockWASM instanceof Function==!1)a.LZ4BlockWASM=null,a.LZ4BlockWASM=void 0,t(null);else{let e=new a.LZ4BlockWASM;e.init().then(()=>{t(e)}).catch(e=>{n(e)})}}),e.addEventListener("error",()=>{a.LZ4BlockWASM=null,t(null)}),document.head.appendChild(e),i(e)})}function s(){if(a.LZ4BlockJS instanceof Function){let e=new a.LZ4BlockJS;return e.init().then(()=>e)}return null===a.LZ4BlockJS?Promise.resolve(null):new Promise((t,n)=>{var e=document.createElement("script");e.src=r+"lz4-block-codec-js.js",e.addEventListener("load",()=>{if(a.LZ4BlockJS instanceof Function==!1)a.LZ4BlockJS=null,t(null);else{let e=new a.LZ4BlockJS;e.init().then(()=>{t(e)}).catch(e=>{n(e)})}}),e.addEventListener("error",()=>{a.LZ4BlockJS=null,t(null)}),document.head.appendChild(e),i(e)})}a.lz4BlockCodec={createInstance:function(t){let e;return(e="wasm"!==t&&"js"===t?s:n)().then(e=>e||(void 0===t?s():null)).catch(()=>void 0===t?s():null)},reset:function(){a.LZ4BlockWASM=void 0,a.LZ4BlockJS=void 0}}})(this||self),importScripts("libflac.js");var flacEncoder,FLAC_INITIALIZED=!1,sample_rate=44100,compression=5,channels=1,buffers=[],bufIndex=0,first_buffer=!0,samples_left=null,samples_right=null;function convert(e){return Math.max(-32768,Math.min(32768,e<0?32768*e:32767*e))}function initFLAC(){var e;return!!FLAC_INITIALIZED||0!=(flacEncoder=Flac.create_libflac_encoder(sample_rate,channels,16,compression,0,!0,0))&&(e=Flac.init_encoder_stream(flacEncoder,function(e,t){buffers.push(new Uint8Array(e)),bufIndex+=e.byteLength}),FLAC_INITIALIZED=!0,0==e)}function interleave(e,t){for(var n=e.length+t.length,a=new Int32Array(n),r=0,i=0;r<n;)a[r++]=e[i],a[r++]=t[i],++i;return a}function lamejs(){function R(e){return new Int8Array(e)}function r(e){return new Int16Array(e)}function Ht(e){return new Int32Array(e)}function qt(e){return new Float32Array(e)}function a(e){return new Float64Array(e)}function Vt(e){if(1==e.length)return qt(e[0]);for(var t=e[0],n=(e=e.slice(1),[]),a=0;a<t;a++)n.push(Vt(e));return n}function Y(e){if(1==e.length)return Ht(e[0]);for(var t=e[0],n=(e=e.slice(1),[]),a=0;a<t;a++)n.push(Y(e));return n}function m(e){if(1==e.length)return r(e[0]);for(var t=e[0],n=(e=e.slice(1),[]),a=0;a<t;a++)n.push(m(e));return n}function W(e){if(1==e.length)return new Array(e[0]);for(var t=e[0],n=(e=e.slice(1),[]),a=0;a<t;a++)n.push(W(e));return n}var Ut={fill:function(e,t,n,a){if(2==arguments.length)for(var r=0;r<e.length;r++)e[r]=t;else for(r=t;r<n;r++)e[r]=a}},$={arraycopy:function(e,t,n,a,r){for(var i=t+r;t<i;)n[a++]=e[t++]}},Xt={};function Kt(e){this.ordinal=e}Xt.SQRT2=1.4142135623730951,Xt.FAST_LOG10=function(e){return Math.log10(e)},Xt.FAST_LOG10_X=function(e,t){return Math.log10(e)*t},Kt.short_block_allowed=new Kt(0),Kt.short_block_coupled=new Kt(1),Kt.short_block_dispensed=new Kt(2),Kt.short_block_forced=new Kt(3);var F={};function jt(e){this.ordinal=e}F.MAX_VALUE=34028235e31,jt.vbr_off=new jt(0),jt.vbr_mt=new jt(1),jt.vbr_rh=new jt(2),jt.vbr_abr=new jt(3),jt.vbr_mtrh=new jt(4),jt.vbr_default=jt.vbr_mtrh;function zt(e){var t=e;this.ordinal=function(){return t}}function y(){this.getLameVersion=function(){return"3.98.4"},this.getLameShortVersion=function(){return"3.98.4"},this.getLameVeryShortVersion=function(){return"LAME3.98r"},this.getPsyVersion=function(){return"0.93"},this.getLameUrl=function(){return"http://www.mp3dev.org/"},this.getLameOsBitness=function(){return"32bits"}}function S(){var F=null;function T(e){this.bits=0|e}this.qupvt=null,this.setModules=function(e){this.qupvt=e,F=e};var r=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function D(e,t,n,a,r,i){var s=.5946/t;for(e>>=1;0!=e--;)r[i++]=s>n[a++]?0:1,r[i++]=s>n[a++]?0:1}function x(e,t,n,a,r,i){var s,o,l,c,u,f,d=(e>>=1)%2;for(e>>=1;0!=e--;)u=n[a++]*t,f=n[a++]*t,s=n[a++]*t,o=n[a++]*t,l=0|s,u+=F.adj43[0|u],c=0|o,f+=F.adj43[0|f],r[i++]=0|u,s+=F.adj43[l],r[i++]=0|f,o+=F.adj43[c],r[i++]=0|s,r[i++]=0|o;0!=d&&(u=n[a++]*t,f=n[a++]*t,u+=F.adj43[0|u],f+=F.adj43[0|f],r[i++]=0|u,r[i++]=0|f)}var j=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function M(e,t,n,a){var r,i,s=((e,t,n)=>{var a=0,r=0;do{var i=e[t++],s=e[t++]}while(a<i&&(a=i),r<s&&(r=s),t<n);return a=a<r?r:a})(e,t,n);switch(s){case 0:return s;case 1:var o=e,l=t,c=n,u=a,f=0,d=J.ht[1].hlen;do{var p=2*o[l+0]+o[l+1]}while(f+=d[p],(l+=2)<c);return u.bits+=f,1;case 2:case 3:var _=e,m=t,h=n,u=j[s-1],b=a,v=0,g=J.ht[u].xlen,I=2==u?J.table23:J.table56;do{var N=_[m+0]*g+_[m+1]}while(v+=I[N],(m+=2)<h);return(y=65535&v)<(v>>=16)&&(v=y,u++),b.bits+=v,u;case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:var k=e,A=t,O=n,y=j[s-1],b=a,w=0,E=0,R=0,H=J.ht[y].xlen,q=J.ht[y].hlen,V=J.ht[y+1].hlen,U=J.ht[y+2].hlen;do{var C=k[A+0]*H+k[A+1]}while(w+=q[C],E+=V[C],R+=U[C],(A+=2)<O);var S=y;return E<w&&(w=E,S++),R<w&&(w=R,S=y+2),b.bits+=w,S;default:if(z.IXMAX_VAL<s)return a.bits=z.LARGE_BITS,-1;for(s-=15,r=24;r<32&&!(J.ht[r].linmax>=s);r++);for(i=r-8;i<24&&!(J.ht[i].linmax>=s);i++);var T,M=e,P=t,X=n,S=i,B=r,K=a,F=65536*J.ht[S].xlen+J.ht[B].xlen,D=0;do{var x=M[P++],L=M[P++]}while(0!=x&&(14<x&&(x=15,D+=F),x*=16),0!=L&&(14<L&&(L=15,D+=F),x+=L),D+=J.largetbl[x],P<X);return(T=65535&D)<(D>>=16)&&(D=T,S=B),K.bits+=D,S}}function P(e,t,n,a,r,i,s,o){for(var l=t.big_values,c=2;c<Wt.SBMAX_l+1;c++){var u=e.scalefac_band.l[c];if(l<=u)break;var f=r[c-2]+t.count1bits;if(n.part2_3_length<=f)break;var d=new T(f),u=M(a,u,l,d),f=d.bits;n.part2_3_length<=f||(n.assign(t),n.part2_3_length=f,n.region0_count=i[c-2],n.region1_count=c-2-i[c-2],n.table_select[0]=s[c-2],n.table_select[1]=o[c-2],n.table_select[2]=u)}}this.noquant_count_bits=function(e,t,n){var a=t.l3_enc,r=Math.min(576,t.max_nonzero_coeff+2>>1<<1);for(null!=n&&(n.sfb_count1=0);1<r&&0==(a[r-1]|a[r-2]);r-=2);t.count1=r;for(var i,s=0,o=0;3<r&&!(1<(2147483647&(a[r-1]|a[r-2]|a[r-3]|a[r-4])));r-=4)i=2*(2*(2*a[r-4]+a[r-3])+a[r-2])+a[r-1],s+=J.t32l[i],o+=J.t33l[i];var l,c=s;if((t.count1table_select=0,o<s&&(c=o,t.count1table_select=1),t.count1bits=c,0!=(t.big_values=r))&&(t.block_type==Wt.SHORT_TYPE?((s=3*e.scalefac_band.s[3])>t.big_values&&(s=t.big_values),o=t.big_values):t.block_type==Wt.NORM_TYPE?(s=t.region0_count=e.bv_scf[r-2],o=t.region1_count=e.bv_scf[r-1],o=e.scalefac_band.l[s+o+2],s=e.scalefac_band.l[s+1],o<r&&(l=new T(c),t.table_select[2]=M(a,o,r,l),c=l.bits)):(t.region0_count=7,t.region1_count=Wt.SBMAX_l-1-7-1,(o=r)<(s=e.scalefac_band.l[8])&&(s=o)),s=Math.min(s,r),o=Math.min(o,r),0<s&&(l=new T(c),t.table_select[0]=M(a,0,s,l),c=l.bits),s<o&&(l=new T(c),t.table_select[1]=M(a,s,o,l),c=l.bits),2==e.use_best_huffman&&(t.part2_3_length=c,best_huffman_divide(e,t),c=t.part2_3_length),null!=n&&t.block_type==Wt.NORM_TYPE)){for(var u=0;e.scalefac_band.l[u]<t.big_values;)u++;n.sfb_count1=u}return c},this.count_bits=function(e,t,n,a){var r=n.l3_enc,i=z.IXMAX_VAL/F.IPOW20(n.global_gain);if(n.xrpow_max>i)return z.LARGE_BITS;for(var s=t,o=r,l=F.IPOW20(n.global_gain),c=n,u=a,f=0,d=0,p=0,_=0,m=o,h=0,b=m,v=0,g=s,k=0,A=null!=u&&c.global_gain==u.global_gain,y=c.block_type==Wt.SHORT_TYPE?38:21,w=0;w<=y;w++){var E=-1;if(!A&&c.block_type!=Wt.NORM_TYPE||(E=c.global_gain-(c.scalefac[w]+(0!=c.preflag?F.pretab[w]:0)<<c.scalefac_scale+1)-8*c.subblock_gain[c.window[w]]),A&&u.step[w]==E)0!=d&&(x(d,l,g,k,b,v),d=0),0!=p&&(D(p,l,g,k,b,v),p=0);else{var R,C=c.width[w];if(f+c.width[w]>c.max_nonzero_coeff&&(R=c.max_nonzero_coeff-f+1,Ut.fill(o,c.max_nonzero_coeff,576,0),(C=R)<0&&(C=0),w=y+1),0==d&&0==p&&(b=m,v=h,g=s,k=_),null!=u&&0<u.sfb_count1&&w>=u.sfb_count1&&0<u.step[w]&&E>=u.step[w]?(0!=d&&(x(d,l,g,k,b,v),d=0,b=m,v=h,g=s,k=_),p+=C):(0!=p&&(D(p,l,g,k,b,v),p=0,b=m,v=h,g=s,k=_),d+=C),C<=0){0!=p&&(D(p,l,g,k,b,v),p=0),0!=d&&(x(d,l,g,k,b,v),d=0);break}}w<=y&&(h+=c.width[w],_+=c.width[w],f+=c.width[w])}if(0!=d&&(x(d,l,g,k,b,v),d=0),0!=p&&D(p,l,g,k,b,v),0!=(2&e.substep_shaping))for(var S=0,i=n.global_gain+n.scalefac_scale,T=.634521682242439/F.IPOW20(i),M=0;M<n.sfbmax;M++){var P=n.width[M];if(0==e.pseudohalf[M])S+=P;else{var B=S;for(S+=P;B<S;++B)r[B]=t[B]>=T?r[B]:0}}return this.noquant_count_bits(e,n,a)},this.best_huffman_divide=function(e,t){var n=new O,a=t.l3_enc,r=Ht(23),i=Ht(23),s=Ht(23),o=Ht(23);if(t.block_type!=Wt.SHORT_TYPE||1!=e.mode_gr){if(n.assign(t),t.block_type==Wt.NORM_TYPE){for(var l=e,c=a,u=r,f=i,d=s,p=o,_=t.big_values,m=0;m<=22;m++)u[m]=z.LARGE_BITS;for(m=0;m<16;m++){var h=l.scalefac_band.l[m+1];if(_<=h)break;for(var b=M(c,0,h,A=new T(0)),v=A.bits,g=0;g<8;g++){var k=l.scalefac_band.l[m+g+2];if(_<=k)break;var A,k=M(c,h,k,A=new T(v)),y=A.bits;u[m+g]>y&&(u[m+g]=y,d[(f[m+g]=m)+g]=b,p[m+g]=k)}}P(e,n,t,a,r,i,s,o)}var w=n.big_values;if(!(0==w||1<(a[w-2]|a[w-1])||576<(w=t.count1+2))){n.assign(t),n.count1=w;for(var E,R=0,C=0;w>n.big_values;w-=4){var S=2*(2*(2*a[w-4]+a[w-3])+a[w-2])+a[w-1];R+=J.t32l[S],C+=J.t33l[S]}n.big_values=w,n.count1table_select=0,C<R&&(R=C,n.count1table_select=1),n.count1bits=R,n.block_type==Wt.NORM_TYPE?P(e,n,t,a,r,i,s,o):(n.part2_3_length=R,0<(R=w<(R=e.scalefac_band.l[8])?w:R)&&(E=new T(n.part2_3_length),n.table_select[0]=M(a,0,R,E),n.part2_3_length=E.bits),R<w&&(E=new T(n.part2_3_length),n.table_select[1]=M(a,R,w,E),n.part2_3_length=E.bits),t.part2_3_length>n.part2_3_length&&t.assign(n))}}};var w=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],E=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],R=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],C=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];S.slen1_tab=R,S.slen2_tab=C,this.best_scalefac_store=function(e,t,n,a){var r,i,s=a.tt[t][n],o=0,l=0;for(f=0;f<s.sfbmax;f++){var c=s.width[f];for(l+=c,i=-c;i<0&&0==s.l3_enc[i+l];i++);0==i&&(s.scalefac[f]=o=-2)}if(0==s.scalefac_scale&&0==s.preflag){for(var u=0,f=0;f<s.sfbmax;f++)0<s.scalefac[f]&&(u|=s.scalefac[f]);if(0==(1&u)&&0!=u){for(f=0;f<s.sfbmax;f++)0<s.scalefac[f]&&(s.scalefac[f]>>=1);s.scalefac_scale=o=1}}if(0==s.preflag&&s.block_type!=Wt.SHORT_TYPE&&2==e.mode_gr){for(f=11;f<Wt.SBPSY_l&&!(s.scalefac[f]<F.pretab[f]&&-2!=s.scalefac[f]);f++);if(f==Wt.SBPSY_l){for(f=11;f<Wt.SBPSY_l;f++)0<s.scalefac[f]&&(s.scalefac[f]-=F.pretab[f]);s.preflag=o=1}}for(r=0;r<4;r++)a.scfsi[n][r]=0;if(2==e.mode_gr&&1==t&&a.tt[0][n].block_type!=Wt.SHORT_TYPE&&a.tt[1][n].block_type!=Wt.SHORT_TYPE){for(var d=n,p=a,_=p.tt[1][d],m=p.tt[0][d],h=0;h<J.scfsi_band.length-1;h++){for(g=J.scfsi_band[h];g<J.scfsi_band[h+1]&&!(m.scalefac[g]!=_.scalefac[g]&&0<=_.scalefac[g]);g++);if(g==J.scfsi_band[h+1]){for(g=J.scfsi_band[h];g<J.scfsi_band[h+1];g++)_.scalefac[g]=-1;p.scfsi[d][h]=1}}for(var b=0,v=0,g=0;g<11;g++)-1!=_.scalefac[g]&&(v++,b<_.scalefac[g])&&(b=_.scalefac[g]);for(var k=0,A=0;g<Wt.SBPSY_l;g++)-1!=_.scalefac[g]&&(A++,k<_.scalefac[g])&&(k=_.scalefac[g]);for(var y,h=0;h<16;h++)b<w[h]&&k<E[h]&&_.part2_length>(y=R[h]*v+C[h]*A)&&(_.part2_length=y,_.scalefac_compress=h);o=0}for(f=0;f<s.sfbmax;f++)-2==s.scalefac[f]&&(s.scalefac[f]=0);0!=o&&(2==e.mode_gr?this.scale_bitcount(s):this.scale_bitcount_lsf(e,s))};var o=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],l=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],c=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74],b=(this.scale_bitcount=function(e){var t,n,a,r=0,i=0,s=e.scalefac;if(e.block_type==Wt.SHORT_TYPE)a=o,0!=e.mixed_block_flag&&(a=l);else if(a=c,0==e.preflag){for(n=11;n<Wt.SBPSY_l&&!(s[n]<F.pretab[n]);n++);if(n==Wt.SBPSY_l)for(e.preflag=1,n=11;n<Wt.SBPSY_l;n++)s[n]-=F.pretab[n]}for(n=0;n<e.sfbdivide;n++)r<s[n]&&(r=s[n]);for(;n<e.sfbmax;n++)i<s[n]&&(i=s[n]);for(e.part2_length=z.LARGE_BITS,t=0;t<16;t++)r<w[t]&&i<E[t]&&e.part2_length>a[t]&&(e.part2_length=a[t],e.scalefac_compress=t);return e.part2_length==z.LARGE_BITS},[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]]),v=(this.scale_bitcount_lsf=function(e,t){for(var n,a,r,i,s,o,l,c=Ht(4),u=t.scalefac,f=0!=t.preflag?2:0,d=0;d<4;d++)c[d]=0;if(t.block_type==Wt.SHORT_TYPE)for(var p=1,_=F.nr_of_sfb_block[f][p],m=0,h=0;h<4;h++)for(n=_[h]/3,d=0;d<n;d++,m++)for(a=0;a<3;a++)u[3*m+a]>c[h]&&(c[h]=u[3*m+a]);else{_=F.nr_of_sfb_block[f][p=0];for(h=m=0;h<4;h++)for(n=_[h],d=0;d<n;d++,m++)u[m]>c[h]&&(c[h]=u[m])}for(r=!1,h=0;h<4;h++)c[h]>b[f][h]&&(r=!0);if(!r){for(t.sfb_partition_table=F.nr_of_sfb_block[f][p],h=0;h<4;h++)t.slen[h]=v[c[h]];switch(i=t.slen[0],s=t.slen[1],o=t.slen[2],l=t.slen[3],f){case 0:t.scalefac_compress=(5*i+s<<4)+(o<<2)+l;break;case 1:t.scalefac_compress=400+(5*i+s<<2)+o;break;case 2:t.scalefac_compress=500+3*i+s;break;default:$.err.printf("intensity stereo not implemented yet\n")}}if(!r)for(h=t.part2_length=0;h<4;h++)t.part2_length+=t.slen[h]*t.sfb_partition_table[h];return r},[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4]);this.huffman_init=function(e){for(var t=2;t<=576;t+=2){for(var n,a=0;e.scalefac_band.l[++a]<t;);for(n=r[a][0];e.scalefac_band.l[n+1]>t;)n--;for(n<0&&(n=r[a][0]),e.bv_scf[t-2]=n,n=r[a][1];e.scalefac_band.l[n+e.bv_scf[t-2]+2]>t;)n--;n<0&&(n=r[a][1]),e.bv_scf[t-1]=n}}}function Z(){var a=Z.RMS_WINDOW_TIME_NUMERATOR,r=Z.RMS_WINDOW_TIME_DENOMINATOR,m=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],h=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function b(e,t,n,a,r,i){for(;0!=r--;)n[a]=1e-10+e[t+0]*i[0]-n[a-1]*i[1]+e[t-1]*i[2]-n[a-2]*i[3]+e[t-2]*i[4]-n[a-3]*i[5]+e[t-3]*i[6]-n[a-4]*i[7]+e[t-4]*i[8]-n[a-5]*i[9]+e[t-5]*i[10]-n[a-6]*i[11]+e[t-6]*i[12]-n[a-7]*i[13]+e[t-7]*i[14]-n[a-8]*i[15]+e[t-8]*i[16]-n[a-9]*i[17]+e[t-9]*i[18]-n[a-10]*i[19]+e[t-10]*i[20],++a,++t}function v(e,t,n,a,r,i){for(;0!=r--;)n[a]=e[t+0]*i[0]-n[a-1]*i[1]+e[t-1]*i[2]-n[a-2]*i[3]+e[t-2]*i[4],++a,++t}function g(e){return e*e}this.InitGainAnalysis=function(e,t){return((e,t)=>{for(var n=0;n<MAX_ORDER;n++)e.linprebuf[n]=e.lstepbuf[n]=e.loutbuf[n]=e.rinprebuf[n]=e.rstepbuf[n]=e.routbuf[n]=0;switch(0|t){case 48e3:e.reqindex=0;break;case 44100:e.reqindex=1;break;case 32e3:e.reqindex=2;break;case 24e3:e.reqindex=3;break;case 22050:e.reqindex=4;break;case 16e3:e.reqindex=5;break;case 12e3:e.reqindex=6;break;case 11025:e.reqindex=7;break;case 8e3:e.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return e.sampleWindow=0|(t*a+r-1)/r,e.lsum=0,e.rsum=0,e.totsamp=0,Ut.ill(e.A,0),INIT_GAIN_ANALYSIS_OK})(e,t)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(e.linpre=MAX_ORDER,e.rinpre=MAX_ORDER,e.lstep=MAX_ORDER,e.rstep=MAX_ORDER,e.lout=MAX_ORDER,e.rout=MAX_ORDER,Ut.fill(e.B,0),INIT_GAIN_ANALYSIS_OK)},this.AnalyzeSamples=function(e,t,n,a,r,i,s){var o,l;if(0!=i){switch(l=0,o=i,s){case 1:a=t,r=n;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(i<MAX_ORDER?($.arraycopy(t,n,e.linprebuf,MAX_ORDER,i),$.arraycopy(a,r,e.rinprebuf,MAX_ORDER,i)):($.arraycopy(t,n,e.linprebuf,MAX_ORDER,MAX_ORDER),$.arraycopy(a,r,e.rinprebuf,MAX_ORDER,MAX_ORDER));0<o;){c=o>e.sampleWindow-e.totsamp?e.sampleWindow-e.totsamp:o,l<MAX_ORDER?(u=e.linpre+l,f=e.linprebuf,d=e.rinpre+l,p=e.rinprebuf,c>MAX_ORDER-l&&(c=MAX_ORDER-l)):(u=n+l,f=t,d=r+l,p=a),b(f,u,e.lstepbuf,e.lstep+e.totsamp,c,m[e.reqindex]),b(p,d,e.rstepbuf,e.rstep+e.totsamp,c,m[e.reqindex]),v(e.lstepbuf,e.lstep+e.totsamp,e.loutbuf,e.lout+e.totsamp,c,h[e.reqindex]),v(e.rstepbuf,e.rstep+e.totsamp,e.routbuf,e.rout+e.totsamp,c,h[e.reqindex]);for(var c,u=e.lout+e.totsamp,f=e.loutbuf,d=e.rout+e.totsamp,p=e.routbuf,_=c%8;0!=_--;)e.lsum+=g(f[u++]),e.rsum+=g(p[d++]);for(_=c/8;0!=_--;)e.lsum+=g(f[u+0])+g(f[u+1])+g(f[u+2])+g(f[u+3])+g(f[u+4])+g(f[u+5])+g(f[u+6])+g(f[u+7]),u+=8,e.rsum+=g(p[d+0])+g(p[d+1])+g(p[d+2])+g(p[d+3])+g(p[d+4])+g(p[d+5])+g(p[d+6])+g(p[d+7]),d+=8;if(o-=c,l+=c,e.totsamp+=c,e.totsamp==e.sampleWindow&&((c=(c=10*Z.STEPS_per_dB*Math.log10((e.lsum+e.rsum)/e.totsamp*.5+1e-37))<=0?0:0|c)>=e.A.length&&(c=e.A.length-1),e.A[c]++,e.lsum=e.rsum=0,$.arraycopy(e.loutbuf,e.totsamp,e.loutbuf,0,MAX_ORDER),$.arraycopy(e.routbuf,e.totsamp,e.routbuf,0,MAX_ORDER),$.arraycopy(e.lstepbuf,e.totsamp,e.lstepbuf,0,MAX_ORDER),$.arraycopy(e.rstepbuf,e.totsamp,e.rstepbuf,0,MAX_ORDER),e.totsamp=0),e.sampleWindow<e.totsamp)return GAIN_ANALYSIS_ERROR}i<MAX_ORDER?($.arraycopy(e.linprebuf,i,e.linprebuf,0,MAX_ORDER-i),$.arraycopy(e.rinprebuf,i,e.rinprebuf,0,MAX_ORDER-i),$.arraycopy(t,n,e.linprebuf,MAX_ORDER-i,i),$.arraycopy(a,r,e.rinprebuf,MAX_ORDER-i,i)):($.arraycopy(t,n+i-MAX_ORDER,e.linprebuf,0,MAX_ORDER),$.arraycopy(a,r+i-MAX_ORDER,e.rinprebuf,0,MAX_ORDER))}return GAIN_ANALYSIS_OK},this.GetTitleGain=function(e){for(var t=((e,t)=>{for(var n=0,a=0;a<t;a++)n+=e[a];if(0==n)return GAIN_NOT_ENOUGH_SAMPLES;var r=0|Math.ceil(n*(1-.95));for(a=t;0<a--&&!((r-=e[a])<=0););return 64.82-a/Z.STEPS_per_dB})(e.A,e.A.length),n=0;n<e.A.length;n++)e.B[n]+=e.A[n],e.A[n]=0;for(n=0;n<MAX_ORDER;n++)e.linprebuf[n]=e.lstepbuf[n]=e.loutbuf[n]=e.rinprebuf[n]=e.rstepbuf[n]=e.routbuf[n]=0;return e.totsamp=0,e.lsum=e.rsum=0,t}}function w(){function e(e,t,n,a,r,i,s,o,l,c,u,f,d,p,_){this.vbr_q=e,this.quant_comp=t,this.quant_comp_s=n,this.expY=a,this.st_lrm=r,this.st_s=i,this.masking_adj=s,this.masking_adj_short=o,this.ath_lower=l,this.ath_curve=c,this.ath_sensitivity=u,this.interch=f,this.safejoint=d,this.sfb21mod=p,this.msfix=_}function t(e,t,n,a,r,i,s,o,l,c,u,f,d,p){this.quant_comp=t,this.quant_comp_s=n,this.safejoint=a,this.nsmsfix=r,this.st_lrm=i,this.st_s=s,this.nsbass=o,this.scale=l,this.masking_adj=c,this.ath_lower=u,this.ath_curve=f,this.interch=d,this.sfscale=p}this.setModules=function(e){i=e};var i,o=[new e(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new e(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new e(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new e(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new e(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new e(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new e(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new e(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new e(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],l=[new e(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new e(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new e(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new e(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new e(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new e(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new e(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new e(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new e(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function a(e,t,n){var a=e.VBR==jt.vbr_rh?o:l,r=e.VBR_q_frac,i=a[t],a=a[t+1],s=i;i.st_lrm=i.st_lrm+r*(a.st_lrm-i.st_lrm),i.st_s=i.st_s+r*(a.st_s-i.st_s),i.masking_adj=i.masking_adj+r*(a.masking_adj-i.masking_adj),i.masking_adj_short=i.masking_adj_short+r*(a.masking_adj_short-i.masking_adj_short),i.ath_lower=i.ath_lower+r*(a.ath_lower-i.ath_lower),i.ath_curve=i.ath_curve+r*(a.ath_curve-i.ath_curve),i.ath_sensitivity=i.ath_sensitivity+r*(a.ath_sensitivity-i.ath_sensitivity),i.interch=i.interch+r*(a.interch-i.interch),i.msfix=i.msfix+r*(a.msfix-i.msfix),a=e,(i=s.vbr_q)<0&&(i=0),9<i&&(i=9),a.VBR_q=i,(a.VBR_q_frac=0)==n&&0<Math.abs(e.quant_comp- -1)||(e.quant_comp=s.quant_comp),0==n&&0<Math.abs(e.quant_comp_short- -1)||(e.quant_comp_short=s.quant_comp_s),0!=s.expY&&(e.experimentalY=0!=s.expY),0==n&&0<Math.abs(e.internal_flags.nsPsy.attackthre- -1)||(e.internal_flags.nsPsy.attackthre=s.st_lrm),0==n&&0<Math.abs(e.internal_flags.nsPsy.attackthre_s- -1)||(e.internal_flags.nsPsy.attackthre_s=s.st_s),0==n&&0<Math.abs(+e.maskingadjust)||(e.maskingadjust=s.masking_adj),0==n&&0<Math.abs(+e.maskingadjust_short)||(e.maskingadjust_short=s.masking_adj_short),0==n&&0<Math.abs(10*-e.ATHlower)||(e.ATHlower=-s.ath_lower/10),0==n&&0<Math.abs(e.ATHcurve- -1)||(e.ATHcurve=s.ath_curve),0==n&&0<Math.abs(e.athaa_sensitivity- -1)||(e.athaa_sensitivity=s.ath_sensitivity),0<s.interch&&(0==n&&0<Math.abs(e.interChRatio- -1)||(e.interChRatio=s.interch)),0<s.safejoint&&(e.exp_nspsytune=e.exp_nspsytune|s.safejoint),0<s.sfb21mod&&(e.exp_nspsytune=e.exp_nspsytune|s.sfb21mod<<20),0==n&&0<Math.abs(e.msfix- -1)||(e.msfix=s.msfix),0==n&&(e.VBR_q=t,e.VBR_q_frac=r)}var s=[new t(0,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new t(0,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new t(0,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new t(0,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new t(0,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(0,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(0,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new t(0,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new t(0,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new t(0,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new t(0,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new t(0,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new t(0,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new t(0,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new t(0,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new t(0,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new t(0,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function r(e,t,n){var a=t,r=i.nearestBitrateFullIndex(t);return e.VBR=jt.vbr_abr,e.VBR_mean_bitrate_kbps=a,e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,320),e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.brate=e.VBR_mean_bitrate_kbps,320<e.VBR_mean_bitrate_kbps&&(e.disable_reservoir=!0),0<s[r].safejoint&&(e.exp_nspsytune=2|e.exp_nspsytune),0<s[r].sfscale&&(e.internal_flags.noise_shaping=2),0<Math.abs(s[r].nsbass)&&((a=int(4*s[r].nsbass))<0&&(a+=64),e.exp_nspsytune=e.exp_nspsytune|a<<2),0==n&&0<Math.abs(e.quant_comp- -1)||(e.quant_comp=s[r].quant_comp),0==n&&0<Math.abs(e.quant_comp_short- -1)||(e.quant_comp_short=s[r].quant_comp_s),0==n&&0<Math.abs(e.msfix- -1)||(e.msfix=s[r].nsmsfix),0==n&&0<Math.abs(e.internal_flags.nsPsy.attackthre- -1)||(e.internal_flags.nsPsy.attackthre=s[r].st_lrm),0==n&&0<Math.abs(e.internal_flags.nsPsy.attackthre_s- -1)||(e.internal_flags.nsPsy.attackthre_s=s[r].st_s),0==n&&0<Math.abs(e.scale- -1)||(e.scale=s[r].scale),0==n&&0<Math.abs(+e.maskingadjust)||(e.maskingadjust=s[r].masking_adj),0<s[r].masking_adj?0==n&&0<Math.abs(+e.maskingadjust_short)||(e.maskingadjust_short=.9*s[r].masking_adj):0==n&&0<Math.abs(+e.maskingadjust_short)||(e.maskingadjust_short=1.1*s[r].masking_adj),0==n&&0<Math.abs(10*-e.ATHlower)||(e.ATHlower=-s[r].ath_lower/10),0==n&&0<Math.abs(e.ATHcurve- -1)||(e.ATHcurve=s[r].ath_curve),0==n&&0<Math.abs(e.interChRatio- -1)||(e.interChRatio=s[r].interch),t}this.apply_preset=function(e,t,n){switch(t){case C.R3MIX:t=C.V3,e.VBR=jt.vbr_mtrh;break;case C.MEDIUM:t=C.V4,e.VBR=jt.vbr_rh;break;case C.MEDIUM_FAST:t=C.V4,e.VBR=jt.vbr_mtrh;break;case C.STANDARD:t=C.V2,e.VBR=jt.vbr_rh;break;case C.STANDARD_FAST:t=C.V2,e.VBR=jt.vbr_mtrh;break;case C.EXTREME:t=C.V0,e.VBR=jt.vbr_rh;break;case C.EXTREME_FAST:t=C.V0,e.VBR=jt.vbr_mtrh;break;case C.INSANE:return e.preset=t=320,r(e,t,n),e.VBR=jt.vbr_off,t}switch(e.preset=t){case C.V9:return a(e,9,n),t;case C.V8:return a(e,8,n),t;case C.V7:return a(e,7,n),t;case C.V6:return a(e,6,n),t;case C.V5:return a(e,5,n),t;case C.V4:return a(e,4,n),t;case C.V3:return a(e,3,n),t;case C.V2:return a(e,2,n),t;case C.V1:return a(e,1,n),t;case C.V0:return a(e,0,n),t}return 8<=t&&t<=320?r(e,t,n):(e.preset=0,t)}}function E(){var o;this.setModules=function(e){o=e},this.ResvFrameBegin=function(e,t){var n,a=e.internal_flags,r=a.l3_side,i=o.getframebits(e),s=(t.bits=(i-8*a.sideinfo_len)/a.mode_gr,2048*a.mode_gr-8),i=(320<e.brate?n=8*int(1e3*e.brate/(e.out_samplerate/1152)/8+.5):(n=11520,e.strict_ISO&&(n=8*int(32e4/(e.out_samplerate/1152)/8+.5))),a.ResvMax=n-i,a.ResvMax>s&&(a.ResvMax=s),(a.ResvMax<0||e.disable_reservoir)&&(a.ResvMax=0),t.bits*a.mode_gr+Math.min(a.ResvSize,a.ResvMax));return n<i&&(i=n),r.resvDrain_pre=0,null!=a.pinfo&&(a.pinfo.mean_bits=t.bits/2,a.pinfo.resvsize=a.ResvSize),i},this.ResvMaxBits=function(e,t,n,a){var r,i=e.internal_flags,s=i.ResvSize,o=i.ResvMax,a=(0!=a&&(s+=t),0!=(1&i.substep_shaping)&&(o*=.9),n.bits=t,9*o<10*s?(n.bits+=r=s-9*o/10,i.substep_shaping|=128):(r=0,i.substep_shaping&=127,e.disable_reservoir||0!=(1&i.substep_shaping)||(n.bits-=.1*t)),s<6*i.ResvMax/10?s:6*i.ResvMax/10);return a=(a-=r)<0?0:a},this.ResvAdjust=function(e,t){e.ResvSize-=t.part2_3_length+t.part2_length},this.ResvFrameEnd=function(e,t){var n=e.l3_side,t=(e.ResvSize+=t*e.mode_gr,0),a=(n.resvDrain_post=0,(n.resvDrain_pre=0)!=(a=e.ResvSize%8)&&(t+=a),0<(a=e.ResvSize-t-e.ResvMax)&&(t+=a),Math.min(8*n.main_data_begin,t)/8);n.resvDrain_pre+=8*a,t-=8*a,e.ResvSize-=8*a,n.main_data_begin-=a,n.resvDrain_post+=t,e.ResvSize-=t}}function A(){this.setModules=function(e,t,n){r=e,d=t,M=n};var r,d,M,p=A.NUMTOCENTRIES,o=A.MAXFRAMESIZE,l=p+4+4+4+4+4+9+1+1+8+1+1+3+1+1+2+4+2+2,_="Xing",m="Info",n=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function c(e,t){var n=255&e[t+0];return((n<<8|255&e[t+1])<<8|255&e[t+2])<<8|255&e[t+3]}function P(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function B(e,t,n){e[t+0]=n>>8&255,e[t+1]=255&n}function i(e,t,n){return 255&(e<<t|n&~(-1<<t))}function h(e,t){var n=e.internal_flags,n=(t[0]=i(t[0],8,255),t[1]=i(t[1],3,7),t[1]=i(t[1],1,e.out_samplerate<16e3?0:1),t[1]=i(t[1],1,e.version),t[1]=i(t[1],2,1),t[1]=i(t[1],1,e.error_protection?0:1),t[2]=i(t[2],4,n.bitrate_index),t[2]=i(t[2],2,n.samplerate_index),t[2]=i(t[2],1,0),t[2]=i(t[2],1,e.extension),t[3]=i(t[3],2,e.mode.ordinal()),t[3]=i(t[3],2,n.mode_ext),t[3]=i(t[3],1,e.copyright),t[3]=i(t[3],1,e.original),t[3]=i(t[3],2,e.emphasis),t[0]=255,241&t[1]),a=1==e.version?128:e.out_samplerate<16e3?32:64;e.VBR==jt.vbr_off&&(a=e.brate),a=e.free_format?0:255&16*r.BitrateIndex(a,e.version,e.out_samplerate),t[1]=1==e.version?255&(10|n):255&(2|n),t[2]=255&(a|(n=13&t[2]))}function F(e,t){return t=t>>8^n[255&(t^e)]}this.addVbrFrame=function(e){var t=e.internal_flags,e=J.bitrate_table[e.version][t.bitrate_index],n=t.VBR_seek_table,t=e;if(n.nVbrNumFrames++,n.sum+=t,n.seen++,!(n.seen<n.want)&&(n.pos<n.size&&(n.bag[n.pos]=n.sum,n.pos++,n.seen=0),n.pos==n.size)){for(var a=1;a<n.size;a+=2)n.bag[a/2]=n.bag[a];n.want*=2,n.pos/=2}},this.getVbrTag=function(e){var t=new VBRTagData,n=0,a=(t.flags=0,e[n+1]>>3&1),r=e[n+2]>>2&3,i=e[n+3]>>6&3,s=J.bitrate_table[a][e[n+2]>>4&15];if(t.samprate=(e[n+1]>>4==14?J.samplerate_table[2]:J.samplerate_table[a])[r],r=e,i=n+=0!=a?3!=i?36:21:3!=i?21:13,!new String(r,i,_.length(),null).equals(_)&&!new String(r,i,m.length(),null).equals(m))return null;n+=4,t.hId=a;r=t.flags=c(e,n);if(n+=4,0!=(1&r)&&(t.frames=c(e,n),n+=4),0!=(2&r)&&(t.bytes=c(e,n),n+=4),0!=(4&r)){if(null!=t.toc)for(var o=0;o<p;o++)t.toc[o]=e[n+o];n+=p}t.vbrScale=-1,0!=(8&r)&&(t.vbrScale=c(e,n),n+=4),t.headersize=72e3*(1+a)*s/t.samprate;i=e[(n+=21)+0]<<4,r=(15&e[n+1])<<8;return((r+=255&e[n+2])<0||3e3<r)&&(r=-1),t.encDelay=i=(i+=e[n+1]>>4)<0||3e3<i?-1:i,t.encPadding=r,t},this.InitVbrTag=function(e){var t=e.internal_flags,n=1==e.version?128:e.out_samplerate<16e3?32:64,n=(e.VBR==jt.vbr_off&&(n=e.brate),72e3*(e.version+1)*n/e.out_samplerate),a=t.sideinfo_len+l;if((t.VBR_seek_table.TotalFrameSize=n)<a||o<n)e.bWriteVbrTag=!1;else{t.VBR_seek_table.nVbrNumFrames=0,t.VBR_seek_table.nBytesWritten=0,t.VBR_seek_table.sum=0,t.VBR_seek_table.seen=0,t.VBR_seek_table.want=1,t.VBR_seek_table.pos=0,null==t.VBR_seek_table.bag&&(t.VBR_seek_table.bag=new int[400],t.VBR_seek_table.size=400);for(var r=R(o),i=(h(e,r),t.VBR_seek_table.TotalFrameSize),s=0;s<i;++s)d.add_dummy_byte(e,255&r[s],1)}},this.updateMusicCRC=function(e,t,n,a){for(var r=0;r<a;++r)e[0]=F(t[n+r],e[0])},this.getLameTagFrame=function(e,t){var n=e.internal_flags;if(!e.bWriteVbrTag)return 0;if(n.Class_ID!=C.LAME_ID)return 0;if(n.VBR_seek_table.pos<=0)return 0;if(!(t.length<n.VBR_seek_table.TotalFrameSize)){Ut.fill(t,0,n.VBR_seek_table.TotalFrameSize,0),h(e,t);var a=R(p);if(e.free_format)for(var r=1;r<p;++r)a[r]=255&255*r/100;else{var i=n.VBR_seek_table,s=a;if(!(i.pos<=0))for(var o=1;o<p;++o){var l=0|Math.floor(o/p*i.pos),l=(l>i.pos-1&&(l=i.pos-1),0|256*i.bag[l]/i.sum);255<l&&(l=255),s[o]=255&l}}for(var c=n.sideinfo_len,u=(e.error_protection&&(c-=2),e.VBR==jt.vbr_off?(t[c++]=255&m.charAt(0),t[c++]=255&m.charAt(1),t[c++]=255&m.charAt(2),t[c++]=255&m.charAt(3)):(t[c++]=255&_.charAt(0),t[c++]=255&_.charAt(1),t[c++]=255&_.charAt(2),t[c++]=255&_.charAt(3)),P(t,c,15),P(t,c+=4,n.VBR_seek_table.nVbrNumFrames),n.VBR_seek_table.nBytesWritten+n.VBR_seek_table.TotalFrameSize),f=(P(t,c+=4,0|u),$.arraycopy(a,0,t,c+=4,a.length),c+=a.length,e.error_protection&&d.CRC_writeheader(n,t),0),r=0;r<c;r++)f=F(t[r],f);c+=((e,t,n,a,r)=>{var i,s=e.internal_flags,o=0,l=e.encoder_delay,c=e.encoder_padding,u=100-10*e.VBR_q-e.quality,f=M.getLameVeryShortVersion(),d=[1,5,3,2,4,0,3],p=0|(255<e.lowpassfreq/100+.5?255:e.lowpassfreq/100+.5),_=0,m=0,h=e.internal_flags.noise_shaping,b=0,v=0,g=0,k=0!=(1&e.exp_nspsytune),A=0!=(2&e.exp_nspsytune),y=!1,w=!1,E=e.internal_flags.nogap_total,R=e.internal_flags.nogap_current,C=e.ATHtype;switch(e.VBR){case vbr_abr:i=e.VBR_mean_bitrate_kbps;break;case vbr_off:i=e.brate;break;default:i=e.VBR_min_bitrate_kbps}switch(d=0+(e.VBR.ordinal()<d.length?d[e.VBR.ordinal()]:0),s.findReplayGain&&(510<s.RadioGain&&(s.RadioGain=510),s.RadioGain<-510&&(s.RadioGain=-510),m=8192,m|=3072,0<=s.RadioGain?m|=s.RadioGain:m=512|m|-s.RadioGain),s.findPeakSample&&(_=Math.abs(0|s.PeakSample/32767*Math.pow(2,23)+.5)),k=C+((k?1:0)<<4)+((A?1:0)<<5)+(((y=-1!=E&&(0<R&&(w=!0),R<E-1)?!0:y)?1:0)<<6)+((w?1:0)<<7),u<0&&(u=0),e.mode){case MONO:b=0;break;case STEREO:b=1;break;case DUAL_CHANNEL:b=2;break;case JOINT_STEREO:b=e.force_ms?4:3;break;default:NOT_SET;b=7}g=e.in_samplerate<=32e3?0:48e3==e.in_samplerate?2:48e3<e.in_samplerate?3:1,A=h+(b<<2)+((v=e.short_blocks==Kt.short_block_forced||e.short_blocks==Kt.short_block_dispensed||-1==e.lowpassfreq&&-1==e.highpassfreq||e.scale_left<e.scale_right||e.scale_left>e.scale_right||e.disable_reservoir&&e.brate<320||e.noATH||e.ATHonly||0==C||e.in_samplerate<=32e3?1:v)<<5)+(g<<6),R=s.nMusicCRC,P(n,a+o,u),o+=4;for(var S=0;S<9;S++)n[a+o+S]=255&f.charAt(S);n[a+(o+=9)]=255&d,n[a+ ++o]=255&p,P(n,a+ ++o,_),B(n,a+(o+=4),m),B(n,a+(o+=2),0),n[a+(o+=2)]=255&k,n[a+ ++o]=255<=i?255:255&i,n[a+ ++o]=255&l>>4,n[a+o+1]=255&(l<<4)+(c>>8),n[a+o+2]=255&c,n[a+(o+=3)]=255&A,o++,n[a+o++]=0,B(n,a+o,e.preset),P(n,a+(o+=2),t),B(n,a+(o+=4),R),o+=2;for(var T=0;T<o;T++)r=F(n[a+T],r);return B(n,a+o,r),o+=2})(e,u,t,c,f)}return n.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(e,t){var n,a;return e.internal_flags.VBR_seek_table.pos<=0||(t.seek(t.length()),0==t.length())||((a=t).seek(0),n=R(10),a.readFully(n),a=new String(n,"ISO-8859-1").startsWith("ID3")?0:((127&n[6])<<21|(127&n[7])<<14|(127&n[8])<<7|127&n[9])+n.length,t.seek(a),n=R(o),(a=getLameTagFrame(e,n))>n.length)?-1:(a<1||t.write(n,0,a),0)}}function Q(){var o=this,u=null,f=null,i=null,d=null,p=(this.setModules=function(e,t,n,a){u=e,f=t,i=n,d=a},null),_=0,m=0,h=0;function b(e,t,n){for(;0<n;)0==h&&(h=8,m++,e.header[e.w_ptr].write_timing==_&&(a=e,$.arraycopy(a.header[a.w_ptr].buf,0,p,m,a.sideinfo_len),m+=a.sideinfo_len,_+=8*a.sideinfo_len,a.w_ptr=a.w_ptr+1&ee.MAX_HEADER_BUF-1),p[m]=0),n-=a=Math.min(n,h),h-=a,p[m]|=t>>n<<h,_+=a;var a}function v(e,t){var n,a=e.internal_flags;if(8<=t&&(b(a,76,8),t-=8),8<=t&&(b(a,65,8),t-=8),8<=t&&(b(a,77,8),t-=8),8<=t&&(b(a,69,8),t-=8),32<=t){var r=i.getLameShortVersion();if(32<=t)for(n=0;n<r.length&&8<=t;++n)t-=8,b(a,r.charAt(n),8)}for(;1<=t;--t)b(a,a.ancillary_flag,1),a.ancillary_flag^=e.disable_reservoir?0:1}function g(e,t,n){for(var a=e.header[e.h_ptr].ptr;0<n;){var r=Math.min(n,8-(7&a));n-=r,e.header[e.h_ptr].buf[a>>3]|=t>>n<<8-(7&a)-r,a+=r}e.header[e.h_ptr].ptr=a}function r(e,t){e<<=8;for(var n=0;n<8;n++)0!=(65536&((t<<=1)^(e<<=1)))&&(t^=32773);return t}function k(e,t){for(var n=J.ht[t.count1table_select+32],a=0,r=t.big_values,i=t.big_values,s=(t.count1-t.big_values)/4;0<s;--s){var o=0,l=0,c=t.l3_enc[r+0];0!=c&&(l+=8,t.xr[i+0]<0)&&o++,0!=t.l3_enc[r+1]&&(l+=4,o*=2,t.xr[i+1]<0)&&o++,0!=t.l3_enc[r+2]&&(l+=2,o*=2,t.xr[i+2]<0)&&o++,0!=t.l3_enc[r+3]&&(l++,o*=2,t.xr[i+3]<0)&&o++,r+=4,i+=4,b(e,o+n.table[l],n.hlen[l]),a+=n.hlen[l]}return a}function s(e,t,n,a,r){var i=J.ht[t],s=0;if(0!=t)for(var o=n;o<a;o+=2){var l=0,c=0,u=i.xlen,f=i.xlen,d=0,p=r.l3_enc[o],_=r.l3_enc[o+1];0!=p&&(r.xr[o]<0&&d++,l--),15<t&&(14<p&&(d|=p-15<<1,c=u,p=15),14<_&&(d=d<<u|_-15,c+=u,_=15),f=16),0!=_&&(d<<=1,r.xr[o+1]<0&&d++,l--),c-=l,l+=i.hlen[p=p*f+_],b(e,i.table[p],l),b(e,d,c),s+=l+c}return s}function A(e,t){var n=3*e.scalefac_band.s[3],a=(n>t.big_values&&(n=t.big_values),s(e,t.table_select[0],0,n,t));return a+=s(e,t.table_select[1],n,t.big_values,t)}function y(e,t){var n,a=t.big_values,r=t.region0_count+1,i=e.scalefac_band.l[r];return a<(r=e.scalefac_band.l[r+=t.region1_count+1])&&(r=a),n=s(e,t.table_select[0],0,i=a<i?a:i,t),(n+=s(e,t.table_select[1],i,r,t))+s(e,t.table_select[2],r,a,t)}function w(){this.total=0}function E(e,t){var n,a=e.internal_flags,r=a.w_ptr,i=a.h_ptr-1,s=a.header[i=-1==i?ee.MAX_HEADER_BUF-1:i].write_timing-_;return 0<=(t.total=s)&&(n=1+i-r,s-=8*(n=i<r?1+i-r+ee.MAX_HEADER_BUF:n)*a.sideinfo_len),s+=i=o.getframebits(e),t.total+=i,t.total=t.total%8!=0?1+t.total/8:t.total/8,t.total+=m+1,s<0&&$.err.println("strange error flushing buffer ... \n"),s}this.getframebits=function(e){var t=e.internal_flags,n=0!=t.bitrate_index?J.bitrate_table[e.version][t.bitrate_index]:e.brate;return 8*(0|72e3*(e.version+1)*n/e.out_samplerate+t.padding)},this.CRC_writeheader=function(e,t){var n=65535,n=r(255&t[2],n);n=r(255&t[3],n);for(var a=6;a<e.sideinfo_len;a++)n=r(255&t[a],n);t[4]=byte(n>>8),t[5]=byte(255&n)},this.flush_bitstream=function(e){var t,n,a=e.internal_flags;a.h_ptr,t=a.l3_side,(n=E(e,new w))<0||(v(e,n),t.main_data_begin=a.ResvSize=0,a.findReplayGain&&(n=u.GetTitleGain(a.rgdata),a.RadioGain=0|Math.floor(10*n+.5)),a.findPeakSample&&(a.noclipGainChange=0|Math.ceil(20*Math.log10(a.PeakSample/32767)*10),0<a.noclipGainChange&&(EQ(e.scale,1)||EQ(e.scale,0))?a.noclipScale=Math.floor(32767/a.PeakSample*100)/100:a.noclipScale=-1))},this.add_dummy_byte=function(e,t,n){for(var a,r=e.internal_flags;0<n--;){i=o=s=void 0;for(var i,s=t,o=8;0<o;)0==h&&(h=8,p[++m]=0),o-=i=Math.min(o,h),h-=i,p[m]|=s>>o<<h,_+=i;for(a=0;a<ee.MAX_HEADER_BUF;++a)r.header[a].write_timing+=8}},this.format_bitstream=function(e){var t,n,a,r=e.internal_flags,i=r.l3_side,s=this.getframebits(e),o=(v(e,i.resvDrain_pre),e),l=s,c=o.internal_flags,u=c.l3_side;if(c.header[c.h_ptr].ptr=0,Ut.fill(c.header[c.h_ptr].buf,0,c.sideinfo_len,0),o.out_samplerate<16e3?g(c,4094,12):g(c,4095,12),g(c,o.version,1),g(c,1,2),g(c,o.error_protection?0:1,1),g(c,c.bitrate_index,4),g(c,c.samplerate_index,2),g(c,c.padding,1),g(c,o.extension,1),g(c,o.mode.ordinal(),2),g(c,c.mode_ext,2),g(c,o.copyright,1),g(c,o.original,1),g(c,o.emphasis,2),o.error_protection&&g(c,0,16),1==o.version){for(g(c,u.main_data_begin,9),2==c.channels_out?g(c,u.private_bits,3):g(c,u.private_bits,5),n=0;n<c.channels_out;n++)for(var f=0;f<4;f++)g(c,u.scfsi[n][f],1);for(t=0;t<2;t++)for(n=0;n<c.channels_out;n++)g(c,(a=u.tt[t][n]).part2_3_length+a.part2_length,12),g(c,a.big_values/2,9),g(c,a.global_gain,8),g(c,a.scalefac_compress,4),a.block_type!=Wt.NORM_TYPE?(g(c,1,1),g(c,a.block_type,2),g(c,a.mixed_block_flag,1),14==a.table_select[0]&&(a.table_select[0]=16),g(c,a.table_select[0],5),14==a.table_select[1]&&(a.table_select[1]=16),g(c,a.table_select[1],5),g(c,a.subblock_gain[0],3),g(c,a.subblock_gain[1],3),g(c,a.subblock_gain[2],3)):(g(c,0,1),14==a.table_select[0]&&(a.table_select[0]=16),g(c,a.table_select[0],5),14==a.table_select[1]&&(a.table_select[1]=16),g(c,a.table_select[1],5),14==a.table_select[2]&&(a.table_select[2]=16),g(c,a.table_select[2],5),g(c,a.region0_count,4),g(c,a.region1_count,3)),g(c,a.preflag,1),g(c,a.scalefac_scale,1),g(c,a.count1table_select,1)}else for(g(c,u.main_data_begin,8),g(c,u.private_bits,c.channels_out),n=t=0;n<c.channels_out;n++)g(c,(a=u.tt[t][n]).part2_3_length+a.part2_length,12),g(c,a.big_values/2,9),g(c,a.global_gain,8),g(c,a.scalefac_compress,9),a.block_type!=Wt.NORM_TYPE?(g(c,1,1),g(c,a.block_type,2),g(c,a.mixed_block_flag,1),14==a.table_select[0]&&(a.table_select[0]=16),g(c,a.table_select[0],5),14==a.table_select[1]&&(a.table_select[1]=16),g(c,a.table_select[1],5),g(c,a.subblock_gain[0],3),g(c,a.subblock_gain[1],3),g(c,a.subblock_gain[2],3)):(g(c,0,1),14==a.table_select[0]&&(a.table_select[0]=16),g(c,a.table_select[0],5),14==a.table_select[1]&&(a.table_select[1]=16),g(c,a.table_select[1],5),14==a.table_select[2]&&(a.table_select[2]=16),g(c,a.table_select[2],5),g(c,a.region0_count,4),g(c,a.region1_count,3)),g(c,a.scalefac_scale,1),g(c,a.count1table_select,1);o.error_protection&&CRC_writeheader(c,c.header[c.h_ptr].buf),o=c.h_ptr,c.h_ptr=o+1&ee.MAX_HEADER_BUF-1,c.header[c.h_ptr].write_timing=c.header[o].write_timing+l,c.h_ptr==c.w_ptr&&$.err.println("Error: MAX_HEADER_BUF too small in bitstream.c \n");o=8*r.sideinfo_len;if(o+=(e=>{var t,n,a=0,r=e.internal_flags,i=r.l3_side;if(1==e.version)for(t=0;t<2;t++)for(n=0;n<r.channels_out;n++){for(var s=i.tt[t][n],o=S.slen1_tab[s.scalefac_compress],l=S.slen2_tab[s.scalefac_compress],c=0,u=0;u<s.sfbdivide;u++)-1!=s.scalefac[u]&&(b(r,s.scalefac[u],o),c+=o);for(;u<s.sfbmax;u++)-1!=s.scalefac[u]&&(b(r,s.scalefac[u],l),c+=l);a+=c=(c+=(s.block_type==Wt.SHORT_TYPE?A:y)(r,s))+k(r,s)}else for(n=t=0;n<r.channels_out;n++){var f=0,d=u=c=0;if((s=i.tt[t][n]).block_type==Wt.SHORT_TYPE){for(;d<4;d++)for(var p=s.sfb_partition_table[d]/3,_=s.slen[d],m=0;m<p;m++,u++)b(r,Math.max(s.scalefac[3*u+0],0),_),b(r,Math.max(s.scalefac[3*u+1],0),_),b(r,Math.max(s.scalefac[3*u+2],0),_),f+=3*_;c+=A(r,s)}else{for(;d<4;d++){p=s.sfb_partition_table[d],_=s.slen[d];for(m=0;m<p;m++,u++)b(r,Math.max(s.scalefac[u],0),_),f+=_}c+=y(r,s)}a+=f+(c+=k(r,s))}return a})(e),v(e,i.resvDrain_post),o+=i.resvDrain_post,i.main_data_begin+=(s-o)/8,E(e,new w)!=r.ResvSize&&$.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),8*i.main_data_begin!=r.ResvSize&&($.err.printf("bit reservoir error: \nl3_side.main_data_begin: %d \nResvoir size:             %d \nresv drain (post)         %d \nresv drain (pre)          %d \nheader and sideinfo:      %d \ndata bits:                %d \ntotal bits:               %d (remainder: %d) \nbitsperframe:             %d \n",8*i.main_data_begin,r.ResvSize,i.resvDrain_post,i.resvDrain_pre,8*r.sideinfo_len,o-i.resvDrain_post-8*r.sideinfo_len,o,o%8,s),$.err.println("This is a fatal error.  It has several possible causes:"),$.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),$.err.println(" 9%%  Your system is overclocked"),$.err.println(" 1%%  bug in LAME encoding library"),r.ResvSize=8*i.main_data_begin),1e9<_){for(var d=0;d<ee.MAX_HEADER_BUF;++d)r.header[d].write_timing-=_;_=0}return 0},this.copy_buffer=function(e,t,n,a,r){var i=m+1;if(i<=0)return 0;if(0!=a&&a<i)return-1;if($.arraycopy(p,0,t,n,i),m=-1,(h=0)!=r){a=Ht(1);if(a[0]=e.nMusicCRC,d.updateMusicCRC(a,t,n,i),e.nMusicCRC=a[0],0<i&&(e.VBR_seek_table.nBytesWritten+=i),e.decode_on_the_fly)for(var s,o=Vt([2,1152]),l=i,c=-1;0!=c;)if(c=f.hip_decode1_unclipped(e.hip,t,n,l,o[0],o[1]),(l=0)<(c=-1==c?0:c)){if(e.findPeakSample){for(s=0;s<c;s++)o[0][s]>e.PeakSample?e.PeakSample=o[0][s]:-o[0][s]>e.PeakSample&&(e.PeakSample=-o[0][s]);if(1<e.channels_out)for(s=0;s<c;s++)o[1][s]>e.PeakSample?e.PeakSample=o[1][s]:-o[1][s]>e.PeakSample&&(e.PeakSample=-o[1][s])}if(e.findReplayGain&&u.AnalyzeSamples(e.rgdata,o[0],0,o[1],0,c,e.channels_out)==Z.GAIN_ANALYSIS_ERROR)return-6}}return i},this.init_bit_stream_w=function(e){p=R(C.LAME_MAXMP3BUFFER),e.h_ptr=e.w_ptr=0,e.header[e.h_ptr].write_timing=0,m=-1,_=h=0}}function e(e,t,n,a){this.xlen=e,this.linmax=t,this.table=n,this.hlen=a}zt.STEREO=new zt(0),zt.JOINT_STEREO=new zt(1),zt.DUAL_CHANNEL=new zt(2),zt.MONO=new zt(3),zt.NOT_SET=new zt(4),Z.STEPS_per_dB=100,Z.MAX_dB=120,Z.GAIN_NOT_ENOUGH_SAMPLES=-24601,Z.GAIN_ANALYSIS_ERROR=0,Z.GAIN_ANALYSIS_OK=1,Z.INIT_GAIN_ANALYSIS_ERROR=0,Z.INIT_GAIN_ANALYSIS_OK=1,Z.MAX_ORDER=Z.YULE_ORDER=10,Z.MAX_SAMPLES_PER_WINDOW=(Z.MAX_SAMP_FREQ=48e3)*(Z.RMS_WINDOW_TIME_NUMERATOR=1)/(Z.RMS_WINDOW_TIME_DENOMINATOR=20)+1,A.NUMTOCENTRIES=100,A.MAXFRAMESIZE=2880,Q.EQ=function(e,t){return Math.abs(e)>Math.abs(t)?Math.abs(e-t)<=1e-6*Math.abs(e):Math.abs(e-t)<=1e-6*Math.abs(t)},Q.NEQ=function(e,t){return!Q.EQ(e,t)};var J={};function I(e){this.bits=e}function N(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}function n(){this.setModules=function(e,t){0}}function ne(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=qt(Wt.SBMAX_l),this.s=qt(Wt.SBMAX_s),this.psfb21=qt(Wt.PSFB21),this.psfb12=qt(Wt.PSFB12),this.cb_l=qt(Wt.CBANDS),this.cb_s=qt(Wt.CBANDS),this.eql_w=qt(Wt.BLKSIZE/2)}function l(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=zt.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}function ae(e){this.quantize=e,this.iteration_loop=function(e,t,n,a){var r,i=e.internal_flags,s=qt(H.SFBMAX),o=qt(576),l=Ht(2),c=i.l3_side,u=new I(0);this.quantize.rv.ResvFrameBegin(e,u);for(var f=u.bits,d=0;d<i.mode_gr;d++){r=this.quantize.qupvt.on_pe(e,t,l,f,d,d),i.mode_ext==Wt.MPG_MD_MS_LR&&(this.quantize.ms_convert(i.l3_side,d),this.quantize.qupvt.reduce_side(l,n[d],f,r));for(var p=0;p<i.channels_out;p++){var _=c.tt[d][p],m=_.block_type!=Wt.SHORT_TYPE?i.PSY.mask_adjust-0:i.PSY.mask_adjust_short-0;i.masking_lower=Math.pow(10,.1*m),this.quantize.init_outer_loop(i,_),this.quantize.init_xrpow(i,_,o)&&(this.quantize.qupvt.calc_xmin(e,a[d][p],_,s),this.quantize.outer_loop(e,_,s,o,p,l[p])),this.quantize.iteration_finish_one(i,d,p)}}this.quantize.rv.ResvFrameEnd(i,f)}}function re(){this.linprebuf=qt(2*Z.MAX_ORDER),this.linpre=0,this.lstepbuf=qt(Z.MAX_SAMPLES_PER_WINDOW+Z.MAX_ORDER),this.lstep=0,this.loutbuf=qt(Z.MAX_SAMPLES_PER_WINDOW+Z.MAX_ORDER),this.lout=0,this.rinprebuf=qt(2*Z.MAX_ORDER),this.rinpre=0,this.rstepbuf=qt(Z.MAX_SAMPLES_PER_WINDOW+Z.MAX_ORDER),this.rstep=0,this.routbuf=qt(Z.MAX_SAMPLES_PER_WINDOW+Z.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=Ht(0|Z.STEPS_per_dB*Z.MAX_dB),this.B=Ht(0|Z.STEPS_per_dB*Z.MAX_dB)}function i(e,t,n,a){this.l=Ht(1+Wt.SBMAX_l),this.s=Ht(1+Wt.SBMAX_s),this.psfb21=Ht(1+Wt.PSFB21),this.psfb12=Ht(1+Wt.PSFB12);var r=this.l,i=this.s;4==arguments.length&&(this.arrL=e,this.arrS=t,this.arr21=n,this.arr12=a,$.arraycopy(this.arrL,0,r,0,Math.min(this.arrL.length,this.l.length)),$.arraycopy(this.arrS,0,i,0,Math.min(this.arrS.length,this.s.length)),$.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),$.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}function z(){var k=null,p=null,a=null;this.setModules=function(e,t,n){k=e,p=t,a=n},this.IPOW20=function(e){return C[e]};var T=2220446049250313e-31,A=z.IXMAX_VAL+2,y=z.Q_MAX,w=z.Q_MAX2,n=100,E=(this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]],[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0]),R=(this.pretab=E,this.sfBandIndex=[new i([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new i([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new i([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new i([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new i([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new i([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new i([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new i([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new i([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])],qt(y+w+1)),C=qt(y),S=qt(A),M=qt(A);function P(e,t){t=a.ATHformula(t,e);return t-=n,Math.pow(10,t/10+e.ATHlower)}function B(e){this.s=e}this.adj43=M,this.iteration_init=function(e){var t=e.internal_flags,n=t.l3_side;if(0==t.iteration_init_init){t.iteration_init_init=1,n.main_data_begin=0;for(var a,r,i,s,o,l=e,c=l.internal_flags.ATH.l,u=l.internal_flags.ATH.psfb21,f=l.internal_flags.ATH.s,d=l.internal_flags.ATH.psfb12,p=l.internal_flags,_=l.out_samplerate,m=0;m<Wt.SBMAX_l;m++){var h=p.scalefac_band.l[m],b=p.scalefac_band.l[m+1];c[m]=F.MAX_VALUE;for(var v=h;v<b;v++){var g=P(l,v*_/1152);c[m]=Math.min(c[m],g)}}for(m=0;m<Wt.PSFB21;m++){h=p.scalefac_band.psfb21[m],b=p.scalefac_band.psfb21[m+1];u[m]=F.MAX_VALUE;for(v=h;v<b;v++){g=P(l,v*_/1152);u[m]=Math.min(u[m],g)}}for(m=0;m<Wt.SBMAX_s;m++){h=p.scalefac_band.s[m],b=p.scalefac_band.s[m+1];f[m]=F.MAX_VALUE;for(v=h;v<b;v++){g=P(l,v*_/384);f[m]=Math.min(f[m],g)}f[m]*=p.scalefac_band.s[m+1]-p.scalefac_band.s[m]}for(m=0;m<Wt.PSFB12;m++){h=p.scalefac_band.psfb12[m],b=p.scalefac_band.psfb12[m+1];d[m]=F.MAX_VALUE;for(v=h;v<b;v++){g=P(l,v*_/384);d[m]=Math.min(d[m],g)}d[m]*=p.scalefac_band.s[13]-p.scalefac_band.s[12]}if(l.noATH){for(m=0;m<Wt.SBMAX_l;m++)c[m]=1e-20;for(m=0;m<Wt.PSFB21;m++)u[m]=1e-20;for(m=0;m<Wt.SBMAX_s;m++)f[m]=1e-20;for(m=0;m<Wt.PSFB12;m++)d[m]=1e-20}for(p.ATH.floor=10*Math.log10(P(l,-1)),S[0]=0,o=1;o<A;o++)S[o]=Math.pow(o,4/3);for(o=0;o<A-1;o++)M[o]=o+1-Math.pow(.5*(S[o]+S[o+1]),.75);for(M[o]=.5,o=0;o<y;o++)C[o]=Math.pow(2,-.1875*(o-210));for(o=0;o<=y+w;o++)R[o]=Math.pow(2,.25*(o-210-w));for(k.huffman_init(t),32<=(o=e.exp_nspsytune>>2&63)&&(o-=64),a=Math.pow(10,o/4/10),32<=(o=e.exp_nspsytune>>8&63)&&(o-=64),r=Math.pow(10,o/4/10),32<=(o=e.exp_nspsytune>>14&63)&&(o-=64),i=Math.pow(10,o/4/10),32<=(o=e.exp_nspsytune>>20&63)&&(o-=64),s=i*Math.pow(10,o/4/10),o=0;o<Wt.SBMAX_l;o++)t.nsPsy.longfact[o]=o<=6?a:o<=13?r:o<=20?i:s;for(o=0;o<Wt.SBMAX_s;o++)t.nsPsy.shortfact[o]=o<=5?a:o<=10?r:o<=11?i:s}},this.on_pe=function(e,t,n,a,r,i){var s,o,l=e.internal_flags,c=Ht(2),u=new I(0),f=p.ResvMaxBits(e,a,u,i),e=(o=u.bits)+f;for(ee.MAX_BITS_PER_GRANULE<e&&(e=ee.MAX_BITS_PER_GRANULE),d=s=0;d<l.channels_out;++d)n[d]=Math.min(ee.MAX_BITS_PER_CHANNEL,o/l.channels_out),c[d]=0|n[d]*t[r][d]/700-n[d],c[d]>3*a/4&&(c[d]=3*a/4),c[d]<0&&(c[d]=0),c[d]+n[d]>ee.MAX_BITS_PER_CHANNEL&&(c[d]=Math.max(0,ee.MAX_BITS_PER_CHANNEL-n[d])),s+=c[d];if(f<s)for(d=0;d<l.channels_out;++d)c[d]=f*c[d]/s;for(d=0;d<l.channels_out;++d)n[d]+=c[d],f-=c[d];for(d=s=0;d<l.channels_out;++d)s+=n[d];if(ee.MAX_BITS_PER_GRANULE<s)for(var d=0;d<l.channels_out;++d)n[d]*=ee.MAX_BITS_PER_GRANULE,n[d]/=s,0;return e},this.reduce_side=function(e,t,n,a){t=.33*(.5-t)/.5,t=0|.5*(t=.5<(t=t<0?0:t)?.5:t)*(e[0]+e[1]);(t=ee.MAX_BITS_PER_CHANNEL-e[0]<t?ee.MAX_BITS_PER_CHANNEL-e[0]:t)<0&&(t=0),125<=e[1]&&(125<e[1]-t?(e[0]<n&&(e[0]+=t),e[1]-=t):(e[0]+=e[1]-125,e[1]=125)),a<(t=e[0]+e[1])&&(e[0]=a*e[0]/t,e[1]=a*e[1]/t)},this.athAdjust=function(e,t,n){var t=Xt.FAST_LOG10_X(t,10),e=e*e,a=0,t=(t-=n)*(a=(a=1e-20<e?1+Xt.FAST_LOG10_X(e,10/90.30873362):a)<0?0:a)+(n+90.30873362-94.82444863);return Math.pow(10,.1*t)},this.calc_xmin=function(e,t,n,a){var r,i=0,s=e.internal_flags,o=0,l=0,c=s.ATH,u=n.xr,f=e.VBR==jt.vbr_mtrh?1:0,d=s.masking_lower;for(e.VBR!=jt.vbr_mtrh&&e.VBR!=jt.vbr_mt||(d=1),r=0;r<n.psy_lmax;r++){k=(g=e.VBR==jt.vbr_rh||e.VBR==jt.vbr_mtrh?athAdjust(c.adjust,c.l[r],c.floor):c.adjust*c.l[r])/(h=n.width[r]),A=T,S=h>>1,C=0;do{}while(A+=(y=u[o]*u[o])<k?y:k,C=(C+=y)+(w=u[++o]*u[o]),A+=w<k?w:k,o++,0<--S);g<C&&l++,r==Wt.SBPSY_l&&A<(R=g*s.nsPsy.longfact[r])&&(A=R),0!=f&&(g=A),e.ATHonly||0<(E=t.en.l[r])&&(R=C*t.thm.l[r]*d/E,0!=f&&(R*=s.nsPsy.longfact[r]),g<R)&&(g=R),a[i++]=0!=f?g:g*s.nsPsy.longfact[r]}var p=575;if(n.block_type!=Wt.SHORT_TYPE)for(var _=576;0!=_--&&Q.EQ(u[_],0);)p=_;n.max_nonzero_coeff=p;for(var m=n.sfb_smin;r<n.psymax;m++,r+=3){var h,b,v=e.VBR==jt.vbr_rh||e.VBR==jt.vbr_mtrh?athAdjust(c.adjust,c.s[m],c.floor):c.adjust*c.s[m];for(h=n.width[r],b=0;b<3;b++){var g,k,A,y,w,E,R,C=0,S=h>>1;k=v/h,A=T;do{}while(A+=(y=u[o]*u[o])<k?y:k,C=(C+=y)+(w=u[++o]*u[o]),A+=w<k?w:k,o++,0<--S);v<C&&l++,m==Wt.SBPSY_s&&A<(R=v*s.nsPsy.shortfact[m])&&(A=R),g=0!=f?A:v,e.ATHonly||e.ATHshort||0<(E=t.en.s[m][b])&&(R=C*t.thm.s[m][b]*d/E,0!=f&&(R*=s.nsPsy.shortfact[m]),g<R)&&(g=R),a[i++]=0!=f?g:g*s.nsPsy.shortfact[m]}e.useTemporal&&(a[i-3]>a[i-3+1]&&(a[i-3+1]+=(a[i-3]-a[i-3+1])*s.decay),a[i-3+2]<a[i-3+1])&&(a[i-3+2]+=(a[i-3+1]-a[i-3+2])*s.decay)}return l},this.calc_noise_core=function(e,t,n,a){var r=0,i=t.s,s=e.l3_enc;if(e.count1<i)for(;0!=n--;)r+=(o=e.xr[i])*o,o=e.xr[++i],i++,r+=o*o;else if(i>e.big_values){var o,l=qt(2);for(l[0]=0,l[1]=a;0!=n--;)o=Math.abs(e.xr[i])-l[s[i]],i++,r+=o*o,o=Math.abs(e.xr[i])-l[s[i]],i++,r+=o*o}else for(;0!=n--;)o=Math.abs(e.xr[i])-S[s[i]]*a,i++,r+=o*o,o=Math.abs(e.xr[i])-S[s[i]]*a,i++,r+=o*o;return t.s=i,r},this.calc_noise=function(e,t,n,a,r){for(var i=0,s=0,o=0,l=0,c=0,u=-20,f=0,d=e.scalefac,p=0,_=a.over_SSD=0;_<e.psymax;_++){var m,h,b,v=e.global_gain-(d[p++]+(0!=e.preflag?E[_]:0)<<e.scalefac_scale+1)-8*e.subblock_gain[e.window[_]],g=0;null!=r&&r.step[_]==v?(g=r.noise[_],f+=e.width[_],n[i++]=g/t[s++],g=r.noise_log[_]):(m=R[v+z.Q_MAX2],b=e.width[_]>>1,f+e.width[_]>e.max_nonzero_coeff&&(b=0<(h=e.max_nonzero_coeff-f+1)?h>>1:0),h=new B(f),g=this.calc_noise_core(e,h,b,m),f=h.s,null!=r&&(r.step[_]=v,r.noise[_]=g),g=n[i++]=g/t[s++],g=Xt.FAST_LOG10(Math.max(g,1e-20)),null!=r&&(r.noise_log[_]=g)),null!=r&&(r.global_gain=e.global_gain),c+=g,0<g&&(b=Math.max(0|10*g+.5,1),a.over_SSD+=b*b,o++,l+=g),u=Math.max(u,g)}return a.over_count=o,a.tot_noise=c,a.over_noise=l,a.max_noise=u,o},this.set_pinfo=function(e,t,n,a,r){var i,s,o,l=e.internal_flags,c=0==t.scalefac_scale?.5:1,u=t.scalefac,f=qt(H.SFBMAX),d=qt(H.SFBMAX),p=new N,_=(calc_xmin(e,n,t,f),calc_noise(t,f,d,p,null),0),m=t.sfb_lmax;for(t.block_type!=Wt.SHORT_TYPE&&0==t.mixed_block_flag&&(m=22),i=0;i<m;i++){for(var h=l.scalefac_band.l[i],b=(g=l.scalefac_band.l[i+1])-h,v=0;_<g;_++)v+=t.xr[_]*t.xr[_];v/=b,l.pinfo.en[a][r][i]=(o=1e15)*v,l.pinfo.xfsf[a][r][i]=o*f[i]*d[i]/b,0<n.en.l[i]&&!e.ATHonly?v/=n.en.l[i]:v=0,l.pinfo.thr[a][r][i]=o*Math.max(v*n.thm.l[i],l.ATH.l[i]),(l.pinfo.LAMEsfb[a][r][i]=0)!=t.preflag&&11<=i&&(l.pinfo.LAMEsfb[a][r][i]=-c*E[i]),i<Wt.SBPSY_l&&(l.pinfo.LAMEsfb[a][r][i]-=c*u[i])}if(t.block_type==Wt.SHORT_TYPE)for(m=i,i=t.sfb_smin;i<Wt.SBMAX_s;i++)for(var g,h=l.scalefac_band.s[i],b=(g=l.scalefac_band.s[i+1])-h,k=0;k<3;k++){for(v=0,s=h;s<g;s++)v+=t.xr[_]*t.xr[_],_++;v=Math.max(v/b,1e-20),l.pinfo.en_s[a][r][3*i+k]=(o=1e15)*v,l.pinfo.xfsf_s[a][r][3*i+k]=o*f[m]*d[m]/b,0<n.en.s[i][k]?v/=n.en.s[i][k]:v=0,(e.ATHonly||e.ATHshort)&&(v=0),l.pinfo.thr_s[a][r][3*i+k]=o*Math.max(v*n.thm.s[i][k],l.ATH.s[i]),l.pinfo.LAMEsfb_s[a][r][3*i+k]=-2*t.subblock_gain[k],i<Wt.SBPSY_s&&(l.pinfo.LAMEsfb_s[a][r][3*i+k]-=c*u[m]),m++}l.pinfo.LAMEqss[a][r]=t.global_gain,l.pinfo.LAMEmainbits[a][r]=t.part2_3_length+t.part2_length,l.pinfo.LAMEsfbits[a][r]=t.part2_length,l.pinfo.over[a][r]=p.over_count,l.pinfo.max_noise[a][r]=10*p.max_noise,l.pinfo.over_noise[a][r]=10*p.over_noise,l.pinfo.tot_noise[a][r]=10*p.tot_noise,l.pinfo.over_SSD[a][r]=p.over_SSD}}function q(){this.global_gain=0,this.sfb_count1=0,this.step=Ht(39),this.noise=qt(39),this.noise_log=qt(39)}function O(){this.xr=qt(576),this.l3_enc=Ht(576),this.scalefac=Ht(H.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=Ht(3),this.subblock_gain=Ht(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=Ht(H.SFBMAX),this.window=Ht(H.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=Ht(4),this.max_nonzero_coeff=0;var n=this;function a(e){return new Int32Array(e)}this.assign=function(e){var t;n.xr=(t=e.xr,new Float32Array(t)),n.l3_enc=a(e.l3_enc),n.scalefac=a(e.scalefac),n.xrpow_max=e.xrpow_max,n.part2_3_length=e.part2_3_length,n.big_values=e.big_values,n.count1=e.count1,n.global_gain=e.global_gain,n.scalefac_compress=e.scalefac_compress,n.block_type=e.block_type,n.mixed_block_flag=e.mixed_block_flag,n.table_select=a(e.table_select),n.subblock_gain=a(e.subblock_gain),n.region0_count=e.region0_count,n.region1_count=e.region1_count,n.preflag=e.preflag,n.scalefac_scale=e.scalefac_scale,n.count1table_select=e.count1table_select,n.part2_length=e.part2_length,n.sfb_lmax=e.sfb_lmax,n.sfb_smin=e.sfb_smin,n.psy_lmax=e.psy_lmax,n.sfbmax=e.sfbmax,n.psymax=e.psymax,n.sfbdivide=e.sfbdivide,n.width=a(e.width),n.window=a(e.window),n.count1bits=e.count1bits,n.sfb_partition_table=e.sfb_partition_table.slice(0),n.slen=a(e.slen),n.max_nonzero_coeff=e.max_nonzero_coeff}}J.t1HB=[1,1,1,0],J.t2HB=[1,2,1,3,1,1,3,2,0],J.t3HB=[3,2,1,1,1,1,3,2,0],J.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],J.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],J.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],J.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],J.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],J.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],J.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],J.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],J.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],J.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],J.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],J.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],J.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],J.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],J.t1l=[1,4,3,5],J.t2l=[1,4,7,4,5,7,6,7,8],J.t3l=[2,3,7,4,4,7,6,7,8],J.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],J.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],J.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],J.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],J.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],J.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],J.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],J.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],J.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],J.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],J.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],J.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],J.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],J.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],J.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],J.ht=[new e(0,0,null,null),new e(2,0,J.t1HB,J.t1l),new e(3,0,J.t2HB,J.t2l),new e(3,0,J.t3HB,J.t3l),new e(0,0,null,null),new e(4,0,J.t5HB,J.t5l),new e(4,0,J.t6HB,J.t6l),new e(6,0,J.t7HB,J.t7l),new e(6,0,J.t8HB,J.t8l),new e(6,0,J.t9HB,J.t9l),new e(8,0,J.t10HB,J.t10l),new e(8,0,J.t11HB,J.t11l),new e(8,0,J.t12HB,J.t12l),new e(16,0,J.t13HB,J.t13l),new e(0,0,null,J.t16_5l),new e(16,0,J.t15HB,J.t15l),new e(1,1,J.t16HB,J.t16l),new e(2,3,J.t16HB,J.t16l),new e(3,7,J.t16HB,J.t16l),new e(4,15,J.t16HB,J.t16l),new e(6,63,J.t16HB,J.t16l),new e(8,255,J.t16HB,J.t16l),new e(10,1023,J.t16HB,J.t16l),new e(13,8191,J.t16HB,J.t16l),new e(4,15,J.t24HB,J.t24l),new e(5,31,J.t24HB,J.t24l),new e(6,63,J.t24HB,J.t24l),new e(7,127,J.t24HB,J.t24l),new e(8,255,J.t24HB,J.t24l),new e(9,511,J.t24HB,J.t24l),new e(11,2047,J.t24HB,J.t24l),new e(13,8191,J.t24HB,J.t24l),new e(0,0,J.t32HB,J.t32l),new e(0,0,J.t33HB,J.t33l)],J.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],J.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],J.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],J.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],J.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],J.scfsi_band=[0,6,11,16,21],z.Q_MAX=257,z.Q_MAX2=116,z.LARGE_BITS=1e5,z.IXMAX_VAL=8206;var H={};function T(){this.rv=null,this.qupvt=null;var b,g,B,F,r=new n;function D(e){this.ordinal=e}function p(e){for(var t=0;t<e.sfbmax;t++)if(e.scalefac[t]+e.subblock_gain[e.window[t]]==0)return!1;return!0}function x(e,t){for(var n,a=1e-37,r=0;r<t.psymax;r++)a+=(n=e[r],Xt.FAST_LOG10(.368+.632*n*n*n));return Math.max(1e-20,a)}function L(e,t,n,a,r){var i=e.internal_flags,e=(((e,t,n,a,r)=>{for(var i=e.internal_flags,s=0==t.scalefac_scale?1.2968395546510096:1.6817928305074292,o=0,l=0;l<t.sfbmax;l++)o<n[l]&&(o=n[l]);switch(e=3==(e=i.noise_shaping_amp)?r?2:1:e){case 2:break;case 1:1<o?o=Math.pow(o,.5):o*=.95;break;default:1<o?o=1:o*=.95}for(var c=0,l=0;l<t.sfbmax;l++){var u,f=t.width[l];if(c+=f,!(n[l]<o)){if(0!=(2&i.substep_shaping)&&(i.pseudohalf[l]=0==i.pseudohalf[l]?1:0,0==i.pseudohalf[l])&&2==i.noise_shaping_amp)return;for(t.scalefac[l]++,u=-f;u<0;u++)a[c+u]*=s,a[c+u]>t.xrpow_max&&(t.xrpow_max=a[c+u]);if(2==i.noise_shaping_amp)return}}})(e,t,n,a,r),p(t));if(!e){if(!(e=2==i.mode_gr?F.scale_bitcount(t):F.scale_bitcount_lsf(i,t)))return 1;if(1<i.noise_shaping)if(Ut.fill(i.pseudohalf,0),0==t.scalefac_scale){for(var s=t,o=a,l=0,c=0;c<s.sfbmax;c++){var u=s.width[c],f=s.scalefac[c];if(0!=s.preflag&&(f+=B.pretab[c]),l+=u,0!=(1&f)){f++;for(var d=-u;d<0;d++)o[l+d]*=1.2968395546510096,o[l+d]>s.xrpow_max&&(s.xrpow_max=o[l+d])}s.scalefac[c]=f>>1}s.preflag=0,e=!(s.scalefac_scale=1)}else t.block_type==Wt.SHORT_TYPE&&0<i.subblock_gain&&(e=((e,t,n)=>{var a=t.scalefac;for(l=0;l<t.sfb_lmax;l++)if(16<=a[l])return!0;for(var r=0;r<3;r++){var i=0,s=0;for(l=t.sfb_lmax+r;l<t.sfbdivide;l+=3)i<a[l]&&(i=a[l]);for(;l<t.sfbmax;l+=3)s<a[l]&&(s=a[l]);if(!(i<16&&s<8)){if(7<=t.subblock_gain[r])return!0;t.subblock_gain[r]++;for(var o=e.scalefac_band.l[t.sfb_lmax],l=t.sfb_lmax+r;l<t.sfbmax;l+=3){var c=t.width[l],u=a[l];if(0<=(u-=4>>t.scalefac_scale))a[l]=u,o+=3*c;else{a[l]=0,d=B.IPOW20(210+(u<<t.scalefac_scale+1)),o+=c*(r+1);for(var f=-c;f<0;f++)n[o+f]*=d,n[o+f]>t.xrpow_max&&(t.xrpow_max=n[o+f]);o+=c*(3-r-1)}}var d=B.IPOW20(202);o+=t.width[l]*(r+1);for(f=-t.width[l];f<0;f++)n[o+f]*=d,n[o+f]>t.xrpow_max&&(t.xrpow_max=n[o+f])}}return!1})(i,t,a)||p(t));return!(e=e||(2==i.mode_gr?F.scale_bitcount(t):F.scale_bitcount_lsf(i,t)))}}this.setModules=function(e,t,n,a){b=e,g=t,this.rv=t,B=n,this.qupvt=n,F=a,r.setModules(B,F)},this.ms_convert=function(e,t){for(var n=0;n<576;++n){var a=e.tt[t][0].xr[n],r=e.tt[t][1].xr[n];e.tt[t][0].xr[n]=(a+r)*(.5*Xt.SQRT2),e.tt[t][1].xr[n]=(a-r)*(.5*Xt.SQRT2)}},this.init_xrpow=function(e,t,n){var a=0|t.max_nonzero_coeff;if(Ut.fill(n,a,576,t.xrpow_max=0),1e-20<((e,t,n,a)=>{for(var r=a=0;r<=n;++r){var i=Math.abs(e.xr[r]);a+=i,t[r]=Math.sqrt(i*Math.sqrt(i)),t[r]>e.xrpow_max&&(e.xrpow_max=t[r])}return a})(t,n,a,0)){var r=0;0!=(2&e.substep_shaping)&&(r=1);for(var i=0;i<t.psymax;i++)e.pseudohalf[i]=r;return!0}return Ut.fill(t.l3_enc,0,576,0),!1},this.init_outer_loop=function(e,t){t.part2_3_length=0,t.big_values=0,t.count1=0,t.global_gain=210,t.scalefac_compress=0,t.table_select[0]=0,t.table_select[1]=0,t.table_select[2]=0,t.subblock_gain[0]=0,t.subblock_gain[1]=0,t.subblock_gain[2]=0,t.subblock_gain[3]=0,t.region0_count=0,t.region1_count=0,t.preflag=0,t.scalefac_scale=0,t.count1table_select=0,t.part2_length=0,t.sfb_lmax=Wt.SBPSY_l,t.sfb_smin=Wt.SBPSY_s,t.psy_lmax=e.sfb21_extra?Wt.SBMAX_l:Wt.SBPSY_l,t.psymax=t.psy_lmax,t.sfbmax=t.sfb_lmax,t.sfbdivide=11;for(var n=0;n<Wt.SBMAX_l;n++)t.width[n]=e.scalefac_band.l[n+1]-e.scalefac_band.l[n],t.window[n]=3;if(t.block_type==Wt.SHORT_TYPE){var a=qt(576),r=(t.sfb_smin=0,(t.sfb_lmax=0)!=t.mixed_block_flag&&(t.sfb_smin=3,t.sfb_lmax=2*e.mode_gr+4),t.psymax=t.sfb_lmax+3*((e.sfb21_extra?Wt.SBMAX_s:Wt.SBPSY_s)-t.sfb_smin),t.sfbmax=t.sfb_lmax+3*(Wt.SBPSY_s-t.sfb_smin),t.sfbdivide=t.sfbmax-18,t.psy_lmax=t.sfb_lmax,e.scalefac_band.l[t.sfb_lmax]);$.arraycopy(t.xr,0,a,0,576);for(n=t.sfb_smin;n<Wt.SBMAX_s;n++)for(var i=e.scalefac_band.s[n],s=e.scalefac_band.s[n+1],o=0;o<3;o++)for(var l=i;l<s;l++)t.xr[r++]=a[3*l+o];for(var c=t.sfb_lmax,n=t.sfb_smin;n<Wt.SBMAX_s;n++)t.width[c]=t.width[c+1]=t.width[c+2]=e.scalefac_band.s[n+1]-e.scalefac_band.s[n],t.window[c]=0,t.window[c+1]=1,t.window[c+2]=2,c+=3}t.count1bits=0,t.sfb_partition_table=B.nr_of_sfb_block[0][0],t.slen[0]=0,t.slen[1]=0,t.slen[2]=0,t.slen[3]=0,t.max_nonzero_coeff=575,Ut.fill(t.scalefac,0);var u=e,f=t,d=u.ATH,p=f.xr;if(f.block_type!=Wt.SHORT_TYPE)for(var _=!1,m=Wt.PSFB21-1;0<=m&&!_;m--){var h=u.scalefac_band.psfb21[m],b=u.scalefac_band.psfb21[m+1],v=B.athAdjust(d.adjust,d.psfb21[m],d.floor);1e-12<u.nsPsy.longfact[21]&&(v*=u.nsPsy.longfact[21]);for(var g=b-1;h<=g;g--){if(!(Math.abs(p[g])<v)){_=!0;break}p[g]=0}}else for(var k=0;k<3;k++)for(_=!1,m=Wt.PSFB12-1;0<=m&&!_;m--){var b=(h=3*u.scalefac_band.s[12]+(u.scalefac_band.s[13]-u.scalefac_band.s[12])*k+(u.scalefac_band.psfb12[m]-u.scalefac_band.psfb12[0]))+(u.scalefac_band.psfb12[m+1]-u.scalefac_band.psfb12[m]),A=B.athAdjust(d.adjust,d.psfb12[m],d.floor);1e-12<u.nsPsy.shortfact[12]&&(A*=u.nsPsy.shortfact[12]);for(g=b-1;h<=g;g--){if(!(Math.abs(p[g])<A)){_=!0;break}p[g]=0}}},D.BINSEARCH_NONE=new D(0),D.BINSEARCH_UP=new D(1),D.BINSEARCH_DOWN=new D(2),this.trancate_smallspectrums=function(e,t,n,a){var r=qt(H.SFBMAX);if((0!=(4&e.substep_shaping)||t.block_type!=Wt.SHORT_TYPE)&&0==(128&e.substep_shaping)){B.calc_noise(t,n,r,new N,null);for(var i=0;i<576;i++){var s=0;0!=t.l3_enc[i]&&(s=Math.abs(t.xr[i])),a[i]=s}var i=0,o=8;t.block_type==Wt.SHORT_TYPE&&(o=6);do{var l,c,u,f=t.width[o];if(i+=f,!(1<=r[o])&&(Ut.sort(a,i-f,f),!Q.EQ(a[i-1],0))){l=(1-r[o])*n[o],u=c=0;do{for(var d,p=1;u+p<f&&!Q.NEQ(a[u+i-f],a[u+i+p-f]);p++);if(l<(d=a[u+i-f]*a[u+i-f]*p)){0!=u&&(c=a[u+i-f-1]);break}}while(l-=d,(u+=p)<f);if(!Q.EQ(c,0))for(;Math.abs(t.xr[i-f])<=c&&(t.l3_enc[i-f]=0),0<--f;);}}while(++o<t.psymax);t.part2_3_length=F.noquant_count_bits(e,t,null)}},this.outer_loop=function(e,t,n,a,r,i){var s=e.internal_flags,o=new O,l=qt(576),c=qt(H.SFBMAX),u=new N,f=new q,d=9999999,p=!1,_=!1,m=0,h=s,b=t,v=i,g=a,k=h.CurrentStep[r],A=!1,y=h.OldValue[r],w=D.BINSEARCH_NONE;for(b.global_gain=y,v-=b.part2_length;;){var E,R=F.count_bits(h,g,b,null);if(1==k||R==v)break;E=v<R?((A=w==D.BINSEARCH_DOWN?!0:A)&&(k/=2),w=D.BINSEARCH_UP,k):((A=w==D.BINSEARCH_UP?!0:A)&&(k/=2),w=D.BINSEARCH_DOWN,-k),b.global_gain+=E,b.global_gain<0&&(A=!(b.global_gain=0)),255<b.global_gain&&(b.global_gain=255,A=!0)}for(;v<R&&b.global_gain<255;)b.global_gain++,R=F.count_bits(h,g,b,null);if(h.CurrentStep[r]=4<=y-b.global_gain?4:2,h.OldValue[r]=b.global_gain,b.part2_3_length=R,0==s.noise_shaping)return 100;B.calc_noise(t,n,c,u,f),u.bits=t.part2_3_length,o.assign(t);var C=0;for($.arraycopy(a,0,l,0,576);!p;){do{var S=new N,T=255,M=0!=(2&s.substep_shaping)?20:3;if(s.sfb21_extra){if(1<c[o.sfbmax])break;if(o.block_type==Wt.SHORT_TYPE&&(1<c[o.sfbmax+1]||1<c[o.sfbmax+2]))break}if(!L(e,o,c,a,_))break;0!=o.scalefac_scale&&(T=254);var P=i-o.part2_length;if(P<=0)break;for(;(o.part2_3_length=F.count_bits(s,a,o,f))>P&&o.global_gain<=T;)o.global_gain++;if(o.global_gain>T)break;if(0==u.over_count){for(;(o.part2_3_length=F.count_bits(s,a,o,f))>d&&o.global_gain<=T;)o.global_gain++;if(o.global_gain>T)break}if(B.calc_noise(o,n,c,S,f),S.bits=o.part2_3_length,0!=(((e,t,n,a,r)=>{var i;switch(e){default:case 9:0<t.over_count?(i=n.over_SSD<=t.over_SSD,n.over_SSD==t.over_SSD&&(i=n.bits<t.bits)):i=n.max_noise<0&&10*n.max_noise+n.bits<=10*t.max_noise+t.bits;break;case 0:i=n.over_count<t.over_count||n.over_count==t.over_count&&n.over_noise<t.over_noise||n.over_count==t.over_count&&Q.EQ(n.over_noise,t.over_noise)&&n.tot_noise<t.tot_noise;break;case 8:n.max_noise=x(r,a);case 1:i=n.max_noise<t.max_noise;break;case 2:i=n.tot_noise<t.tot_noise;break;case 3:i=n.tot_noise<t.tot_noise&&n.max_noise<t.max_noise;break;case 4:i=n.max_noise<=0&&.2<t.max_noise||n.max_noise<=0&&t.max_noise<0&&t.max_noise>n.max_noise-.2&&n.tot_noise<t.tot_noise||n.max_noise<=0&&0<t.max_noise&&t.max_noise>n.max_noise-.2&&n.tot_noise<t.tot_noise+t.over_noise||0<n.max_noise&&-.05<t.max_noise&&t.max_noise>n.max_noise-.1&&n.tot_noise+n.over_noise<t.tot_noise+t.over_noise||0<n.max_noise&&-.1<t.max_noise&&t.max_noise>n.max_noise-.15&&n.tot_noise+n.over_noise+n.over_noise<t.tot_noise+t.over_noise+t.over_noise;break;case 5:i=n.over_noise<t.over_noise||Q.EQ(n.over_noise,t.over_noise)&&n.tot_noise<t.tot_noise;break;case 6:i=n.over_noise<t.over_noise||Q.EQ(n.over_noise,t.over_noise)&&(n.max_noise<t.max_noise||Q.EQ(n.max_noise,t.max_noise)&&n.tot_noise<=t.tot_noise);break;case 7:i=n.over_count<t.over_count||n.over_noise<t.over_noise}return i=0==t.over_count?i&&n.bits<t.bits:i})(t.block_type!=Wt.SHORT_TYPE?e.quant_comp:e.quant_comp_short,u,S,o,c)?1:0))d=t.part2_3_length,u=S,t.assign(o),$.arraycopy(a,C=0,l,0,576);else if(0==s.full_outer_loop){if(++C>M&&0==u.over_count)break;if(3==s.noise_shaping_amp&&_&&30<C)break;if(3==s.noise_shaping_amp&&_&&15<o.global_gain-m)break}}while(o.global_gain+o.scalefac_scale<255);3!=s.noise_shaping_amp||_?p=!0:(o.assign(t),$.arraycopy(l,0,a,0,576),m=o.global_gain,_=!(C=0))}return e.VBR==jt.vbr_rh||e.VBR==jt.vbr_mtrh?$.arraycopy(l,0,a,0,576):0!=(1&s.substep_shaping)&&trancate_smallspectrums(s,t,n,a),u.over_count},this.iteration_finish_one=function(e,t,n){var a=e.l3_side,r=a.tt[t][n];F.best_scalefac_store(e,t,n,a),1==e.use_best_huffman&&F.best_huffman_divide(e,r),g.ResvAdjust(e,r)},this.VBR_encode_granule=function(e,t,n,a,r,i,s){var o,l=e.internal_flags,c=new O,u=qt(576),f=s,d=(s+i)/2,p=0,_=l.sfb21_extra;for(Ut.fill(c.l3_enc,0);l.sfb21_extra=!(f-42<d)&&_,outer_loop(e,t,n,a,r,d)<=0?(p=1,o=t.part2_3_length,c.assign(t),$.arraycopy(a,0,u,0,576),o=(s=o-32)-i,d=(s+i)/2):(o=s-(i=d+32),d=(s+i)/2,0!=p&&(p=2,t.assign(c),$.arraycopy(u,0,a,0,576))),12<o;);l.sfb21_extra=_,2==p&&$.arraycopy(c.l3_enc,0,t.l3_enc,0,576)},this.get_framebits=function(e,t){var n=e.internal_flags,a=(n.bitrate_index=n.VBR_min_bitrate,b.getframebits(e));n.bitrate_index=1;for(var a=b.getframebits(e),r=1;r<=n.VBR_max_bitrate;r++){n.bitrate_index=r;var i=new I(a);t[r]=g.ResvFrameBegin(e,i),a=i.bits}},this.VBR_old_prepare=function(e,t,n,a,r,i,s,o,l){var c=e.internal_flags,u=0,f=1,d=0,p=(c.bitrate_index=c.VBR_max_bitrate,g.ResvFrameBegin(e,new I(0))/c.mode_gr);get_framebits(e,i);for(var _=0;_<c.mode_gr;_++){var m=B.on_pe(e,t,o[_],p,_,0);c.mode_ext==Wt.MPG_MD_MS_LR&&(ms_convert(c.l3_side,_),B.reduce_side(o[_],n[_],p,m));for(var h=0;h<c.channels_out;++h){var b=c.l3_side.tt[_][h],v=b.block_type!=Wt.SHORT_TYPE?(u=1.28/(1+Math.exp(3.5-t[_][h]/300))-.05,c.PSY.mask_adjust-u):(u=2.56/(1+Math.exp(3.5-t[_][h]/300))-.14,c.PSY.mask_adjust_short-u);c.masking_lower=Math.pow(10,.1*v),init_outer_loop(c,b),l[_][h]=B.calc_xmin(e,a[_][h],b,r[_][h]),0!=l[_][h]&&(f=0),s[_][h]=126,d+=o[_][h]}}for(_=0;_<c.mode_gr;_++)for(h=0;h<c.channels_out;h++)d>i[c.VBR_max_bitrate]&&(o[_][h]*=i[c.VBR_max_bitrate],o[_][h]/=d),s[_][h]>o[_][h]&&(s[_][h]=o[_][h]);return f},this.bitpressure_strategy=function(e,t,n,a){for(var r=0;r<e.mode_gr;r++)for(var i=0;i<e.channels_out;i++){for(var s=e.l3_side.tt[r][i],o=t[r][i],l=0,c=0;c<s.psy_lmax;c++)o[l++]*=1+.029*c*c/Wt.SBMAX_l/Wt.SBMAX_l;if(s.block_type==Wt.SHORT_TYPE)for(c=s.sfb_smin;c<Wt.SBMAX_s;c++)o[l++]*=1+.029*c*c/Wt.SBMAX_s/Wt.SBMAX_s,o[l++]*=1+.029*c*c/Wt.SBMAX_s/Wt.SBMAX_s,o[l++]*=1+.029*c*c/Wt.SBMAX_s/Wt.SBMAX_s;a[r][i]=0|Math.max(n[r][i],.9*a[r][i])}},this.VBR_new_prepare=function(e,t,n,a,r,i){var s,o,l=e.internal_flags,c=1,u=0,f=0;e.free_format?(l.bitrate_index=0,o=new I(u),s=g.ResvFrameBegin(e,o),u=o.bits,r[0]=s):(l.bitrate_index=l.VBR_max_bitrate,o=new I(u),g.ResvFrameBegin(e,o),u=o.bits,get_framebits(e,r),s=r[l.VBR_max_bitrate]);for(var d=0;d<l.mode_gr;d++){B.on_pe(e,t,i[d],u,d,0),l.mode_ext==Wt.MPG_MD_MS_LR&&ms_convert(l.l3_side,d);for(var p=0;p<l.channels_out;++p){var _=l.l3_side.tt[d][p];l.masking_lower=Math.pow(10,.1*l.PSY.mask_adjust),init_outer_loop(l,_),0!=B.calc_xmin(e,n[d][p],_,a[d][p])&&(c=0),f+=i[d][p]}}for(d=0;d<l.mode_gr;d++)for(p=0;p<l.channels_out;p++)s<f&&(i[d][p]*=s,i[d][p]/=f);return c},this.calc_target_bits=function(e,t,n,a,r,i){var s,o,l,c=e.internal_flags,u=c.l3_side,f=0,d=(c.bitrate_index=c.VBR_max_bitrate,new I(f));for(i[0]=g.ResvFrameBegin(e,d),f=d.bits,c.bitrate_index=1,f=b.getframebits(e)-8*c.sideinfo_len,r[0]=f/(c.mode_gr*c.channels_out),f=e.VBR_mean_bitrate_kbps*e.framesize*1e3,0!=(1&c.substep_shaping)&&(f*=1.09),f=(f=f/e.out_samplerate-8*c.sideinfo_len)/(c.mode_gr*c.channels_out),1<(s=(s=.93+.07*(11-e.compression_ratio)/5.5)<.9?.9:s)&&(s=1),o=0;o<c.mode_gr;o++){for(var p,_,m=0,h=0;h<c.channels_out;h++)a[o][h]=int(s*f),700<t[o][h]&&(p=int((t[o][h]-700)/1.4),_=u.tt[o][h],a[o][h]=int(s*f),3*f/2<(p=_.block_type==Wt.SHORT_TYPE&&p<f/2?f/2:p)?p=3*f/2:p<0&&(p=0),a[o][h]+=p),a[o][h]>ee.MAX_BITS_PER_CHANNEL&&(a[o][h]=ee.MAX_BITS_PER_CHANNEL),m+=a[o][h];if(ee.MAX_BITS_PER_GRANULE<m)for(h=0;h<c.channels_out;++h)a[o][h]*=ee.MAX_BITS_PER_GRANULE,a[o][h]/=m}if(c.mode_ext==Wt.MPG_MD_MS_LR)for(o=0;o<c.mode_gr;o++)B.reduce_side(a[o],n[o],f*c.channels_out,ee.MAX_BITS_PER_GRANULE);for(o=l=0;o<c.mode_gr;o++)for(h=0;h<c.channels_out;h++)a[o][h]>ee.MAX_BITS_PER_CHANNEL&&(a[o][h]=ee.MAX_BITS_PER_CHANNEL),l+=a[o][h];if(l>i[0])for(o=0;o<c.mode_gr;o++)for(h=0;h<c.channels_out;h++)a[o][h]*=i[0],a[o][h]/=l}}function c(){var f=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*Xt.SQRT2*.5/2384e-9,.017876148*Xt.SQRT2*.5/2384e-9,.003134727*Xt.SQRT2*.5/2384e-9,.002457142*Xt.SQRT2*.5/2384e-9,971317e-9*Xt.SQRT2*.5/2384e-9,218868e-9*Xt.SQRT2*.5/2384e-9,101566e-9*Xt.SQRT2*.5/2384e-9,13828e-9*Xt.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,49591e-9/2384e-9,1995.1556208053692,21458e-9/2384e-9,-69618e-9/2384e-9],z=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],W=z[Wt.SHORT_TYPE],G=z[Wt.SHORT_TYPE],Y=z[Wt.SHORT_TYPE],Z=z[Wt.SHORT_TYPE],Q=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function J(e,t,n){for(var a,r=10,i=t+238-14-286,s=-15;s<0;s++){var o,l,c=f[r+-10];o=e[i+-224]*c,l=e[t+224]*c,o+=e[i+-160]*(c=f[r+-9]),l=l+e[t+160]*c+e[t+96]*(c=f[r+-8]),o=o+e[i+-96]*c+e[i+-32]*(c=f[r+-7]),l=l+e[t+32]*c+e[t+-32]*(c=f[r+-6]),o=o+e[i+32]*c+e[i+96]*(c=f[r+-5]),l=l+e[t+-96]*c+e[t+-160]*(c=f[r+-4]),o=o+e[i+160]*c+e[i+224]*(c=f[r+-3]),l=l+e[t+-224]*c-e[i+256]*(c=f[r+-2]),o=o+e[t+-256]*c+e[t+-192]*(c=f[r+-1]),l=l-e[i+192]*c-e[i+128]*(c=f[r+0]),o=o+e[t+-128]*c+e[t+-64]*(c=f[r+1]),l=l-e[i+64]*c-e[i+0]*(c=f[r+2]),o=o+e[t+0]*c+e[t+64]*(c=f[r+3]),l=l-e[i+-64]*c-e[i+-128]*(c=f[r+4]),o=o+e[t+128]*c+e[t+192]*(c=f[r+5]),c=(l-=e[i+-192]*c)-(o*=f[r+6]),n[30+2*s]=l+o,n[31+2*s]=f[r+7]*c,r+=18,t--,i++}l=e[t+-16]*f[r+-10],o=e[t+-32]*f[r+-2],u=(o=(o=(o=(o+=e[t+-96]*f[r+-1])+e[t+-160]*f[r+0]+e[t+-224]*f[r+1])-e[t+32]*f[r+2]-e[t+96]*f[r+3])-e[t+160]*f[r+4]-e[t+224])-(l=(l=(l=(l+=(e[t+-48]-e[t+16])*f[r+-9])+(e[t+-80]+e[t+48])*f[r+-8]+(e[t+-112]-e[t+80])*f[r+-7])+(e[t+-144]+e[t+112])*f[r+-6]+(e[t+-176]-e[t+144])*f[r+-5])+(e[t+-208]+e[t+176])*f[r+-4]+(e[t+-240]-e[t+208])*f[r+-3]),a=o+l,l=n[14],o=n[15]-l,n[31]=a+l,n[30]=u+o,n[15]=u-o,n[14]=a-l;var u=n[28]-n[0];n[0]+=n[28],n[28]=u*f[r+-36+7],u=n[29]-n[1],n[1]+=n[29],n[29]=u*f[r+-36+7],u=n[26]-n[2],n[2]+=n[26],n[26]=u*f[r+-72+7],u=n[27]-n[3],n[3]+=n[27],n[27]=u*f[r+-72+7],u=n[24]-n[4],n[4]+=n[24],n[24]=u*f[r+-108+7],u=n[25]-n[5],n[5]+=n[25],n[25]=u*f[r+-108+7],u=n[22]-n[6],n[6]+=n[22],n[22]=u*Xt.SQRT2,u=n[23]-n[7],n[7]+=n[23],n[23]=u*Xt.SQRT2-n[7],n[7]-=n[6],n[22]-=n[7],n[23]-=n[22],n[6]=n[31]-(u=n[6]),n[31]=n[31]+u,n[7]=n[30]-(u=n[7]),n[30]=n[30]+u,n[22]=n[15]-(u=n[22]),n[15]=n[15]+u,n[23]=n[14]-(u=n[23]),n[14]=n[14]+u,u=n[20]-n[8],n[8]+=n[20],n[20]=u*f[r+-180+7],u=n[21]-n[9],n[9]+=n[21],n[21]=u*f[r+-180+7],u=n[18]-n[10],n[10]+=n[18],n[18]=u*f[r+-216+7],u=n[19]-n[11],n[11]+=n[19],n[19]=u*f[r+-216+7],u=n[16]-n[12],n[12]+=n[16],n[16]=u*f[r+-252+7],u=n[17]-n[13],n[13]+=n[17],n[17]=u*f[r+-252+7],u=-n[20]+n[24],n[20]+=n[24],n[24]=u*f[r+-216+7],u=-n[21]+n[25],n[21]+=n[25],n[25]=u*f[r+-216+7],u=n[4]-n[8],n[4]+=n[8],n[8]=u*f[r+-216+7],u=n[5]-n[9],n[5]+=n[9],n[9]=u*f[r+-216+7],u=n[0]-n[12],n[0]+=n[12],n[12]=u*f[r+-72+7],u=n[1]-n[13],n[1]+=n[13],n[13]=u*f[r+-72+7],u=n[16]-n[28],n[16]+=n[28],n[28]=u*f[r+-72+7],u=-n[17]+n[29],n[17]+=n[29],n[29]=u*f[r+-72+7],u=Xt.SQRT2*(n[2]-n[10]),n[2]+=n[10],n[10]=u,u=Xt.SQRT2*(n[3]-n[11]),n[3]+=n[11],n[11]=u,u=Xt.SQRT2*(-n[18]+n[26]),n[18]+=n[26],n[26]=u-n[18],u=Xt.SQRT2*(-n[19]+n[27]),n[19]+=n[27],n[27]=u-n[19],u=n[2],n[19]-=n[3],n[3]-=u,n[2]=n[31]-u,n[31]+=u,u=n[3],n[11]-=n[19],n[18]-=u,n[3]=n[30]-u,n[30]+=u,u=n[18],n[27]-=n[11],n[19]-=u,n[18]=n[15]-u,n[15]+=u,n[10]-=u=n[19],n[19]=n[14]-u,n[14]+=u,n[11]-=u=n[10],n[10]=n[23]-u,n[23]+=u,n[26]-=u=n[11],n[11]=n[22]-u,n[22]+=u,n[27]-=u=n[26],n[26]=n[7]-u,n[7]+=u,n[27]=n[6]-(u=n[27]),n[6]+=u,u=Xt.SQRT2*(n[0]-n[4]),n[0]+=n[4],n[4]=u,u=Xt.SQRT2*(n[1]-n[5]),n[1]+=n[5],n[5]=u,u=Xt.SQRT2*(n[16]-n[20]),n[16]+=n[20],n[20]=u,u=Xt.SQRT2*(n[17]-n[21]),n[17]+=n[21],n[21]=u,u=-Xt.SQRT2*(n[8]-n[12]),n[8]+=n[12],n[12]=u-n[8],u=-Xt.SQRT2*(n[9]-n[13]),n[9]+=n[13],n[13]=u-n[9],u=-Xt.SQRT2*(n[25]-n[29]),n[25]+=n[29],n[29]=u-n[25],u=-Xt.SQRT2*(n[24]+n[28]),n[24]-=n[28],n[28]=u-n[24],n[24]=u=n[24]-n[16],n[20]=u=n[20]-u,n[28]=n[28]-u,n[25]=u=n[25]-n[17],n[21]=u=n[21]-u,n[29]=n[29]-u,n[17]=u=n[17]-n[1],n[9]=u=n[9]-u,n[25]=u=n[25]-u,n[5]=u=n[5]-u,n[21]=u=n[21]-u,n[13]=u=n[13]-u,n[29]=n[29]-u,n[1]=u=n[1]-n[0],n[16]=u=n[16]-u,n[17]=u=n[17]-u,n[8]=u=n[8]-u,n[9]=u=n[9]-u,n[24]=u=n[24]-u,n[25]=u=n[25]-u,n[4]=u=n[4]-u,n[5]=u=n[5]-u,n[20]=u=n[20]-u,n[21]=u=n[21]-u,n[12]=u=n[12]-u,n[13]=u=n[13]-u,n[28]=u=n[28]-u,n[29]=n[29]-u,u=n[0],n[0]+=n[31],n[31]-=u,u=n[1],n[1]+=n[30],n[30]-=u,u=n[16],n[16]+=n[15],n[15]-=u,u=n[17],n[17]+=n[14],n[14]-=u,u=n[8],n[8]+=n[23],n[23]-=u,u=n[9],n[9]+=n[22],n[22]-=u,u=n[24],n[24]+=n[7],n[7]-=u,u=n[25],n[25]+=n[6],n[6]-=u,u=n[4],n[4]+=n[27],n[27]-=u,u=n[5],n[5]+=n[26],n[26]-=u,u=n[20],n[20]+=n[11],n[11]-=u,u=n[21],n[21]+=n[10],n[10]-=u,u=n[12],n[12]+=n[19],n[19]-=u,u=n[13],n[13]+=n[18],n[18]-=u,u=n[28],n[28]+=n[3],n[3]-=u,u=n[29],n[29]+=n[2],n[2]-=u}this.mdct_sub48=function(e,I,N){for(var t,n,a,r,i,s,o,l,c,u,f,d,p,_=I,m=286,h=0;h<e.channels_out;h++){for(var b=0;b<e.mode_gr;b++){for(var v,O=e.l3_side.tt[b][h],g=O.xr,k=0,H=e.sb_sample[h][1-b],A=0,y=0;y<9;y++)for(J(_,m,H[A]),J(_,m+32,H[A+1]),A+=2,m+=64,v=1;v<32;v+=2)H[A-1][v]*=-1;for(v=0;v<32;v++,k+=18){var w=O.block_type,E=e.sb_sample[h][b],R=e.sb_sample[h][1-b];if(0!=O.mixed_block_flag&&v<2&&(w=0),e.amp_filter[v]<1e-12)Ut.fill(g,k+0,k+18,0);else{if(e.amp_filter[v]<1)for(y=0;y<18;y++)R[y][Q[v]]*=e.amp_filter[v];if(w==Wt.SHORT_TYPE){for(y=-3;y<0;y++){var C=z[Wt.SHORT_TYPE][y+3];g[k+3*y+9]=E[9+y][Q[v]]*C-E[8-y][Q[v]],g[k+3*y+18]=E[14-y][Q[v]]*C+E[15+y][Q[v]],g[k+3*y+10]=E[15+y][Q[v]]*C-E[14-y][Q[v]],g[k+3*y+19]=R[2-y][Q[v]]*C+R[3+y][Q[v]],g[k+3*y+11]=R[3+y][Q[v]]*C-R[2-y][Q[v]],g[k+3*y+20]=R[8-y][Q[v]]*C+R[9+y][Q[v]]}x=D=M=F=B=P=q=T=S=void 0;for(var S=g,T=k,q=0;q<3;q++){var M=S[T+6]*z[Wt.SHORT_TYPE][0]-S[T+15],P=S[T+0]*z[Wt.SHORT_TYPE][2]-S[T+9],B=M+P,F=M-P,D=(M=S[T+15]*z[Wt.SHORT_TYPE][0]+S[T+6])+(P=S[T+9]*z[Wt.SHORT_TYPE][2]+S[T+0]),x=-M+P;P=2069978111953089e-26*(S[T+3]*z[Wt.SHORT_TYPE][1]-S[T+12]),M=2069978111953089e-26*(S[T+12]*z[Wt.SHORT_TYPE][1]+S[T+3]),S[T+0]=190752519173728e-25*B+P,S[T+15]=190752519173728e-25*-D+M,S[T+3]=(F=.8660254037844387*F*1907525191737281e-26)-(D=.5*D*1907525191737281e-26+M),S[T+6]=F+D,S[T+9]=(B=.5*B*1907525191737281e-26-P)+(x=.8660254037844387*x*1907525191737281e-26),S[T+12]=B-x,T++}}else{for(var V=qt(18),y=-9;y<0;y++){var U=z[w][y+27]*R[y+9][Q[v]]+z[w][y+36]*R[8-y][Q[v]],X=z[w][y+9]*E[y+9][Q[v]]-z[w][y+18]*E[8-y][Q[v]];V[y+9]=U-X*W[3+y+9],V[y+18]=U*W[3+y+9]+X}t=g,n=k,c=o=p=s=d=f=u=c=l=o=s=i=r=void 0,s=(a=V)[17]-a[9],o=a[15]-a[11],l=a[14]-a[12],c=a[0]+a[8],u=a[1]+a[7],f=a[2]+a[6],d=a[3]+a[5],t[n+17]=c+f-d-(u-a[4]),i=(c+f-d)*G[19]+(u-a[4]),r=(s-o-l)*G[18],t[n+5]=r+i,t[n+6]=r-i,p=(a[16]-a[10])*G[18],u=u*G[19]+a[4],r=s*G[12]+p+o*G[13]+l*G[14],i=-c*G[16]+u-f*G[17]+d*G[15],t[n+1]=r+i,t[n+2]=r-i,r=s*G[13]-p-o*G[14]+l*G[12],i=-c*G[17]+u-f*G[15]+d*G[16],t[n+9]=r+i,t[n+10]=r-i,r=s*G[14]-p+o*G[12]-l*G[13],i=c*G[15]-u+f*G[16]-d*G[17],t[n+13]=r+i,t[n+14]=r-i,s=a[8]-a[0],p=a[6]-a[2],o=a[5]-a[3],c=a[16]+a[10],t[n+0]=(l=a[17]+a[9])+(u=a[15]+a[11])+(f=a[14]+a[12])+(c+a[13]),r=(l+u+f)*G[19]-(c+a[13]),i=(s-p+o)*G[18],t[n+11]=r+i,t[n+12]=r-i,d=(a[7]-a[1])*G[18],c=a[13]-c*G[19],r=l*G[15]-c+u*G[16]+f*G[17],i=s*G[14]+d+p*G[12]+o*G[13],t[n+3]=r+i,t[n+4]=r-i,r=-l*G[17]+c-u*G[15]-f*G[16],i=s*G[13]+d-p*G[14]-o*G[12],t[n+7]=r+i,t[n+8]=r-i,r=-l*G[16]+c-u*G[17]-f*G[15],i=s*G[12]-d+p*G[13]-o*G[14],t[n+15]=r+i,t[n+16]=r-i}}if(w!=Wt.SHORT_TYPE&&0!=v)for(y=7;0<=y;--y){var K=g[k+y]*Y[20+y]+g[k+-1-y]*Z[28+y],j=g[k+y]*Z[28+y]-g[k+-1-y]*Y[20+y];g[k+-1-y]=K,g[k+y]=j}}}if(_=N,m=286,1==e.mode_gr)for(var L=0;L<18;L++)$.arraycopy(e.sb_sample[h][1][L],0,e.sb_sample[h][0][L],0,32)}}}function G(){this.thm=new s,this.en=new s}function Wt(){var q=Wt.FFTOFFSET,V=Wt.MPG_MD_MS_LR,U=null,X=this.psy=null,K=null,j=null,z=(this.setModules=function(e,t,n,a){U=e,this.psy=t,X=t,K=a,j=n},new c);this.lame_encode_mp3_frame=function(e,t,n,I,N,O){var a,r,i,s,o,l,c=W([2,2]),u=(c[0][0]=new G,c[0][1]=new G,c[1][0]=new G,c[1][1]=new G,W([2,2])),f=(u[0][0]=new G,u[0][1]=new G,u[1][0]=new G,u[1][1]=new G,[null,null]),d=e.internal_flags,p=Vt([2,4]),_=[.5,.5],m=[[0,0],[0,0]],h=[[0,0],[0,0]];if(f[0]=t,f[1]=n,0==d.lame_encode_frame_init){var b,v,g=f,k=e.internal_flags;if(0==k.lame_encode_frame_init){var A,y,w=qt(2014),E=qt(2014);for(k.lame_encode_frame_init=1,y=A=0;A<286+576*(1+k.mode_gr);++A)A<576*k.mode_gr?(w[A]=0,2==k.channels_out&&(E[A]=0)):(w[A]=g[0][y],2==k.channels_out&&(E[A]=g[1][y]),++y);for(v=0;v<k.mode_gr;v++)for(b=0;b<k.channels_out;b++)k.l3_side.tt[v][b].block_type=Wt.SHORT_TYPE;z.mdct_sub48(k,w,E)}}if(d.padding=0,(d.slot_lag-=d.frac_SpF)<0&&(d.slot_lag+=e.out_samplerate,d.padding=1),0!=d.psymodel)for(var R=[null,null],C=0,S=Ht(2),T=0;T<d.mode_gr;T++){for(i=0;i<d.channels_out;i++)R[i]=f[i],C=576+576*T-Wt.FFTOFFSET;if(0!=(e.VBR==jt.vbr_mtrh||e.VBR==jt.vbr_mt?X.L3psycho_anal_vbr(e,R,C,T,c,u,m[T],h[T],p[T],S):X.L3psycho_anal_ns(e,R,C,T,c,u,m[T],h[T],p[T],S)))return-4;for(e.mode==zt.JOINT_STEREO&&(_[T]=p[T][2]+p[T][3],0<_[T])&&(_[T]=p[T][3]/_[T]),i=0;i<d.channels_out;i++){var M=d.l3_side.tt[T][i];M.block_type=S[i],M.mixed_block_flag=0}}else for(T=0;T<d.mode_gr;T++)for(i=0;i<d.channels_out;i++)d.l3_side.tt[T][i].block_type=Wt.NORM_TYPE,d.l3_side.tt[T][i].mixed_block_flag=0,h[T][i]=m[T][i]=700;if(0==(t=d).ATH.useAdjust?t.ATH.adjust=1:(n=t.loudness_sq[0][0],s=t.loudness_sq[1][0],2==t.channels_out?(n+=t.loudness_sq[0][1],s+=t.loudness_sq[1][1]):(n+=n,s+=s),.03125<(n=(n=2==t.mode_gr?Math.max(n,s):n)*.5*t.ATH.aaSensitivityP)?(1<=t.ATH.adjust?t.ATH.adjust=1:t.ATH.adjust<t.ATH.adjustLimit&&(t.ATH.adjust=t.ATH.adjustLimit),t.ATH.adjustLimit=1):(t.ATH.adjust>=(s=31.98*n+625e-6)?(t.ATH.adjust*=.075*s+.925,t.ATH.adjust<s&&(t.ATH.adjust=s)):t.ATH.adjustLimit>=s?t.ATH.adjust=s:t.ATH.adjust<t.ATH.adjustLimit&&(t.ATH.adjust=t.ATH.adjustLimit),t.ATH.adjustLimit=s)),z.mdct_sub48(d,f[0],f[1]),d.mode_ext=Wt.MPG_MD_LR_LR,e.force_ms)d.mode_ext=Wt.MPG_MD_MS_LR;else if(e.mode==zt.JOINT_STEREO){var P=0,H=0;for(T=0;T<d.mode_gr;T++)for(i=0;i<d.channels_out;i++)P+=h[T][i],H+=m[T][i];P<=+H&&(n=d.l3_side.tt[0],t=d.l3_side.tt[d.mode_gr-1],n[0].block_type==n[1].block_type)&&t[0].block_type==t[1].block_type&&(d.mode_ext=Wt.MPG_MD_MS_LR)}if(r=d.mode_ext==V?(a=u,h):(a=c,m),e.analysis&&null!=d.pinfo)for(T=0;T<d.mode_gr;T++)for(i=0;i<d.channels_out;i++)d.pinfo.ms_ratio[T]=d.ms_ratio[T],d.pinfo.ms_ener_ratio[T]=_[T],d.pinfo.blocktype[T][i]=d.l3_side.tt[T][i].block_type,d.pinfo.pe[T][i]=r[T][i],$.arraycopy(d.l3_side.tt[T][i].xr,0,d.pinfo.xr[T][i],0,576),d.mode_ext==V&&(d.pinfo.ers[T][i]=d.pinfo.ers[T][i+2],$.arraycopy(d.pinfo.energy[T][i+2],0,d.pinfo.energy[T][i],0,d.pinfo.energy[T][i].length));if(e.VBR==jt.vbr_off||e.VBR==jt.vbr_abr){for(var B,F=0;F<18;F++)d.nsPsy.pefirbuf[F]=d.nsPsy.pefirbuf[F+1];for(T=B=0;T<d.mode_gr;T++)for(i=0;i<d.channels_out;i++)B+=r[T][i];for(d.nsPsy.pefirbuf[18]=B,B=d.nsPsy.pefirbuf[9],F=0;F<9;F++)B+=(d.nsPsy.pefirbuf[F]+d.nsPsy.pefirbuf[18-F])*Wt.fircoef[F];for(B=3350*d.mode_gr*d.channels_out/B,T=0;T<d.mode_gr;T++)for(i=0;i<d.channels_out;i++)r[T][i]*=B}if(d.iteration_loop.iteration_loop(e,r,_,a),U.format_bitstream(e),s=U.copy_buffer(d,I,N,O,1),e.bWriteVbrTag&&K.addVbrFrame(e),e.analysis&&null!=d.pinfo){for(i=0;i<d.channels_out;i++){for(var D=0;D<q;D++)d.pinfo.pcmdata[i][D]=d.pinfo.pcmdata[i][D+e.framesize];for(D=q;D<1600;D++)d.pinfo.pcmdata[i][D]=f[i][D-q]}j.set_frame_pinfo(e,a)}var x=d;for(x.bitrate_stereoMode_Hist[x.bitrate_index][4]++,x.bitrate_stereoMode_Hist[15][4]++,2==x.channels_out&&(x.bitrate_stereoMode_Hist[x.bitrate_index][x.mode_ext]++,x.bitrate_stereoMode_Hist[15][x.mode_ext]++),o=0;o<x.mode_gr;++o)for(l=0;l<x.channels_out;++l){var L=0|x.l3_side.tt[o][l].block_type;0!=x.l3_side.tt[o][l].mixed_block_flag&&(L=4),x.bitrate_blockType_Hist[x.bitrate_index][L]++,x.bitrate_blockType_Hist[x.bitrate_index][5]++,x.bitrate_blockType_Hist[15][L]++,x.bitrate_blockType_Hist[15][5]++}return s}}function u(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}function f(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[Ht(4),Ht(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new O}function s(){this.l=qt(Wt.SBMAX_l),this.s=Vt([Wt.SBMAX_s,3]);var a=this;this.assign=function(e){$.arraycopy(e.l,0,a.l,0,Wt.SBMAX_l);for(var t=0;t<Wt.SBMAX_s;t++)for(var n=0;n<3;n++)a.s[t][n]=e.s[t][n]}}function d(){this.last_en_subshort=Vt([4,9]),this.lastAttacks=Ht(4),this.pefirbuf=qt(19),this.longfact=qt(Wt.SBMAX_l),this.shortfact=qt(Wt.SBMAX_s),this.attackthre=0,this.attackthre_s=0}function ee(){var e=40;function t(){this.write_timing=0,this.ptr=0,this.buf=R(e)}this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=Vt([2,ee.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new f,this.ms_ratio=qt(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=Ht(2),this.CurrentStep=Ht(2),this.masking_lower=0,this.bv_scf=Ht(576),this.pseudohalf=Ht(H.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*ee.BPC+1),this.itime=a(2),this.sideinfo_len=0,this.sb_sample=Vt([2,2,18,Wt.SBLIMIT]),this.amp_filter=qt(32),this.header=new Array(ee.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new i,this.minval_l=qt(Wt.CBANDS),this.minval_s=qt(Wt.CBANDS),this.nb_1=Vt([4,Wt.CBANDS]),this.nb_2=Vt([4,Wt.CBANDS]),this.nb_s1=Vt([4,Wt.CBANDS]),this.nb_s2=Vt([4,Wt.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=qt(4),this.loudness_sq=Vt([2,2]),this.loudness_sq_save=qt(2),this.mld_l=qt(Wt.SBMAX_l),this.mld_s=qt(Wt.SBMAX_s),this.bm_l=Ht(Wt.SBMAX_l),this.bo_l=Ht(Wt.SBMAX_l),this.bm_s=Ht(Wt.SBMAX_s),this.bo_s=Ht(Wt.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=Y([Wt.CBANDS,2]),this.s3ind_s=Y([Wt.CBANDS,2]),this.numlines_s=Ht(Wt.CBANDS),this.numlines_l=Ht(Wt.CBANDS),this.rnumlines_l=qt(Wt.CBANDS),this.mld_cb_l=qt(Wt.CBANDS),this.mld_cb_s=qt(Wt.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=qt(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=Ht(2),this.nsPsy=new d,this.VBR_seek_table=new u,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=Y([16,5]),this.bitrate_blockType_Hist=Y([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var n=0;n<this.en.length;n++)this.en[n]=new s;for(n=0;n<this.thm.length;n++)this.thm[n]=new s;for(n=0;n<this.header.length;n++)this.header[n]=new t}function p(){var p=qt(Wt.BLKSIZE),m=qt(Wt.BLKSIZE_s/2),S=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function h(e,t,n){var a=0,r=t+(n<<=1);d=4;do{var i,s,o,l=d>>1,c=d,u=d<<1,f=u+c,d=u<<1;h=(m=t)+l;do{}while(g=e[m+0]-e[m+c],w=e[m+u]-e[m+f],e[m+u]=(v=e[m+0]+e[m+c])-(A=e[m+u]+e[m+f]),e[m+0]=v+A,e[m+f]=g-w,e[m+c]=g+w,g=e[h+0]-e[h+c],w=Xt.SQRT2*e[h+f],A=Xt.SQRT2*e[h+u],e[h+u]=(v=e[h+0]+e[h+c])-A,e[h+0]=v+A,e[h+f]=g-w,e[h+c]=g+w,h+=d,(m+=d)<r);for(s=S[a+0],i=S[a+1],o=1;o<l;o++){var p=1-2*i*i,_=2*i*s,m=t+o,h=t+c-o;do{var b,v,g,k,A,y,w,E,R=_*e[m+c]-p*e[h+c],C=p*e[m+c]+_*e[h+c]}while(g=e[m+0]-C,v=e[m+0]+C,k=e[h+0]-R,b=e[h+0]+R,w=e[m+u]-(C=p*e[m+f]+_*e[h+f]),y=e[h+u]+(R=_*e[m+f]-p*e[h+f]),R=i*(A=e[m+u]+C)-s*(E=e[h+u]-R),e[m+u]=v-(C=s*A+i*E),e[m+0]=v+C,e[h+f]=k-R,e[h+c]=k+R,R=s*y-i*w,e[h+u]=b-(C=i*y+s*w),e[h+0]=b+C,e[m+f]=g-R,e[m+c]=g+R,h+=d,(m+=d)<r);s=(p=s)*S[a+0]-i*S[a+1],i=p*S[a+1]+i*S[a+0]}}while(a+=2,d<n)}var b=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(e,t,n,a,r){for(var i=0;i<3;i++){var s=Wt.BLKSIZE_s/2,o=65535&192*(i+1),l=Wt.BLKSIZE_s/8-1;do{var c,u,f=255&b[l<<2],d=m[f]*a[n][r+f+o],p=m[127-f]*a[n][r+f+o+128],_=d-p}while(d+=p,u=(c=m[64+f]*a[n][r+f+o+64])-(p=m[63-f]*a[n][r+f+o+192]),c+=p,s-=4,t[i][s+0]=d+c,t[i][s+2]=d-c,t[i][s+1]=_+u,t[i][s+3]=_-u,_=(d=m[1+f]*a[n][r+f+o+1])-(p=m[126-f]*a[n][r+f+o+129]),d+=p,u=(c=m[65+f]*a[n][r+f+o+65])-(p=m[62-f]*a[n][r+f+o+193]),c+=p,t[i][s+Wt.BLKSIZE_s/2+0]=d+c,t[i][s+Wt.BLKSIZE_s/2+2]=d-c,t[i][s+Wt.BLKSIZE_s/2+1]=_+u,t[i][s+Wt.BLKSIZE_s/2+3]=_-u,0<=--l);h(t[i],s,Wt.BLKSIZE_s/2)}},this.fft_long=function(e,t,n,a,r){var i=Wt.BLKSIZE/8-1,s=Wt.BLKSIZE/2;do{var o,l,c=255&b[i],u=p[c]*a[n][r+c],f=p[512+c]*a[n][r+c+512],d=u-f}while(u+=f,l=(o=p[256+c]*a[n][r+c+256])-(f=p[768+c]*a[n][r+c+768]),t[(s-=4)+0]=u+(o+=f),t[s+2]=u-o,t[s+1]=d+l,t[s+3]=d-l,d=(u=p[1+c]*a[n][r+c+1])-(f=p[513+c]*a[n][r+c+513]),u+=f,l=(o=p[257+c]*a[n][r+c+257])-(f=p[769+c]*a[n][r+c+769]),t[s+Wt.BLKSIZE/2+0]=u+(o+=f),t[s+Wt.BLKSIZE/2+2]=u-o,t[s+Wt.BLKSIZE/2+1]=d+l,t[s+Wt.BLKSIZE/2+3]=d-l,0<=--i);h(t,s,Wt.BLKSIZE/2)},this.init_fft=function(e){for(var t=0;t<Wt.BLKSIZE;t++)p[t]=.42-.5*Math.cos(2*Math.PI*(t+.5)/Wt.BLKSIZE)+.08*Math.cos(4*Math.PI*(t+.5)/Wt.BLKSIZE);for(t=0;t<Wt.BLKSIZE_s/2;t++)m[t]=.5*(1-Math.cos(2*Math.PI*(t+.5)/Wt.BLKSIZE_s))}}function te(){var yt=new p,w=2.302585092994046,r=1/217621504/(Wt.BLKSIZE/2),v=.2302585093;function wt(e,t){for(var n=0,a=0;a<Wt.BLKSIZE/2;++a)n+=e[a]*t.ATH.eql_w[a];return n*=r}var vt,gt,kt,Et=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];var At=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],Rt=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],Ct=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];var i=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1];function St(e,t,n){if(t<0&&(t=0),(e=e<0?0:e)<=0)return t;if(!(t<=0)){var a=e<t?t/e:e/t;if(-2<=n&&n<=2)return vt<=a?e+t:(n=0|Xt.FAST_LOG10_X(a,16),(e+t)*i[n]);if(a<gt)return e+t;e<t&&(e=t)}return e}function Tt(e,t,n,a,r){for(var i,s=0,o=0,l=i=0;l<Wt.SBMAX_s;++i,++l){for(var c=e.bo_s[l],u=e.npart_s,f=c<u?c:u;i<f;)s+=t[i],o+=n[i],i++;if(e.en[a].s[l][r]=s,e.thm[a].s[l][r]=o,u<=i){++l;break}c=e.PSY.bo_s_weight[l],u=1-c,s=c*t[i],o=c*n[i];e.en[a].s[l][r]+=s,e.thm[a].s[l][r]+=o,s=u*t[i],o=u*n[i]}for(;l<Wt.SBMAX_s;++l)e.en[a].s[l][r]=0,e.thm[a].s[l][r]=0}function Mt(e,t,n,a){for(var r,i=0,s=0,o=r=0;o<Wt.SBMAX_l;++r,++o){for(var l=e.bo_l[o],c=e.npart_l,u=l<c?l:c;r<u;)i+=t[r],s+=n[r],r++;if(e.en[a].l[o]=i,e.thm[a].l[o]=s,c<=r){++o;break}l=e.PSY.bo_l_weight[o],c=1-l,i=l*t[r],s=l*n[r];e.en[a].l[o]+=i,e.thm[a].l[o]+=s,i=c*t[r],s=c*n[r]}for(;o<Wt.SBMAX_l;++o)e.en[a].l[o]=0,e.thm[a].l[o]=0}function Pt(e,t,n){return 1<=n?e:n<=0?t:0<t?Math.pow(e/t,n)*t:0}var o=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function Bt(e,t){for(var n=309.07,a=0;a<Wt.SBMAX_s-1;a++)for(var r=0;r<3;r++){var i,s=e.thm.s[a][r];0<s&&(s=s*t)<(i=e.en.s[a][r])&&(n+=1e10*s<i?o[a]*(10*w):o[a]*Xt.FAST_LOG10(i/s))}return n}var s=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function Ft(e,t){for(var n=281.0575,a=0;a<Wt.SBMAX_l-1;a++){var r,i=e.thm.l[a];0<i&&(i=i*t)<(r=e.en.l[a])&&(n+=1e10*i<r?s[a]*(10*w):s[a]*Xt.FAST_LOG10(r/i))}return n}function Dt(e,t,n,a,r){for(var i,s=i=0;s<e.npart_l;++s){for(var o=0,l=0,c=0;c<e.numlines_l[s];++c,++i){var u=t[i];o+=u,l<u&&(l=u)}n[s]=o,a[s]=l,r[s]=o*e.rnumlines_l[s]}}function xt(e,t,n,a){var r,i,s=Et.length-1,o=0,l=n[o]+n[o+1];for(0<l?(i=0|(l=20*(2*(r=(r=t[o])<t[o+1]?t[o+1]:r)-l)/(l*(e.numlines_l[o]+e.numlines_l[o+1]-1))),a[o]=i=s<i?s:i):a[o]=0,o=1;o<e.npart_l-1;o++)0<(l=n[o-1]+n[o]+n[o+1])?(s<(i=0|(l=20*(3*(r=(r=(r=t[o-1])<t[o]?t[o]:r)<t[o+1]?t[o+1]:r)-l)/(l*(e.numlines_l[o-1]+e.numlines_l[o]+e.numlines_l[o+1]-1))))&&(i=s),a[o]=i):a[o]=0;0<(l=n[o-1]+n[o])?(i=0|(l=20*(2*(r=(r=t[o-1])<t[o]?t[o]:r)-l)/(l*(e.numlines_l[o-1]+e.numlines_l[o]-1))),a[o]=i=s<i?s:i):a[o]=0}var Lt=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];this.L3psycho_anal_ns=function(e,I,N,t,O,H,q,V,U,X){var K,n,a,j,r,i,z,s=e.internal_flags,W=Vt([2,Wt.BLKSIZE]),G=Vt([2,3,Wt.BLKSIZE_s]),Y=qt(Wt.CBANDS+1),Z=qt(Wt.CBANDS+1),Q=qt(Wt.CBANDS+2),J=Ht(2),$=Ht(2),ee=Vt([2,576]),te=Ht(Wt.CBANDS+2),ne=Ht(Wt.CBANDS+2);for(Ut.fill(ne,0),K=s.channels_out,e.mode==zt.JOINT_STEREO&&(K=4),z=e.VBR==jt.vbr_off?0==s.ResvMax?0:s.ResvSize/s.ResvMax*.5:e.VBR==jt.vbr_rh||e.VBR==jt.vbr_mtrh||e.VBR==jt.vbr_mt?.6:1,n=0;n<s.channels_out;n++){for(var ae=I[n],re=N+576-350-21+192,o=0;o<576;o++){for(var ie=ae[re+o+10],se=0,l=0;l<9;l+=2)ie+=Lt[l]*(ae[re+o+l]+ae[re+o+21-l]),se+=Lt[l+1]*(ae[re+o+l+1]+ae[re+o+21-l-1]);ee[n][o]=ie+se}O[t][n].en.assign(s.en[n]),O[t][n].thm.assign(s.thm[n]),2<K&&(H[t][n].en.assign(s.en[n+2]),H[t][n].thm.assign(s.thm[n+2]))}for(n=0;n<K;n++){var oe,c=qt(12),u=[0,0,0,0],le=qt(12),ce=1,ue=qt(Wt.CBANDS),fe=qt(Wt.CBANDS),f=[0,0,0,0],de=qt(Wt.HBLKSIZE),pe=Vt([3,Wt.HBLKSIZE_s]);for(o=0;o<3;o++)c[o]=s.nsPsy.last_en_subshort[n][o+6],le[o]=c[o]/s.nsPsy.last_en_subshort[n][o+4],u[0]+=c[o];if(2==n)for(o=0;o<576;o++){var _e=ee[0][o],me=ee[1][o];ee[0][o]=_e+me,ee[1][o]=_e-me}var he=ee[1&n],be=0;for(o=0;o<9;o++){for(var ve=be+64,d=1;be<ve;be++)d<Math.abs(he[be])&&(d=Math.abs(he[be]));s.nsPsy.last_en_subshort[n][o]=c[o+3]=d,u[1+o/3]+=d,d>c[o+3-2]?d/=c[o+3-2]:d=c[o+3-2]>10*d?c[o+3-2]/(10*d):0,le[o+3]=d}if(e.analysis){var ge=le[0];for(o=1;o<12;o++)ge<le[o]&&(ge=le[o]);s.pinfo.ers[t][n]=s.pinfo.ers_save[n],s.pinfo.ers_save[n]=ge}for(oe=3==n?s.nsPsy.attackthre_s:s.nsPsy.attackthre,o=0;o<12;o++)0==f[o/3]&&le[o]>oe&&(f[o/3]=o%3+1);for(o=1;o<4;o++){var ke=u[o]<u[o-1]?u[o-1]/u[o]:u[o]/u[o-1];ke<1.7&&(f[o]=0,1==o)&&(f[0]=0)}0!=f[0]&&0!=s.nsPsy.lastAttacks[n]&&(f[0]=0),3!=s.nsPsy.lastAttacks[n]&&f[0]+f[1]+f[2]+f[3]==0||((ce=0)!=f[1]&&0!=f[0]&&(f[1]=0),0!=f[2]&&0!=f[1]&&(f[2]=0),0!=f[3]&&0!=f[2]&&(f[3]=0)),n<2?$[n]=ce:0==ce&&($[0]=$[1]=0),U[n]=s.tot_ener[n],Me=Te=Se=A=Ce=Re=k=g=Ee=we=v=ye=b=h=m=_=Ae=p=ce=void 0;var ce=e,p=de,Ae=pe,_=W,m=1&n,h=G,b=1&n,ye=t,v=n,we=I,Ee=N,g=ce.internal_flags;if(v<2)yt.fft_long(g,_[m],v,we,Ee),yt.fft_short(g,h[b],v,we,Ee);else if(2==v){for(var k=Wt.BLKSIZE-1;0<=k;--k){var Re=_[m+0][k],Ce=_[m+1][k];_[m+0][k]=(Re+Ce)*Xt.SQRT2*.5,_[m+1][k]=(Re-Ce)*Xt.SQRT2*.5}for(var A=2;0<=A;--A)for(k=Wt.BLKSIZE_s-1;0<=k;--k){Re=h[b+0][A][k],Ce=h[b+1][A][k];h[b+0][A][k]=(Re+Ce)*Xt.SQRT2*.5,h[b+1][A][k]=(Re-Ce)*Xt.SQRT2*.5}}for(p[0]=_[m+0][0],p[0]*=p[0],k=Wt.BLKSIZE/2-1;0<=k;--k){var Se=_[m+0][Wt.BLKSIZE/2-k],Te=_[m+0][Wt.BLKSIZE/2+k];p[Wt.BLKSIZE/2-k]=.5*(Se*Se+Te*Te)}for(A=2;0<=A;--A){Ae[A][0]=h[b+0][A][0],Ae[A][0]*=Ae[A][0];for(k=Wt.BLKSIZE_s/2-1;0<=k;--k){Se=h[b+0][A][Wt.BLKSIZE_s/2-k],Te=h[b+0][A][Wt.BLKSIZE_s/2+k];Ae[A][Wt.BLKSIZE_s/2-k]=.5*(Se*Se+Te*Te)}}for(var Me=0,k=11;k<Wt.HBLKSIZE;k++)Me+=p[k];if(g.tot_ener[v]=Me,ce.analysis){for(k=0;k<Wt.HBLKSIZE;k++)g.pinfo.energy[ye][v][k]=g.pinfo.energy_save[v][k],g.pinfo.energy_save[v][k]=p[k];g.pinfo.pe[ye][v]=g.pe[v]}for(2==ce.athaa_loudapprox&&v<2&&(g.loudness_sq[ye][v]=g.loudness_sq_save[v],g.loudness_sq_save[v]=wt(p,g)),Dt(s,de,Y,ue,fe),xt(s,ue,fe,te),i=0;i<3;i++){Ke=je=Xe=Ue=Ve=qe=He=Oe=Ne=R=w=E=Ie=Le=xe=De=Fe=Be=void 0;for(var Pe,y,w,Be=e,Fe=pe,De=Z,xe=Q,Le=n,Ie=i,E=Be.internal_flags,R=w=0;R<E.npart_s;++R){for(var Ne=0,Oe=0,He=E.numlines_s[R],qe=0;qe<He;++qe,++w){var Ve=Fe[Ie][w];Ne+=Ve,Oe<Ve&&(Oe=Ve)}De[R]=Ne}for(w=R=0;R<E.npart_s;R++){var Ue=E.s3ind_s[R][0],Xe=E.s3_ss[w++]*De[Ue];for(++Ue;Ue<=E.s3ind_s[R][1];)Xe+=E.s3_ss[w]*De[Ue],++w,++Ue;var Ke,je=2*E.nb_s1[Le][R];xe[R]=Math.min(Xe,je),E.blocktype_old[1&Le]==Wt.SHORT_TYPE&&(je=16*E.nb_s2[Le][R],Ke=xe[R],xe[R]=Math.min(je,Ke)),E.nb_s2[Le][R]=E.nb_s1[Le][R],E.nb_s1[Le][R]=Xe}for(;R<=Wt.CBANDS;++R)De[R]=0,xe[R]=0;for(Tt(s,Z,Q,n,i),r=0;r<Wt.SBMAX_s;r++)y=s.thm[n].s[r][i],y*=.8,(2<=f[i]||1==f[i+1])&&(d=Pt(s.thm[n].s[r][0!=i?i-1:2],y,.6*z),y=Math.min(y,d)),1==f[i]?(d=Pt(s.thm[n].s[r][0!=i?i-1:2],y,.3*z),y=Math.min(y,d)):(0!=i&&3==f[i-1]||0==i&&3==s.nsPsy.lastAttacks[n])&&(d=Pt(s.thm[n].s[r][2!=i?i+1:0],y,.3*z),y=Math.min(y,d)),Pe=c[3*i+3]+c[3*i+4]+c[3*i+5],6*c[3*i+5]<Pe&&(y*=.5,6*c[3*i+4]<Pe)&&(y*=.5),s.thm[n].s[r][i]=y}for(s.nsPsy.lastAttacks[n]=f[2],a=j=0;a<s.npart_l;a++){for(var ze=s.s3ind[a][0],We=Y[ze]*Et[te[ze]],Ge=s.s3_ll[j++]*We;++ze<=s.s3ind[a][1];)We=Y[ze]*Et[te[ze]],Ge=((e,t,n,a,r,i)=>{var s,o;if(e<t){if(!(t<e*gt))return e+t;o=t/e}else{if(t*gt<=e)return e+t;o=e/t}return e+=t,a+3<=6?vt<=o?e:(s=0|Xt.FAST_LOG10_X(o,16),e*Rt[s]):(s=0|Xt.FAST_LOG10_X(o,16),t=0!=i?r.ATH.cb_s[n]*r.ATH.adjust:r.ATH.cb_l[n]*r.ATH.adjust,e<kt*t?t<e?(a=s<=13?Ct[s]:1,o=Xt.FAST_LOG10_X(e/t,10/15),e*((At[s]-a)*o+a)):13<s?e:e*Ct[s]:e*At[s])})(Ge,s.s3_ll[j++]*We,ze,ze-a,s,0);Ge*=.158489319246111,s.blocktype_old[1&n]==Wt.SHORT_TYPE?Q[a]=Ge:Q[a]=Pt(Math.min(Ge,Math.min(2*s.nb_1[n][a],16*s.nb_2[n][a])),Ge,z),s.nb_2[n][a]=s.nb_1[n][a],s.nb_1[n][a]=Ge}for(;a<=Wt.CBANDS;++a)Y[a]=0,Q[a]=0;Mt(s,Y,Q,n)}if((e.mode==zt.STEREO||e.mode==zt.JOINT_STEREO)&&0<e.interChRatio){var ne=e,Ye=e.interChRatio,C=ne.internal_flags;if(1<C.channels_out){for(var S=0;S<Wt.SBMAX_l;S++){var Ze=C.thm[0].l[S],Qe=C.thm[1].l[S];C.thm[0].l[S]+=Qe*Ye,C.thm[1].l[S]+=Ze*Ye}for(S=0;S<Wt.SBMAX_s;S++)for(var Je=0;Je<3;Je++){Ze=C.thm[0].s[S][Je],Qe=C.thm[1].s[S][Je];C.thm[0].s[S][Je]+=Qe*Ye,C.thm[1].s[S][Je]+=Ze*Ye}}}if(e.mode==zt.JOINT_STEREO){for(var T=s,M=0;M<Wt.SBMAX_l;M++)T.thm[0].l[M]>1.58*T.thm[1].l[M]||T.thm[1].l[M]>1.58*T.thm[0].l[M]||($e=T.mld_l[M]*T.en[3].l[M],et=Math.max(T.thm[2].l[M],Math.min(T.thm[3].l[M],$e)),$e=T.mld_l[M]*T.en[2].l[M],tt=Math.max(T.thm[3].l[M],Math.min(T.thm[2].l[M],$e)),T.thm[2].l[M]=et,T.thm[3].l[M]=tt);for(M=0;M<Wt.SBMAX_s;M++)for(var $e,et,tt,P=0;P<3;P++)T.thm[0].s[M][P]>1.58*T.thm[1].s[M][P]||T.thm[1].s[M][P]>1.58*T.thm[0].s[M][P]||($e=T.mld_s[M]*T.en[3].s[M][P],et=Math.max(T.thm[2].s[M][P],Math.min(T.thm[3].s[M][P],$e)),$e=T.mld_s[M]*T.en[2].s[M][P],tt=Math.max(T.thm[3].s[M][P],Math.min(T.thm[2].s[M][P],$e)),T.thm[2].s[M][P]=et,T.thm[3].s[M][P]=tt);if(ne=e.msfix,0<Math.abs(ne)){var B=s,nt=ne,ne=e.ATHlower*s.ATH.adjust,at=nt,rt=Math.pow(10,ne);nt*=2,at*=2;for(var F=0;F<Wt.SBMAX_l;F++)D=B.ATH.cb_l[B.bm_l[F]]*rt,(it=Math.min(Math.max(B.thm[0].l[F],D),Math.max(B.thm[1].l[F],D)))*nt<(st=Math.max(B.thm[2].l[F],D))+(ot=Math.max(B.thm[3].l[F],D))&&(st*=lt=it*at/(st+ot),ot*=lt),B.thm[2].l[F]=Math.min(st,B.thm[2].l[F]),B.thm[3].l[F]=Math.min(ot,B.thm[3].l[F]);for(rt*=Wt.BLKSIZE_s/Wt.BLKSIZE,F=0;F<Wt.SBMAX_s;F++)for(var it,st,ot,D,lt,x=0;x<3;x++)D=B.ATH.cb_s[B.bm_s[F]]*rt,(it=Math.min(Math.max(B.thm[0].s[F][x],D),Math.max(B.thm[1].s[F][x],D)))*nt<(st=Math.max(B.thm[2].s[F][x],D))+(ot=Math.max(B.thm[3].s[F][x],D))&&(st*=lt=it*nt/(st+ot),ot*=lt),B.thm[2].s[F][x]=Math.min(B.thm[2].s[F][x],st),B.thm[3].s[F][x]=Math.min(B.thm[3].s[F][x],ot)}}var ct=e,ut=$,ft=X,dt=J,pt=ct.internal_flags;ct.short_blocks!=Kt.short_block_coupled||0!=ut[0]&&0!=ut[1]||(ut[0]=ut[1]=0);for(var L=0;L<pt.channels_out;L++)dt[L]=Wt.NORM_TYPE,ct.short_blocks==Kt.short_block_dispensed&&(ut[L]=1),ct.short_blocks==Kt.short_block_forced&&(ut[L]=0),0!=ut[L]?pt.blocktype_old[L]==Wt.SHORT_TYPE&&(dt[L]=Wt.STOP_TYPE):(dt[L]=Wt.SHORT_TYPE,pt.blocktype_old[L]==Wt.NORM_TYPE&&(pt.blocktype_old[L]=Wt.START_TYPE),pt.blocktype_old[L]==Wt.STOP_TYPE&&(pt.blocktype_old[L]=Wt.SHORT_TYPE)),ft[L]=pt.blocktype_old[L],pt.blocktype_old[L]=dt[L];for(n=0;n<K;n++){var _t,mt,ht=0,bt=1<n?(_t=V,ht=-2,mt=Wt.NORM_TYPE,X[0]!=Wt.SHORT_TYPE&&X[1]!=Wt.SHORT_TYPE||(mt=Wt.SHORT_TYPE),H[t][n-2]):(_t=q,ht=0,mt=X[n],O[t][n]);_t[ht+n]=(mt==Wt.SHORT_TYPE?Bt:Ft)(bt,s.masking_lower),e.analysis&&(s.pinfo.pe[t][n]=_t[ht+n])}return 0};var It=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function Nt(e,t,n,a,r,i){for(var s,o=e.internal_flags,l=new float[Wt.CBANDS],c=qt(Wt.CBANDS),u=new int[Wt.CBANDS],f=s=0;f<o.npart_s;++f){for(var d=0,p=0,_=o.numlines_s[f],m=0;m<_;++m,++s){var h=t[i][s];d+=h,p<h&&(p=h)}n[f]=d,l[f]=p,c[f]=d/_}for(;f<Wt.CBANDS;++f)l[f]=0,c[f]=0;var b,v,g=o,k=l,A=c,y=u,w=Et.length-1,E=0,R=A[E]+A[E+1];for(0<R?(v=0|(R=20*(2*(b=(b=k[E])<k[E+1]?k[E+1]:b)-R)/(R*(g.numlines_s[E]+g.numlines_s[E+1]-1))),y[E]=v=w<v?w:v):y[E]=0,E=1;E<g.npart_s-1;E++)0<(R=A[E-1]+A[E]+A[E+1])?(w<(v=0|(R=20*(3*(b=(b=(b=k[E-1])<k[E]?k[E]:b)<k[E+1]?k[E+1]:b)-R)/(R*(g.numlines_s[E-1]+g.numlines_s[E]+g.numlines_s[E+1]-1))))&&(v=w),y[E]=v):y[E]=0;for(0<(R=A[E-1]+A[E])?(v=0|(R=20*(2*(b=(b=k[E-1])<k[E]?k[E]:b)-R)/(R*(g.numlines_s[E-1]+g.numlines_s[E]-1))),y[E]=v=w<v?w:v):y[E]=0,s=f=0;f<o.npart_s;f++){var C,S,T=o.s3ind_s[f][0],M=o.s3ind_s[f][1],P=u[T],B=1,F=o.s3_ss[s]*n[T]*Et[u[T]];for(++s,++T;T<=M;)P+=u[T],B+=1,F=St(F,C=o.s3_ss[s]*n[T]*Et[u[T]],T-f),++s,++T;F*=S=.5*Et[P=(1+2*P)/(2*B)],a[f]=F,o.nb_s2[r][f]=o.nb_s1[r][f],o.nb_s1[r][f]=F,(C=(C=l[f])*o.minval_s[f]*S)<a[f]&&(a[f]=C),1<o.masking_lower&&(a[f]*=o.masking_lower),n[f]<a[f]&&(a[f]=n[f]),o.masking_lower<1&&(a[f]*=o.masking_lower)}for(;f<Wt.CBANDS;++f)n[f]=0,a[f]=0}function Ot(e,t,n,a,r,i,s){for(var o=2*i,l=0<i?Math.pow(10,r):1,c=0;c<s;++c){var u,f,d,p=e[2][c],_=e[3][c],m=t[0][c],h=t[1][c],b=t[2][c],v=t[3][c];f=m<=1.58*h&&h<=1.58*m?(u=n[c]*_,f=n[c]*p,u=Math.max(b,Math.min(v,u)),Math.max(v,Math.min(b,f))):(u=b,v),0<i&&(d=a[c]*l,m=Math.min(Math.max(m,d),Math.max(h,d)),0<(h=(b=Math.max(u,d))+(v=Math.max(f,d)))&&m*o<h&&(b*=d=m*o/h,v*=d),u=Math.min(b,u),f=Math.min(v,f)),p<u&&(u=p),_<f&&(f=_),t[2][c]=u,t[3][c]=f}}function g(e,t){e=0<=e?27*-e:e*t;return e<=-72?0:Math.exp(e*v)}function S(e){return e<0&&(e=0),e*=.001,13*Math.atan(.76*e)+3.5*Math.atan(e*e/56.25)}function E(e,t,n,a,r,i,s,o,l,c,u,f){for(var d,p=qt(Wt.CBANDS+1),_=o/(15<f?1152:384),m=Ht(Wt.HBLKSIZE),h=(o/=l,0),b=0,v=0;v<Wt.CBANDS;v++){for(E=S(o*h),p[v]=o*h,d=h;S(o*d)-E<.34&&d<=l/2;d++);for(e[v]=d-h,b=v+1;h<d;)m[h++]=v;if(l/2<h){h=l/2,++v;break}}p[v]=o*h;for(var g=0;g<f;g++){var k,A=c[g],y=c[g+1],A=0|Math.floor(.5+u*(A-.5));A<0&&(A=0),l/2<(k=0|Math.floor(.5+u*(y-.5)))&&(k=l/2),n[g]=(m[A]+m[k])/2,t[g]=m[k],s[g]=(_*y-p[t[g]])/(p[t[g]+1]-p[t[g]]),s[g]<0?s[g]=0:1<s[g]&&(s[g]=1),A=S(o*c[g]*u),A=Math.min(A,15.5)/15.5,i[g]=Math.pow(10,1.25*(1-Math.cos(Math.PI*A))-2.5)}for(var h=0,w=0;w<b;w++){var E,R,C=e[w];E=S(o*h),R=S(o*(h+C-1)),a[w]=.5*(E+R),E=S(o*(h-.5)),R=S(o*(h+C-.5)),r[w]=R-E,h+=C}return b}function R(e,t,n,a,r,i){var s,o,l,c,u=Vt([Wt.CBANDS,Wt.CBANDS]),f=0;if(i)for(var d=0;d<t;d++)for(s=0;s<t;s++){o=n[d]-n[s],c=l=void 0,c=.5<=(o*=0<=o?3:1.5)&&o<=2.5?8*((c=o-.5)*c-2*c):0;var p=((l=15.811389+7.5*(o+=.474)-17.5*Math.sqrt(1+o*o))<=-60?0:(o=Math.exp((c+l)*v))/.6609193)*a[s];u[d][s]=p*r[d]}else for(s=0;s<t;s++)for(var _=15+Math.min(21/n[s],12),m=(e=>{var t=0;for(t=0;1e-20<g(t,e);--t);for(n=t,a=0;1e-12<Math.abs(a-n);)0<g(t=(a+n)/2,e)?a=t:n=t;var n,a,r=n,t=0;for(t=0;1e-20<g(t,e);t+=1);for(n=0,a=t;1e-12<Math.abs(a-n);)0<g(t=(a+n)/2,e)?n=t:a=t;for(var i=a,s=0,o=0;o<=1e3;++o)s+=g(t=r+o*(i-r)/1e3,e);return 1001/(s*(i-r))})(_),d=0;d<t;d++){p=m*g(n[d]-n[s],_)*a[s];u[d][s]=p*r[d]}for(d=0;d<t;d++){for(s=0;s<t&&!(0<u[d][s]);s++);for(e[d][0]=s,s=t-1;0<s&&!(0<u[d][s]);s--);e[d][1]=s,f+=e[d][1]-e[d][0]+1}for(var h=qt(f),b=0,d=0;d<t;d++)for(s=e[d][0];s<=e[d][1];s++)h[b++]=u[d][s];return h}function C(e){e=S(e),e=Math.min(e,15.5)/15.5;return Math.pow(10,1.25*(1-Math.cos(Math.PI*e))-2.5)}function a(e,t){return e<-.3&&(e=3410),e/=1e3,e=Math.max(.1,e),3.64*Math.pow(e,-.8)-6.8*Math.exp(-.6*Math.pow(e-3.4,2))+6*Math.exp(-.15*Math.pow(e-8.7,2))+.001*(.6+.04*t)*Math.pow(e,4)}this.L3psycho_anal_vbr=function(e,I,N,O,H,q,V,U,X,K){for(var t=e.internal_flags,j=qt(Wt.HBLKSIZE),z=Vt([3,Wt.HBLKSIZE_s]),W=Vt([2,Wt.BLKSIZE]),G=Vt([2,3,Wt.BLKSIZE_s]),Y=Vt([4,Wt.CBANDS]),Z=Vt([4,Wt.CBANDS]),Q=Vt([4,3]),J=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],n=Ht(2),a=e.mode==zt.JOINT_STEREO?4:t.channels_out,$=e,ee=I,te=N,ne=O,ae=H,re=q,ie=X,se=Q,r=J,oe=n,le=Vt([2,576]),i=$.internal_flags,ce=i.channels_out,ue=$.mode==zt.JOINT_STEREO?4:ce,s=0;s<ce;s++){firbuf=ee[s];for(var fe=te+576-350-21+192,o=0;o<576;o++){for(var de=firbuf[fe+o+10],pe=0,l=0;l<9;l+=2)de+=It[l]*(firbuf[fe+o+l]+firbuf[fe+o+21-l]),pe+=It[l+1]*(firbuf[fe+o+l+1]+firbuf[fe+o+21-l-1]);le[s][o]=de+pe}ae[ne][s].en.assign(i.en[s]),ae[ne][s].thm.assign(i.thm[s]),2<ue&&(re[ne][s].en.assign(i.en[s+2]),re[ne][s].thm.assign(i.thm[s+2]))}for(s=0;s<ue;s++){var _e=qt(12),c=qt(12),me=[0,0,0,0],he=le[1&s],be=0,ve=3==s?i.nsPsy.attackthre_s:i.nsPsy.attackthre,ge=1;if(2==s)for(o=0,l=576;0<l;++o,--l){var ke=le[0][o],Ae=le[1][o];le[0][o]=ke+Ae,le[1][o]=ke-Ae}for(o=0;o<3;o++)c[o]=i.nsPsy.last_en_subshort[s][o+6],_e[o]=c[o]/i.nsPsy.last_en_subshort[s][o+4],me[0]+=c[o];for(o=0;o<9;o++){for(var ye=be+64,u=1;be<ye;be++)u<Math.abs(he[be])&&(u=Math.abs(he[be]));i.nsPsy.last_en_subshort[s][o]=c[o+3]=u,me[1+o/3]+=u,u>c[o+3-2]?u/=c[o+3-2]:u=c[o+3-2]>10*u?c[o+3-2]/(10*u):0,_e[o+3]=u}for(o=0;o<3;++o){var we=c[3*o+3]+c[3*o+4]+c[3*o+5],Ee=1;6*c[3*o+5]<we&&(Ee*=.5,6*c[3*o+4]<we)&&(Ee*=.5),se[s][o]=Ee}if($.analysis){for(var Re=_e[0],o=1;o<12;o++)Re<_e[o]&&(Re=_e[o]);i.pinfo.ers[ne][s]=i.pinfo.ers_save[s],i.pinfo.ers_save[s]=Re}for(o=0;o<12;o++)0==r[s][o/3]&&_e[o]>ve&&(r[s][o/3]=o%3+1);for(o=1;o<4;o++){var Ce=me[o-1],Se=me[o];Math.max(Ce,Se)<4e4&&Ce<1.7*Se&&Se<1.7*Ce&&(1==o&&r[s][0]<=r[s][o]&&(r[s][0]=0),r[s][o]=0)}r[s][0]<=i.nsPsy.lastAttacks[s]&&(r[s][0]=0),3!=i.nsPsy.lastAttacks[s]&&r[s][0]+r[s][1]+r[s][2]+r[s][3]==0||((ge=0)!=r[s][1]&&0!=r[s][0]&&(r[s][1]=0),0!=r[s][2]&&0!=r[s][1]&&(r[s][2]=0),0!=r[s][3]&&0!=r[s][2]&&(r[s][3]=0)),s<2?oe[s]=ge:0==ge&&(oe[0]=oe[1]=0),ie[s]=i.tot_ener[s]}var Te=e,Me=n,Pe=Te.internal_flags;Te.short_blocks!=Kt.short_block_coupled||0!=Me[0]&&0!=Me[1]||(Me[0]=Me[1]=0);for(var Be=0;Be<Pe.channels_out;Be++)Te.short_blocks==Kt.short_block_dispensed&&(Me[Be]=1),Te.short_blocks==Kt.short_block_forced&&(Me[Be]=0);for(var f=0;f<a;f++){He=Oe=Ne=Ie=Le=v=b=h=m=_=xe=p=d=De=Fe=void 0;var Fe=e,De=I,d=N,p=f,xe=O,_=j,m=W,h=B=1&f,b=Fe.internal_flags;if(p<2)yt.fft_long(b,m[h],p,De,d);else if(2==p)for(var v=Wt.BLKSIZE-1;0<=v;--v){var Le=m[h+0][v],Ie=m[h+1][v];m[h+0][v]=(Le+Ie)*Xt.SQRT2*.5,m[h+1][v]=(Le-Ie)*Xt.SQRT2*.5}for(_[0]=m[h+0][0],_[0]*=_[0],v=Wt.BLKSIZE/2-1;0<=v;--v){var Ne=m[h+0][Wt.BLKSIZE/2-v],Oe=m[h+0][Wt.BLKSIZE/2+v];_[Wt.BLKSIZE/2-v]=.5*(Ne*Ne+Oe*Oe)}for(var He=0,v=11;v<Wt.HBLKSIZE;v++)He+=_[v];if(b.tot_ener[p]=He,Fe.analysis){for(v=0;v<Wt.HBLKSIZE;v++)b.pinfo.energy[xe][p][v]=b.pinfo.energy_save[p][v],b.pinfo.energy_save[p][v]=_[v];b.pinfo.pe[xe][p]=b.pe[p]}if(De=O,d=f,Fe=j,et=void 0,et=e.internal_flags,2==e.athaa_loudapprox&&d<2&&(et.loudness_sq[De][d]=et.loudness_sq_save[d],et.loudness_sq_save[d]=wt(Fe,et)),0!=n[B]){ze=je=We=Ze=Ye=Ge=R=Ke=E=Xe=Ue=w=Ve=d=qe=y=A=k=De=g=void 0;for(var g=t,De=j,k=Y[f],A=Z[f],y=f,qe=qt(Wt.CBANDS),d=qt(Wt.CBANDS),Ve=Ht(Wt.CBANDS+2),Ue=(Dt(g,De,k,qe,d),xt(g,qe,d,Ve),0),w=0;w<g.npart_l;w++){var Xe,E,Ke,je,ze,We,R=g.s3ind[w][0],Ge=g.s3ind[w][1],Ye=0,Ze=0,Ye=Ve[R];for(Ze+=1,E=g.s3_ll[Ue]*k[R]*Et[Ve[R]],++Ue,++R;R<=Ge;)Ye+=Ve[R],Ze+=1,E=St(E,Xe=g.s3_ll[Ue]*k[R]*Et[Ve[R]],R-w),++Ue,++R;E*=Ke=.5*Et[Ye=(1+2*Ye)/(2*Ze)],g.blocktype_old[1&y]==Wt.SHORT_TYPE?(We=2*g.nb_1[y][w],A[w]=0<We?Math.min(E,We):Math.min(E,.3*k[w])):((je=16*g.nb_2[y][w])<=0&&(je=E),(ze=2*g.nb_1[y][w])<=0&&(ze=E),We=g.blocktype_old[1&y]==Wt.NORM_TYPE?Math.min(ze,je):ze,A[w]=Math.min(E,We)),g.nb_2[y][w]=g.nb_1[y][w],g.nb_1[y][w]=E,Xe=(Xe=qe[w])*g.minval_l[w]*Ke,A[w]>Xe&&(A[w]=Xe),1<g.masking_lower&&(A[w]*=g.masking_lower),k[w]<A[w]&&(A[w]=k[w]),g.masking_lower<1&&(A[w]*=g.masking_lower)}for(;w<Wt.CBANDS;++w)k[w]=0,A[w]=0}else{$e=Je=Qe=void 0;for(var Qe=t,Je=f,$e=0;$e<Qe.npart_l;$e++)Qe.nb_2[Je][$e]=Qe.nb_1[Je][$e],Qe.nb_1[Je][$e]=0}}n[0]+n[1]==2&&e.mode==zt.JOINT_STEREO&&Ot(Y,Z,t.mld_cb_l,t.ATH.cb_l,e.ATHlower*t.ATH.adjust,e.msfix,t.npart_l);for(var et,f=0;f<a;f++)0!=n[B=1&f]&&Mt(t,Y[f],Z[f],f);for(var C=0;C<3;C++){for(f=0;f<a;++f)if(0!=n[B=1&f]){rt=at=nt=tt=void 0;var tt=t,nt=f,at=C;if(0==at)for(var rt=0;rt<tt.npart_s;rt++)tt.nb_s2[nt][rt]=tt.nb_s1[nt][rt],tt.nb_s1[nt][rt]=0}else{dt=ft=ut=ct=P=M=T=lt=S=ot=st=it=at=void 0;var at=e,it=I,st=N,ot=f,S=C,lt=z,T=G,M=B;if(at=at.internal_flags,0==S&&ot<2&&yt.fft_short(at,T[M],ot,it,st),2==ot)for(var P=Wt.BLKSIZE_s-1;0<=P;--P){var ct=T[M+0][S][P],ut=T[M+1][S][P];T[M+0][S][P]=(ct+ut)*Xt.SQRT2*.5,T[M+1][S][P]=(ct-ut)*Xt.SQRT2*.5}for(lt[S][0]=T[M+0][S][0],lt[S][0]*=lt[S][0],P=Wt.BLKSIZE_s/2-1;0<=P;--P){var ft=T[M+0][S][Wt.BLKSIZE_s/2-P],dt=T[M+0][S][Wt.BLKSIZE_s/2+P];lt[S][Wt.BLKSIZE_s/2-P]=.5*(ft*ft+dt*dt)}Nt(e,z,Y[f],Z[f],f,C)}n[0]+n[1]==0&&e.mode==zt.JOINT_STEREO&&Ot(Y,Z,t.mld_cb_s,t.ATH.cb_s,e.ATHlower*t.ATH.adjust,e.msfix,t.npart_s);for(f=0;f<a;++f)0==n[B=1&f]&&Tt(t,Y[f],Z[f],f,C)}for(f=0;f<a;f++){var B=1&f;if(0==n[B])for(var F=0;F<Wt.SBMAX_s;F++){for(var pt=qt(3),C=0;C<3;C++){var _t,D=t.thm[f].s[F][C];D*=.8,2<=J[f][C]||1==J[f][C+1]?(_t=Pt(t.thm[f].s[F][0!=C?C-1:2],D,.36),D=Math.min(D,_t)):1==J[f][C]?(_t=Pt(t.thm[f].s[F][0!=C?C-1:2],D,.18),D=Math.min(D,_t)):(0!=C&&3==J[f][C-1]||0==C&&3==t.nsPsy.lastAttacks[f])&&(_t=Pt(t.thm[f].s[F][2!=C?C+1:0],D,.18),D=Math.min(D,_t)),D*=Q[f][C],pt[C]=D}for(C=0;C<3;C++)t.thm[f].s[F][C]=pt[C]}}for(f=0;f<a;f++)t.nsPsy.lastAttacks[f]=J[f][2];for(var mt=n,ht=K,x=e.internal_flags,L=0;L<x.channels_out;L++){var bt=Wt.NORM_TYPE;0!=mt[L]?x.blocktype_old[L]==Wt.SHORT_TYPE&&(bt=Wt.STOP_TYPE):(bt=Wt.SHORT_TYPE,x.blocktype_old[L]==Wt.NORM_TYPE&&(x.blocktype_old[L]=Wt.START_TYPE),x.blocktype_old[L]==Wt.STOP_TYPE&&(x.blocktype_old[L]=Wt.SHORT_TYPE)),ht[L]=x.blocktype_old[L],x.blocktype_old[L]=bt}for(f=0;f<a;f++){var vt,gt,kt,At=1<f?(vt=U,gt=-2,kt=Wt.NORM_TYPE,K[0]!=Wt.SHORT_TYPE&&K[1]!=Wt.SHORT_TYPE||(kt=Wt.SHORT_TYPE),q[O][f-2]):(vt=V,gt=0,kt=K[f],H[O][f]);vt[gt+f]=(kt==Wt.SHORT_TYPE?Bt:Ft)(At,t.masking_lower),e.analysis&&(t.pinfo.pe[O][f]=vt[gt+f])}return 0},this.psymodel_init=function(e){var t=e.internal_flags,n=!0,a=13,r=0,i=0,s=-8.25,o=-4.5,l=qt(Wt.CBANDS),c=qt(Wt.CBANDS),u=qt(Wt.CBANDS),f=e.out_samplerate;switch(e.experimentalZ){default:case 0:n=!0;break;case 1:n=e.VBR!=jt.vbr_mtrh&&e.VBR!=jt.vbr_mt;break;case 2:n=!1;break;case 3:a=8,r=-1.75,i=-.0125,s=-8.25,o=-2.25}for(t.ms_ener_ratio_old=.25,t.blocktype_old[0]=t.blocktype_old[1]=Wt.NORM_TYPE,y=0;y<4;++y){for(var d=0;d<Wt.CBANDS;++d)t.nb_1[y][d]=1e20,t.nb_2[y][d]=1e20,t.nb_s1[y][d]=t.nb_s2[y][d]=1;for(var p=0;p<Wt.SBMAX_l;p++)t.en[y].l[p]=1e20,t.thm[y].l[p]=1e20;for(d=0;d<3;++d){for(p=0;p<Wt.SBMAX_s;p++)t.en[y].s[p][d]=1e20,t.thm[y].s[p][d]=1e20;t.nsPsy.lastAttacks[y]=0}for(d=0;d<9;d++)t.nsPsy.last_en_subshort[y][d]=10}for(t.loudness_sq_save[0]=t.loudness_sq_save[1]=0,t.npart_l=E(t.numlines_l,t.bo_l,t.bm_l,l,c,t.mld_l,t.PSY.bo_l_weight,f,Wt.BLKSIZE,t.scalefac_band.l,Wt.BLKSIZE/1152,Wt.SBMAX_l),y=0;y<t.npart_l;y++){var _=r;l[y]>=a&&(_=i*(l[y]-a)/(24-a)+r*(24-l[y])/(24-a)),u[y]=Math.pow(10,_/10),0<t.numlines_l[y]?t.rnumlines_l[y]=1/t.numlines_l[y]:t.rnumlines_l[y]=0}t.s3_ll=R(t.s3ind,t.npart_l,l,c,u,n);d=0;for(y=0;y<t.npart_l;y++){b=F.MAX_VALUE;for(var m=0;m<t.numlines_l[y];m++,d++){var h=f*d/(1e3*Wt.BLKSIZE);v=this.ATHformula(1e3*h,e)-20,v=Math.pow(10,.1*v),(v*=t.numlines_l[y])<b&&(b=v)}t.ATH.cb_l[y]=b,(b=6<(b=20*l[y]/10-20)?100:b)<-15&&(b=-15),b-=8,t.minval_l[y]=Math.pow(10,b/10)*t.numlines_l[y]}for(t.npart_s=E(t.numlines_s,t.bo_s,t.bm_s,l,c,t.mld_s,t.PSY.bo_s_weight,f,Wt.BLKSIZE_s,t.scalefac_band.s,Wt.BLKSIZE_s/384,Wt.SBMAX_s),y=d=0;y<t.npart_s;y++){var b,_=s;l[y]>=a&&(_=o*(l[y]-a)/(24-a)+s*(24-l[y])/(24-a)),u[y]=Math.pow(10,_/10),b=F.MAX_VALUE;for(m=0;m<t.numlines_s[y];m++,d++){var v,h=f*d/(1e3*Wt.BLKSIZE_s);v=this.ATHformula(1e3*h,e)-20,v=Math.pow(10,.1*v),(v*=t.numlines_s[y])<b&&(b=v)}t.ATH.cb_s[y]=b,b=7*l[y]/12-7,12<l[y]&&(b*=1+3.1*Math.log(1+b)),l[y]<12&&(b*=1+2.3*Math.log(1-b)),b<-15&&(b=-15),b-=8,t.minval_s[y]=Math.pow(10,b/10)*t.numlines_s[y]}t.s3_ss=R(t.s3ind_s,t.npart_s,l,c,u,n),vt=Math.pow(10,9/16),gt=Math.pow(10,1.5),kt=Math.pow(10,1.5),yt.init_fft(t),t.decay=Math.exp(-1*w/(.01*f/192));c=3.5;0!=(2&e.exp_nspsytune)&&(c=1),0<Math.abs(e.msfix)&&(c=e.msfix),e.msfix=c;for(var g=0;g<t.npart_l;g++)t.s3ind[g][1]>t.npart_l-1&&(t.s3ind[g][1]=t.npart_l-1);c=576*t.mode_gr/f;if(t.ATH.decay=Math.pow(10,-1.2*c),t.ATH.adjust=.01,-(t.ATH.adjustLimit=1)!=e.ATHtype){for(var k=e.out_samplerate/Wt.BLKSIZE,A=0,y=h=0;y<Wt.BLKSIZE/2;++y)h+=k,t.ATH.eql_w[y]=1/Math.pow(10,this.ATHformula(h,e)/10),A+=t.ATH.eql_w[y];for(A=1/A,y=Wt.BLKSIZE/2;0<=--y;)t.ATH.eql_w[y]*=A}for(g=d=0;g<t.npart_s;++g)for(y=0;y<t.numlines_s[g];++y)++d;for(g=d=0;g<t.npart_l;++g)for(y=0;y<t.numlines_l[g];++y)++d;for(y=d=0;y<t.npart_l;y++){h=f*(d+t.numlines_l[y]/2)/+Wt.BLKSIZE;t.mld_cb_l[y]=C(h),d+=t.numlines_l[y]}for(;y<Wt.CBANDS;++y)t.mld_cb_l[y]=1;for(y=d=0;y<t.npart_s;y++){h=f*(d+t.numlines_s[y]/2)/+Wt.BLKSIZE_s;t.mld_cb_s[y]=C(h),d+=t.numlines_s[y]}for(;y<Wt.CBANDS;++y)t.mld_cb_s[y]=1;return 0},this.ATHformula=function(e,t){var n;switch(t.ATHtype){case 0:n=a(e,9);break;case 1:n=a(e,-1);break;case 2:n=a(e,0);break;case 3:n=a(e,1)+6;break;case 4:n=a(e,t.ATHcurve);break;default:n=a(e,0)}return n}}function C(){var M,P,T,B,F,D,x,L,I=this,N=(C.V9=410,C.V8=420,C.V7=430,C.V6=440,C.V5=450,C.V4=460,C.V3=470,C.V2=480,C.V1=490,C.V0=500,C.R3MIX=1e3,C.STANDARD=1001,C.EXTREME=1002,C.INSANE=1003,C.STANDARD_FAST=1004,C.EXTREME_FAST=1005,C.MEDIUM=1006,C.MEDIUM_FAST=1007,C.LAME_MAXMP3BUFFER=147456,new te);function O(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=qt(Wt.SBMAX_l),this.bo_s_weight=qt(Wt.SBMAX_s)}function H(){this.lowerlimit=0}function a(e,t){this.lowpass=t}this.enc=new Wt,this.setModules=function(e,t,n,a,r,i,s,o,l){M=e,P=t,T=n,B=a,F=r,D=i,x=o,L=l,this.enc.setModules(P,N,B,D)};var q=4294479419;function V(e){return 1<e?0:e<=0?1:Math.cos(Math.PI/2*e)}function U(e,t){switch(e){case 44100:return t.version=1,0;case 48e3:return t.version=1;case 32e3:return t.version=1,2;case 22050:return t.version=0;case 24e3:return t.version=0,1;case 16e3:return t.version=0,2;case 11025:return t.version=0;case 12e3:return t.version=0,1;case 8e3:return t.version=0,2;default:return t.version=0,-1}}function X(e,t,n){for(var a=J.bitrate_table[t=n<16e3?2:t][1],r=2;r<=14;r++)0<J.bitrate_table[t][r]&&Math.abs(J.bitrate_table[t][r]-e)<Math.abs(a-e)&&(a=J.bitrate_table[t][r]);return a}function K(e,t,n){n<16e3&&(t=2);for(var a=0;a<=14;a++)if(0<J.bitrate_table[t][a]&&J.bitrate_table[t][a]==e)return a;return-1}function j(e,t){var n=[new a(0,2e3),new a(0,3700),new a(0,3900),new a(0,5500),new a(0,7e3),new a(0,7500),new a(0,1e4),new a(0,11e3),new a(0,13500),new a(0,15100),new a(0,15600),new a(0,17e3),new a(0,17500),new a(0,18600),new a(0,19400),new a(0,19700),new a(0,20500)],t=I.nearestBitrateFullIndex(t);e.lowerlimit=n[t].lowpass}function z(e){var t=Wt.BLKSIZE+e.framesize-Wt.FFTOFFSET;return Math.max(t,512+e.framesize-32)}function W(){this.n_in=0,this.n_out=0}function G(){this.num_used=0}this.lame_init=function(){var e,t,n=new l;(e=n).class_id=q,t=e.internal_flags=new ee,e.mode=zt.NOT_SET,e.original=1,e.in_samplerate=44100,e.num_channels=2,e.num_samples=-1,e.bWriteVbrTag=!0,e.quality=-1,e.short_blocks=null,t.subblock_gain=-1,e.lowpassfreq=0,e.highpassfreq=0,e.lowpasswidth=-1,e.highpasswidth=-1,e.VBR=jt.vbr_off,e.VBR_q=4,e.ATHcurve=-1,e.VBR_mean_bitrate_kbps=128,e.VBR_min_bitrate_kbps=0,e.VBR_max_bitrate_kbps=0,e.VBR_hard_min=0,t.VBR_min_bitrate=1,t.VBR_max_bitrate=13,e.quant_comp=-1,e.quant_comp_short=-1,e.msfix=-1,t.resample_ratio=1,t.OldValue[0]=180,t.OldValue[1]=180,t.CurrentStep[0]=4,t.CurrentStep[1]=4,t.masking_lower=1,t.nsPsy.attackthre=-1,t.nsPsy.attackthre_s=-1,e.scale=-1,e.athaa_type=-1,e.ATHtype=-1,e.athaa_loudapprox=-1,e.athaa_sensitivity=0,e.useTemporal=null,e.interChRatio=-1,t.mf_samples_to_encode=Wt.ENCDELAY+Wt.POSTDELAY,e.encoder_padding=0,t.mf_size=Wt.ENCDELAY-Wt.MDCTDELAY,e.findReplayGain=!1,t.decode_on_the_fly=e.decode_on_the_fly=!1,t.findReplayGain=!1,t.findPeakSample=!1,t.RadioGain=0,t.AudiophileGain=0,t.noclipGainChange=0,t.noclipScale=-1,e.preset=0,e.write_id3tag_automatic=!0;return n.lame_allocated_gfp=1,n},this.nearestBitrateFullIndex=function(e){for(var t=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],n=0,a=0,r=0,i=0,i=t[16],r=16,a=t[16],n=16,s=0;s<16;s++)if(Math.max(e,t[s+1])!=e){i=t[s+1],r=s+1,a=t[s],n=s;break}return e-a<i-e?n:r},this.lame_init_params=function(e){var t,n=e.internal_flags;if(n.Class_ID=0,null==n.ATH&&(n.ATH=new ne),null==n.PSY&&(n.PSY=new O),null==n.rgdata&&(n.rgdata=new re),n.channels_in=e.num_channels,1==n.channels_in&&(e.mode=zt.MONO),n.channels_out=e.mode==zt.MONO?1:2,n.mode_ext=Wt.MPG_MD_MS_LR,e.mode==zt.MONO&&(e.force_ms=!1),e.VBR==jt.vbr_off&&128!=e.VBR_mean_bitrate_kbps&&0==e.brate&&(e.brate=e.VBR_mean_bitrate_kbps),e.VBR!=jt.vbr_off&&e.VBR!=jt.vbr_mtrh&&e.VBR!=jt.vbr_mt&&(e.free_format=!1),e.VBR==jt.vbr_off&&0==e.brate&&Q.EQ(e.compression_ratio,0)&&(e.compression_ratio=11.025),e.VBR==jt.vbr_off&&0<e.compression_ratio&&(0==e.out_samplerate&&(e.out_samplerate=map2MP3Frequency(int(.97*e.in_samplerate))),e.brate=0|16*e.out_samplerate*n.channels_out/(1e3*e.compression_ratio),n.samplerate_index=U(e.out_samplerate,e),e.free_format||(e.brate=X(e.brate,e.version,e.out_samplerate))),0!=e.out_samplerate&&(e.out_samplerate<16e3?(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,64)):e.out_samplerate<32e3?(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,160)):(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,32),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,320))),0==e.lowpassfreq){var a,r=16e3;switch(e.VBR){case jt.vbr_off:j(a=new H,e.brate),r=a.lowerlimit;break;case jt.vbr_abr:j(a=new H,e.VBR_mean_bitrate_kbps),r=a.lowerlimit;break;case jt.vbr_rh:var i=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];r=0<=e.VBR_q&&e.VBR_q<=9?(s=i[e.VBR_q],o=i[e.VBR_q+1],l=e.VBR_q_frac,linear_int(s,o,l)):19500;break;default:var s,o,l,i=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];r=0<=e.VBR_q&&e.VBR_q<=9?(s=i[e.VBR_q],o=i[e.VBR_q+1],l=e.VBR_q_frac,linear_int(s,o,l)):19500}e.mode!=zt.MONO||e.VBR!=jt.vbr_off&&e.VBR!=jt.vbr_abr||(r*=1.5),e.lowpassfreq=0|r}if(0==e.out_samplerate&&(2*e.lowpassfreq>e.in_samplerate&&(e.lowpassfreq=e.in_samplerate/2),e.out_samplerate=(y=0|e.lowpassfreq,t=44100,48e3<=(w=e.in_samplerate)?t=48e3:44100<=w?t=44100:32e3<=w?t=32e3:24e3<=w?t=24e3:22050<=w?t=22050:16e3<=w?t=16e3:12e3<=w?t=12e3:11025<=w?t=11025:8e3<=w&&(t=8e3),-1!=y&&(y<=15960&&(t=44100),y<=15250&&(t=32e3),y<=11220&&(t=24e3),y<=9970&&(t=22050),y<=7230&&(t=16e3),y<=5420&&(t=12e3),y<=4510&&(t=11025),w<(t=y<=3970?8e3:t))?44100<w?48e3:32e3<w?44100:24e3<w?32e3:22050<w?24e3:16e3<w?22050:12e3<w?16e3:11025<w?12e3:8e3<w?11025:8e3:t)),e.lowpassfreq=Math.min(20500,e.lowpassfreq),e.lowpassfreq=Math.min(e.out_samplerate/2,e.lowpassfreq),e.VBR==jt.vbr_off&&(e.compression_ratio=16*e.out_samplerate*n.channels_out/(1e3*e.brate)),e.VBR==jt.vbr_abr&&(e.compression_ratio=16*e.out_samplerate*n.channels_out/(1e3*e.VBR_mean_bitrate_kbps)),e.bWriteVbrTag||(e.findReplayGain=!1,n.findPeakSample=e.decode_on_the_fly=!1),n.findReplayGain=e.findReplayGain,n.decode_on_the_fly=e.decode_on_the_fly,n.decode_on_the_fly&&(n.findPeakSample=!0),n.findReplayGain&&M.InitGainAnalysis(n.rgdata,e.out_samplerate)==Z.INIT_GAIN_ANALYSIS_ERROR)return e.internal_flags=null,-6;switch(n.decode_on_the_fly&&!e.decode_only&&(null!=n.hip&&L.hip_decode_exit(n.hip),n.hip=L.hip_decode_init()),n.mode_gr=e.out_samplerate<=24e3?1:2,e.framesize=576*n.mode_gr,e.encoder_delay=Wt.ENCDELAY,n.resample_ratio=e.in_samplerate/e.out_samplerate,e.VBR){case jt.vbr_mt:case jt.vbr_rh:case jt.vbr_mtrh:e.compression_ratio=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5][e.VBR_q];break;case jt.vbr_abr:e.compression_ratio=16*e.out_samplerate*n.channels_out/(1e3*e.VBR_mean_bitrate_kbps);break;default:e.compression_ratio=16*e.out_samplerate*n.channels_out/(1e3*e.brate)}e.mode==zt.NOT_SET&&(e.mode=zt.JOINT_STEREO),0<e.highpassfreq?(n.highpass1=2*e.highpassfreq,n.highpass2=0<=e.highpasswidth?2*(e.highpassfreq+e.highpasswidth):2*e.highpassfreq,n.highpass1/=e.out_samplerate,n.highpass2/=e.out_samplerate):(n.highpass1=0,n.highpass2=0),0<e.lowpassfreq?(n.lowpass2=2*e.lowpassfreq,0<=e.lowpasswidth?(n.lowpass1=2*(e.lowpassfreq-e.lowpasswidth),n.lowpass1<0&&(n.lowpass1=0)):n.lowpass1=2*e.lowpassfreq,n.lowpass1/=e.out_samplerate,n.lowpass2/=e.out_samplerate):(n.lowpass1=0,n.lowpass2=0);var c=e.internal_flags,u=32,f=-1;if(0<c.lowpass1){for(var d=999,p=0;p<=31;p++)(m=p/31)>=c.lowpass2&&(u=Math.min(u,p)),c.lowpass1<m&&m<c.lowpass2&&(d=Math.min(d,p));c.lowpass1=999==d?(u-.75)/31:(d-.75)/31,c.lowpass2=u/31}if(0<c.highpass2&&c.highpass2<.75/31*.9&&(c.highpass1=0,c.highpass2=0,$.err.println("Warning: highpass filter disabled.  highpass frequency too small\n")),0<c.highpass2){for(var _=-1,p=0;p<=31;p++)(m=p/31)<=c.highpass1&&(f=Math.max(f,p)),c.highpass1<m&&m<c.highpass2&&(_=Math.max(_,p));c.highpass1=f/31,c.highpass2=-1==_?(f+.75)/31:(_+.75)/31}for(p=0;p<32;p++){var m=p/31,h=c.highpass2>c.highpass1?V((c.highpass2-m)/(c.highpass2-c.highpass1+1e-20)):1,b=c.lowpass2>c.lowpass1?V((m-c.lowpass1)/(c.lowpass2-c.lowpass1+1e-20)):1;c.amp_filter[p]=h*b}if(n.samplerate_index=U(e.out_samplerate,e),n.samplerate_index<0)return e.internal_flags=null,-1;if(e.VBR==jt.vbr_off){if(e.free_format)n.bitrate_index=0;else if(e.brate=X(e.brate,e.version,e.out_samplerate),n.bitrate_index=K(e.brate,e.version,e.out_samplerate),n.bitrate_index<=0)return e.internal_flags=null,-1}else n.bitrate_index=1;e.analysis&&(e.bWriteVbrTag=!1),null!=n.pinfo&&(e.bWriteVbrTag=!1),P.init_bit_stream_w(n);for(var v=n.samplerate_index+3*e.version+6*(e.out_samplerate<16e3?1:0),g=0;g<Wt.SBMAX_l+1;g++)n.scalefac_band.l[g]=B.sfBandIndex[v].l[g];for(g=0;g<Wt.PSFB21+1;g++){var k=(n.scalefac_band.l[22]-n.scalefac_band.l[21])/Wt.PSFB21,A=n.scalefac_band.l[21]+g*k;n.scalefac_band.psfb21[g]=A}n.scalefac_band.psfb21[Wt.PSFB21]=576;for(g=0;g<Wt.SBMAX_s+1;g++)n.scalefac_band.s[g]=B.sfBandIndex[v].s[g];for(var y,w,g=0;g<Wt.PSFB12+1;g++){k=(n.scalefac_band.s[13]-n.scalefac_band.s[12])/Wt.PSFB12,A=n.scalefac_band.s[12]+g*k;n.scalefac_band.psfb12[g]=A}n.scalefac_band.psfb12[Wt.PSFB12]=192,n.sideinfo_len=1==e.version?1==n.channels_out?21:36:1==n.channels_out?13:21,e.error_protection&&(n.sideinfo_len+=2),w=(y=e).internal_flags,y.frameNum=0,y.write_id3tag_automatic&&x.id3tag_write_v2(y),w.bitrate_stereoMode_Hist=Y([16,5]),w.bitrate_blockType_Hist=Y([16,6]),w.PeakSample=0,y.bWriteVbrTag&&D.InitVbrTag(y),n.Class_ID=q;for(var E,R=0;R<19;R++)n.nsPsy.pefirbuf[R]=700*n.mode_gr*n.channels_out;switch(-1==e.ATHtype&&(e.ATHtype=4),e.VBR){case jt.vbr_mt:e.VBR=jt.vbr_mtrh;case jt.vbr_mtrh:null==e.useTemporal&&(e.useTemporal=!1),T.apply_preset(e,500-10*e.VBR_q,0),e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),e.quality<5&&(e.quality=0),5<e.quality&&(e.quality=5),n.PSY.mask_adjust=e.maskingadjust,n.PSY.mask_adjust_short=e.maskingadjust_short,n.sfb21_extra=!e.experimentalY&&44e3<e.out_samplerate,n.iteration_loop=new VBRNewIterationLoop(F);break;case jt.vbr_rh:T.apply_preset(e,500-10*e.VBR_q,0),n.PSY.mask_adjust=e.maskingadjust,n.PSY.mask_adjust_short=e.maskingadjust_short,n.sfb21_extra=!e.experimentalY&&44e3<e.out_samplerate,6<e.quality&&(e.quality=6),e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),n.iteration_loop=new VBROldIterationLoop(F);break;default:n.sfb21_extra=!1,e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),(E=e.VBR)==jt.vbr_off&&(e.VBR_mean_bitrate_kbps=e.brate),T.apply_preset(e,e.VBR_mean_bitrate_kbps,0),e.VBR=E,n.PSY.mask_adjust=e.maskingadjust,n.PSY.mask_adjust_short=e.maskingadjust_short,n.iteration_loop=new(E==jt.vbr_off?ae:ABRIterationLoop)(F)}if(e.VBR!=jt.vbr_off){if(n.VBR_min_bitrate=1,n.VBR_max_bitrate=14,e.out_samplerate<16e3&&(n.VBR_max_bitrate=8),0!=e.VBR_min_bitrate_kbps&&(e.VBR_min_bitrate_kbps=X(e.VBR_min_bitrate_kbps,e.version,e.out_samplerate),n.VBR_min_bitrate=K(e.VBR_min_bitrate_kbps,e.version,e.out_samplerate),n.VBR_min_bitrate<0))return-1;if(0!=e.VBR_max_bitrate_kbps&&(e.VBR_max_bitrate_kbps=X(e.VBR_max_bitrate_kbps,e.version,e.out_samplerate),n.VBR_max_bitrate=K(e.VBR_max_bitrate_kbps,e.version,e.out_samplerate),n.VBR_max_bitrate<0))return-1;e.VBR_min_bitrate_kbps=J.bitrate_table[e.version][n.VBR_min_bitrate],e.VBR_max_bitrate_kbps=J.bitrate_table[e.version][n.VBR_max_bitrate],e.VBR_mean_bitrate_kbps=Math.min(J.bitrate_table[e.version][n.VBR_max_bitrate],e.VBR_mean_bitrate_kbps),e.VBR_mean_bitrate_kbps=Math.max(J.bitrate_table[e.version][n.VBR_min_bitrate],e.VBR_mean_bitrate_kbps)}e.tune&&(n.PSY.mask_adjust+=e.tune_value_a,n.PSY.mask_adjust_short+=e.tune_value_a);var C=e,S=C.internal_flags;switch(C.quality){default:case 9:S.psymodel=0,S.noise_shaping=0,S.noise_shaping_amp=0,S.noise_shaping_stop=0,S.use_best_huffman=0,S.full_outer_loop=0;break;case 8:C.quality=7;case 7:S.psymodel=1,S.noise_shaping=0,S.noise_shaping_amp=0,S.noise_shaping_stop=0,S.use_best_huffman=0,S.full_outer_loop=0;break;case 6:case 5:S.psymodel=1,0==S.noise_shaping&&(S.noise_shaping=1),S.noise_shaping_amp=0,S.noise_shaping_stop=0,-1==S.subblock_gain&&(S.subblock_gain=1),S.use_best_huffman=0,S.full_outer_loop=0;break;case 4:S.psymodel=1,0==S.noise_shaping&&(S.noise_shaping=1),S.noise_shaping_amp=0,S.noise_shaping_stop=0,-1==S.subblock_gain&&(S.subblock_gain=1),S.use_best_huffman=1,S.full_outer_loop=0;break;case 3:S.psymodel=1,0==S.noise_shaping&&(S.noise_shaping=1),S.noise_shaping_amp=1,-(S.noise_shaping_stop=1)==S.subblock_gain&&(S.subblock_gain=1),S.use_best_huffman=1,S.full_outer_loop=0;break;case 2:S.psymodel=1,0==S.noise_shaping&&(S.noise_shaping=1),0==S.substep_shaping&&(S.substep_shaping=2),S.noise_shaping_amp=1,-(S.noise_shaping_stop=1)==S.subblock_gain&&(S.subblock_gain=1),S.use_best_huffman=1,S.full_outer_loop=0;break;case 1:case 0:S.psymodel=1,0==S.noise_shaping&&(S.noise_shaping=1),0==S.substep_shaping&&(S.substep_shaping=2),S.noise_shaping_amp=2,-(S.noise_shaping_stop=1)==S.subblock_gain&&(S.subblock_gain=1),S.use_best_huffman=1,S.full_outer_loop=0}return n.ATH.useAdjust=e.athaa_type<0?3:e.athaa_type,n.ATH.aaSensitivityP=Math.pow(10,e.athaa_sensitivity/-10),null==e.short_blocks&&(e.short_blocks=Kt.short_block_allowed),e.short_blocks!=Kt.short_block_allowed||e.mode!=zt.JOINT_STEREO&&e.mode!=zt.STEREO||(e.short_blocks=Kt.short_block_coupled),e.quant_comp<0&&(e.quant_comp=1),e.quant_comp_short<0&&(e.quant_comp_short=0),e.msfix<0&&(e.msfix=0),e.exp_nspsytune=1|e.exp_nspsytune,e.internal_flags.nsPsy.attackthre<0&&(e.internal_flags.nsPsy.attackthre=te.NSATTACKTHRE),e.internal_flags.nsPsy.attackthre_s<0&&(e.internal_flags.nsPsy.attackthre_s=te.NSATTACKTHRE_S),e.scale<0&&(e.scale=1),e.ATHtype<0&&(e.ATHtype=4),e.ATHcurve<0&&(e.ATHcurve=4),e.athaa_loudapprox<0&&(e.athaa_loudapprox=2),e.interChRatio<0&&(e.interChRatio=0),null==e.useTemporal&&(e.useTemporal=!0),n.slot_lag=n.frac_SpF=0,e.VBR==jt.vbr_off&&(n.slot_lag=n.frac_SpF=72e3*(e.version+1)*e.brate%e.out_samplerate|0),B.iteration_init(e),N.psymodel_init(e),0},this.lame_encode_flush=function(e,t,n,a){var r,i,s,o,l=e.internal_flags,c=m([2,1152]),u=0,f=l.mf_samples_to_encode-Wt.POSTDELAY,d=z(e);if(l.mf_samples_to_encode<1)return 0;for(r=0,e.in_samplerate!=e.out_samplerate&&(f+=16*e.out_samplerate/e.in_samplerate),(s=e.framesize-f%e.framesize)<576&&(s+=e.framesize),o=(f+(e.encoder_padding=s))/e.framesize;0<o&&0<=u;){var p=d-l.mf_size,_=e.frameNum;(p=1152<(p=(p*=e.in_samplerate)/e.out_samplerate)?1152:p)<1&&(p=1),i=a-r,n+=u=this.lame_encode_buffer(e,c[0],c[1],p,t,n,i=0==a?0:i),r+=u,o-=_!=e.frameNum?1:0}if(u<(l.mf_samples_to_encode=0))return u;if(i=a-r,0==a&&(i=0),P.flush_bitstream(e),(u=P.copy_buffer(l,t,n,i,1))<0)return u;if(n+=u,i=a-(r+=u),0==a&&(i=0),e.write_id3tag_automatic){if(x.id3tag_write_v1(e),(u=P.copy_buffer(l,t,n,i,0))<0)return u;r+=u}return r},this.lame_encode_buffer=function(e,t,n,a,r,i,s){var o=e.internal_flags,l=[null,null];if(o.Class_ID!=q)return-3;if(0==a)return 0;m=a,(null==(_=o).in_buffer_0||_.in_buffer_nsamples<m)&&(_.in_buffer_0=qt(m),_.in_buffer_1=qt(m),_.in_buffer_nsamples=m),l[0]=o.in_buffer_0,l[1]=o.in_buffer_1;for(var c=0;c<a;c++)l[0][c]=t[c],1<o.channels_in&&(l[1][c]=n[c]);var u,f,d,p=e,_=l[0],m=l[1],h=a,b=r,v=i,g=s,k=p.internal_flags,A=0,y=[null,null],w=[null,null];if(k.Class_ID!=q)return-3;if(0==h)return 0;if((e=P.copy_buffer(k,b,v,g,0))<0)return e;if(v+=e,A+=e,w[0]=_,w[1]=m,Q.NEQ(p.scale,0)&&Q.NEQ(p.scale,1))for(u=0;u<h;++u)w[0][u]*=p.scale,2==k.channels_out&&(w[1][u]*=p.scale);if(Q.NEQ(p.scale_left,0)&&Q.NEQ(p.scale_left,1))for(u=0;u<h;++u)w[0][u]*=p.scale_left;if(Q.NEQ(p.scale_right,0)&&Q.NEQ(p.scale_right,1))for(u=0;u<h;++u)w[1][u]*=p.scale_right;if(2==p.num_channels&&1==k.channels_out)for(u=0;u<h;++u)w[0][u]=.5*(w[0][u]+w[1][u]),w[1][u]=0;d=z(p),y[0]=k.mfbuf[0],y[1]=k.mfbuf[1];for(var E=0;0<h;){var R=[null,null],C=0,S=0,T=(R[0]=w[0],R[1]=w[1],new W);if(((e,t,n,a,r,i)=>{var s=e.internal_flags;if(s.resample_ratio<.9999||1.0001<s.resample_ratio)for(var o=0;o<s.channels_out;o++){var l=new G;i.n_out=((e,t,n,a,r,i,s,o,l)=>{var c,u,f=e.internal_flags,d=0,p=e.out_samplerate/function e(t,n){return 0!=n?e(n,t%n):t}(e.out_samplerate,e.in_samplerate),e=(ee.BPC<p&&(p=ee.BPC),Math.abs(f.resample_ratio-Math.floor(.5+f.resample_ratio))<1e-4?1:0),_=1/f.resample_ratio,m=(1<_&&(_=1),31),h=(0==m%2&&--m,(m+=e)+1);if(0==f.fill_buffer_resample_init){for(f.inbuf_old[0]=qt(h),f.inbuf_old[1]=qt(h),c=0;c<=2*p;++c)f.blackfilt[c]=qt(h);for(f.itime[0]=0,f.itime[1]=0,d=0;d<=2*p;d++){var b=0,v=(d-p)/(2*p);for(c=0;c<=m;c++)b+=f.blackfilt[d][c]=((e,t,n)=>{t=Math.PI*t;var a=(e=1<(e=(e/=n)<0?0:e)?1:e)-.5,e=.42-.5*Math.cos(2*e*Math.PI)+.08*Math.cos(4*e*Math.PI);return Math.abs(a)<1e-9?t/Math.PI:e*Math.sin(n*t*a)/(Math.PI*n*a)})(c-v,_,m);for(c=0;c<=m;c++)f.blackfilt[d][c]/=b}f.fill_buffer_resample_init=1}var g,k,A=f.inbuf_old[l];for(u=0;u<a&&(g=u*f.resample_ratio,d=0|Math.floor(g-f.itime[l]),!(s<=m+d-m/2));u++){var v=g-f.itime[l]-(d+m%2*.5),y=(k=0|Math.floor(2*v*p+p+.5),0);for(c=0;c<=m;++c){var w=c+d-m/2;w=w<0?A[h+w]:r[i+w],y+=w*f.blackfilt[k][c]}t[n+u]=y}if(o.num_used=Math.min(s,m+d-m/2),f.itime[l]+=o.num_used-u*f.resample_ratio,h<=o.num_used)for(c=0;c<h;c++)A[c]=r[i+o.num_used+c-h];else{var E=h-o.num_used;for(c=0;c<E;++c)A[c]=A[c+o.num_used];for(d=0;c<h;++c,++d)A[c]=r[i+d]}return u})(e,t[o],s.mf_size,e.framesize,n[o],a,r,l,o),i.n_in=l.num_used}else{i.n_out=Math.min(e.framesize,r),i.n_in=i.n_out;for(var c=0;c<i.n_out;++c)t[0][s.mf_size+c]=n[0][a+c],2==s.channels_out&&(t[1][s.mf_size+c]=n[1][a+c])}})(p,y,R,E,h,T),C=T.n_in,S=T.n_out,k.findReplayGain&&!k.decode_on_the_fly&&M.AnalyzeSamples(k.rgdata,y[0],k.mf_size,y[1],k.mf_size,S,k.channels_out)==Z.GAIN_ANALYSIS_ERROR)return-6;if(h-=C,E+=C,k.channels_out,k.mf_size+=S,k.mf_samples_to_encode<1&&(k.mf_samples_to_encode=Wt.ENCDELAY+Wt.POSTDELAY),k.mf_samples_to_encode+=S,k.mf_size>=d){R=0==g?0:g-A;if((T=((e,t,n,a,r,i)=>(t=I.enc.lame_encode_mp3_frame(e,t,n,a,r,i),e.frameNum++,t))(p,y[0],y[1],b,v,R))<0)return T;for(v+=T,A+=T,k.mf_size-=p.framesize,k.mf_samples_to_encode-=p.framesize,f=0;f<k.channels_out;f++)for(u=0;u<k.mf_size;u++)y[f][u]=y[f][u+p.framesize]}}return A}}function M(){this.setModules=function(e,t){0}}function P(){this.setModules=function(e,t,n){0}}function B(){}function D(){this.setModules=function(e,t){0}}function o(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function t(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}H.SFBMAX=3*Wt.SBMAX_s,Wt.ENCDELAY=576,Wt.POSTDELAY=1152,Wt.FFTOFFSET=224+(Wt.MDCTDELAY=48),Wt.DECDELAY=528,Wt.SBLIMIT=32,Wt.CBANDS=64,Wt.SBPSY_l=21,Wt.SBPSY_s=12,Wt.SBMAX_l=22,Wt.SBMAX_s=13,Wt.PSFB21=6,Wt.PSFB12=6,Wt.HBLKSIZE=(Wt.BLKSIZE=1024)/2+1,Wt.HBLKSIZE_s=(Wt.BLKSIZE_s=256)/2+1,Wt.NORM_TYPE=0,Wt.START_TYPE=1,Wt.SHORT_TYPE=2,Wt.STOP_TYPE=3,Wt.MPG_MD_LR_LR=0,Wt.MPG_MD_LR_I=1,Wt.MPG_MD_MS_LR=2,Wt.MPG_MD_MS_I=3,Wt.fircoef=[-.1039435,-.1892065,5*-.0432472,-.155915,3898045e-23,.0467745*5,.50455,.756825,.187098*5],ee.MFSIZE=3456+Wt.ENCDELAY-Wt.MDCTDELAY,ee.MAX_HEADER_BUF=256,ee.MAX_BITS_PER_CHANNEL=4095,ee.MAX_BITS_PER_GRANULE=7680,ee.BPC=320,o.RIFF=t("RIFF"),o.WAVE=t("WAVE"),o.fmt_=t("fmt "),o.data=t("data"),o.readHeader=function(e){var t=new o,n=e.getUint32(0,!1);if(o.RIFF==n){e.getUint32(4,!0);if(o.WAVE==e.getUint32(8,!1)&&o.fmt_==e.getUint32(12,!1)){var a=e.getUint32(16,!0),r=20;switch(a){case 16:case 18:t.channels=e.getUint16(r+2,!0),t.sampleRate=e.getUint32(r+4,!0);break;default:throw"extended fmt chunk not implemented"}r+=a;for(var i=o.data,s=0;i!=n&&(n=e.getUint32(r,!1),s=e.getUint32(r+4,!0),i!=n);)r+=s+8;return t.dataLen=s,t.dataOffset=r+8,t}}},H.SFBMAX=3*Wt.SBMAX_s,lamejs.Mp3Encoder=function(n,e,t){3!=arguments.length&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),n=1,e=44100,t=128);var a=new C,r=new M,i=new Z,s=new Q,o=new w,l=new z,c=new T,u=new A,f=new y,d=new D,p=new E,_=new S,m=new P,h=new B,b=(a.setModules(i,s,o,l,c,u,f,d,h),s.setModules(i,h,f,u),d.setModules(s,f),o.setModules(a),c.setModules(s,p,l,_),l.setModules(_,p,a.enc.psy),p.setModules(s),_.setModules(l),u.setModules(a,s,f),r.setModules(m,h),m.setModules(f,d,o),a.lame_init()),v=(b.num_channels=n,b.in_samplerate=e,b.brate=t,b.mode=zt.STEREO,b.quality=3,b.bWriteVbrTag=!1,b.disable_reservoir=!0,b.write_id3tag_automatic=!1,a.lame_init_params(b),1152),g=0|1.25*v+7200,k=R(g);this.encodeBuffer=function(e,t){1==n&&(t=e),e.length>v&&(v=e.length,k=R(g=0|1.25*v+7200));t=a.lame_encode_buffer(b,e,t,e.length,k,0,g);return new Int8Array(k.subarray(0,t))},this.flush=function(){var e=a.lame_encode_flush(b,k,0,g);return new Int8Array(k.subarray(0,e))}},lamejs.WavHeader=o}onmessage=function(e){if(e.data)if(e.data.sample_rate)sample_rate=+e.data.sample_rate,compression=e.data.flac_compression,channels=+e.data.channels,initFLAC();else if(!(first_buffer&&(samples_left=new Int16Array(e.data,0),first_buffer=!1,1<channels)))if(e.data&&1<channels&&(samples_right=new Int16Array(e.data,0)),FLAC_INITIALIZED){postMessage({percentage:50});e=null,e=1<channels?interleave(samples_left,samples_right):samples_left;if(1<channels)Flac.FLAC__stream_encoder_process_interleaved(flacEncoder,e,samples_left.length);else{for(var t=new Int32Array(samples_left.length),n=0;n<samples_left.length;)t[n]=samples_left[n],++n;Flac.FLAC__stream_encoder_process(flacEncoder,[t],samples_left.length)}Flac.FLAC__stream_encoder_finish(flacEncoder);for(var a=new Uint8Array(bufIndex),r=0,i=0;i<buffers.length;i++)a.set(buffers[i],r),r+=buffers[i].length;e=new Blob([a],{type:"audio/flac"});postMessage(e),Flac.FLAC__stream_encoder_delete(flacEncoder),FLAC_INITIALIZED=!1,buffers=[],bufIndex=0}else postMessage({percentage:0})},lamejs();var sample_rate=44100,kbps=128,channels=1,mp3encoder=null,samples_left=null,samples_right=null,first_buffer=!0;function interleave(e,t){for(var n=e.length+t.length,a=new Int16Array(n),r=0,i=0;r<n;)a[r++]=e[i],a[r++]=t[i],++i;return a}function floatTo16BitPCM(e,t,n){for(var a=0;a<n.length;a++,t+=2)e.setInt16(t,n[a],!0)}function writeString(e,t,n){for(var a=0;a<n.length;a++)e.setUint8(t+a,n.charCodeAt(a))}function encodeWAV(e,t,n){var a=new ArrayBuffer(44+2*e.length),a=new DataView(a);return writeString(a,0,"RIFF"),a.setUint32(4,36+2*e.length,!0),writeString(a,8,"WAVE"),writeString(a,12,"fmt "),a.setUint32(16,16,!0),a.setUint16(20,1,!0),a.setUint16(22,t,!0),a.setUint32(24,n,!0),a.setUint32(28,n*t*2,!0),a.setUint16(32,2*t,!0),a.setUint16(34,16,!0),writeString(a,36,"data"),a.setUint32(40,2*e.length,!0),floatTo16BitPCM(a,44,e),a}onmessage=function(e){if(e.data)if(e.data.sample_rate)sample_rate=+e.data.sample_rate,kbps=+e.data.kbps,channels=+e.data.channels;else if(!(first_buffer&&(samples_left=new Int16Array(e.data),first_buffer=!1,1<channels))){e.data&&1<channels&&(samples_right=new Int16Array(e.data)),mp3encoder=mp3encoder||new lamejs.Mp3Encoder(channels,sample_rate,kbps);for(var t,n=[],a=0,r=null,i=0;i<samples_left.length;i+=2304){t=samples_left.subarray(i,i+2304),samples_right&&(r=samples_right.subarray(i,i+2304));var s=mp3encoder.encodeBuffer(t,r);i/samples_left.length*100>>0>a&&(a=i/samples_left.length*100>>0,postMessage({percentage:a})),0<s.length&&n.push(s)}0<(s=mp3encoder.flush()).length&&n.push(s);e=new Blob(n,{type:"audio/mp3"});postMessage(e)}};var sample_rate=44100,kbps=128,channels=1,mp3encoder=null,samples_left=null,samples_right=null,first_buffer=!0,Module=(onmessage=function(e){e.data&&(e.data.sample_rate?(sample_rate=+e.data.sample_rate,kbps=+e.data.kbps,channels=+e.data.channels):first_buffer&&(samples_left=new Int16Array(e.data,0),first_buffer=!1,1<channels)||(e.data&&1<channels&&(samples_right=new Int16Array(e.data,0)),e=encodeWAV(1<channels?interleave(samples_left,samples_right):samples_left,channels,sample_rate),e=new Blob([e],{type:"audio/wav"}),postMessage(e)))},void 0!==Module?Module:{});((e,t)=>{"function"==typeof define&&define.amd?define(["module","require"],t.bind(null,e)):"object"==typeof module&&module.exports?t("undefined"!=typeof process&&process&&process.env?process.env:e,module,module.require):e.Flac=t(e)})("undefined"!=typeof self?self:"undefined"!=typeof window?window:this,function(n,I,N){var O,e,y=y||{},H=!1,q=(y.onRuntimeInitialized=function(){H=!0,L?x("ready",[{type:"ready",target:L}],!0):setTimeout(function(){x("ready",[{type:"ready",target:L}],!0)},0)},n&&n.FLAC_SCRIPT_LOCATION&&(y.locateFile=function(e){var t=n.FLAC_SCRIPT_LOCATION||"";return t[e]||(t+=t&&!/\/$/.test(t)?"/":"")+e},r=function(e){var t;return i?(p((t=(t=a(e,!0)).buffer?t:new Uint8Array(t)).buffer),t):new Promise(function(t,n){var a=new XMLHttpRequest;a.responseType="arraybuffer",a.addEventListener("load",function(e){t(a.response)}),a.addEventListener("error",function(e){n(e)}),a.open("GET",e),a.send()})}),n&&"function"==typeof n.fetch&&(O=n.fetch,n.fetch=function(n){return O.apply(null,arguments).catch(function(t){try{var e=r(n);return e&&e.catch&&e.catch(function(e){throw t}),e}catch(e){throw t}})}),{});for(e in y)y.hasOwnProperty(e)&&(q[e]=y[e]);var a,r,V,U,i=!1,X="object"==typeof window,c="function"==typeof importScripts,i="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,K=!X&&!i&&!c,t="",u=(i?(t=c?N("path").dirname(t)+"/":__dirname+"/",a=function(e,t){var n=B(e);return n?t?n:n.toString():(V=V||N("fs"),e=(U=U||N("path")).normalize(e),V.readFileSync(e,t?null:"utf8"))},r=function(e){return p((e=(e=a(e,!0)).buffer?e:new Uint8Array(e)).buffer),e},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),"undefined"!=typeof module&&(module.exports=y),y.inspect=function(){return"[Emscripten Module object]"}):K?("undefined"!=typeof read&&(a=function(e){var t=B(e);return t?Pe(t):read(e)}),r=function(e){var t=B(e);if(!t){if("function"==typeof readbuffer)return new Uint8Array(readbuffer(e));p("object"==typeof(t=read(e,"binary")))}return t},"undefined"!=typeof print&&((console="undefined"==typeof console?{}:console).log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(X||c)&&(c?t=self.location.href:document.currentScript&&(t=document.currentScript.src),t=0!==t.indexOf("blob:")?t.substr(0,t.lastIndexOf("/")+1):"",a=function(t){try{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(null),n.responseText}catch(e){if(n=B(t))return Pe(n);throw e}},c)&&(r=function(t){try{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}catch(e){if(n=B(t))return n;throw e}}),y.print||console.log.bind(console)),f=y.printErr||console.warn.bind(console);for(e in q)q.hasOwnProperty(e)&&(y[e]=q[e]);var s,q=null,j=[];function z(e){var t,n=G;if(!s){s=new WeakMap;for(var a=0;a<n.length;a++){var r=n.get(a);r&&s.set(r,a)}}if(s.has(e))return s.get(e);if(j.length)t=j.pop();else{t=n.length;try{n.grow(1)}catch(a){if(a instanceof RangeError)throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.";throw a}}try{n.set(t,e)}catch(a){if(!(a instanceof TypeError))throw a;n.set(t,e)}return s.set(e,t),t}var o,l,W=0,K=function(e){W=e},d=(y.wasmBinary&&(o=y.wasmBinary),{Memory:function(e){this.buffer=new ArrayBuffer(65536*e.initial),this.grow=function(e){return qe(e)}},Table:function(e){var n=new Array(e.initial);return n.grow=function(e){27<=n.length&&g("Unable to grow wasm table. Use a higher value for RESERVED_FUNCTION_POINTERS or set ALLOW_TABLE_GROWTH."),n.push(null)},n.set=function(e,t){n[e]=t},n.get=function(e){return n[e]},n},Module:function(e){},Instance:function(e,t){this.exports=((n,s,o)=>{var e=new ArrayBuffer(8),qt=new Int32Array(e),Ae=new Float32Array(e),l=new Float64Array(e);function ye(e,t){qt[e]=t}function we(){return l[0]}function r0(e){l[0]=e}for(var a,c,u,Vt,_e,k,Ut,Xt,E,Kt,jt,zt,Wt,Gt,Yt,me,y,Ee,f,p,m,h,b,v,g,w,Zt,C,S,Qt,e=new Uint8Array(s.buffer),T=new Uint8Array(123),M=25;0<=M;--M)T[48+M]=52+M,T[65+M]=M,T[97+M]=26+M;function t(e,t,n){for(var a,r,i=0,s=t,o=n.length,l=t+(3*o>>2)-("="==n[o-2])-("="==n[o-1]);i<o;i+=4)a=T[n.charCodeAt(i+1)],r=T[n.charCodeAt(i+2)],e[s++]=T[n.charCodeAt(i)]<<2|a>>4,s<l&&(e[s++]=a<<4|r>>2),s<l&&(e[s++]=r<<6|T[n.charCodeAt(i+3)])}return T[43]=62,T[47]=63,t(e,1025,"Bw4JHBsSFTg/NjEkIyotcHd+eWxrYmVIT0ZBVFNaXeDn7un8+/L12N/W0cTDys2Ql56ZjIuChaivpqG0s7q9x8DJztvc1dL/+PH24+Tt6rewub6rrKWij4iBhpOUnZonICkuOzw1Mh8YERYDBA0KV1BZXktMRUJvaGFmc3R9eomOh4CVkpucsba/uK2qo6T5/vfw5eLr7MHGz8jd2tPUaW5nYHVye3xRVl9YTUpDRBkeFxAFAgsMISYvKD06MzROSUBHUlVcW3ZxeH9qbWRjPjkwNyIlLCsGAQgPGh0UE66poKeytby7lpGYn4qNhIPe2dDXwsXMy+bh6O/6/fTzAAAFgA+ACgAbgB4AFAARgDOANgA8ADmAKAAtgCeAIgBjgGYAbABpgHgAfYB3gHIAUABVgF+AWgBLgE4ARABBgMOAxgDMAMmA2ADdgNeA0gDwAPWA/4D6AOuA7gDkAOGAoAClgK+AqgC7gL4AtACxgJOAlgCcAJmAiACNgIeAggCDgYYBjAGJgZgBnYGXgZIBsAG1gb+BugGrga4BpAGhgeAB5YHvgeoB+4H+AfQB8YHTgdYB3AHZgcgBzYHHgcIBQAFFgU+BSgFbgV4BVAFRgXOBdgF8AXmBaAFtgWeBYgEjgSYBLAEpgTgBPYE3gTIBEAEVgR+BGgELgQ4BBAEBgQODBgMMAwmDGAMdgxeDEgMwAzWDP4M6AyuDLgMkAyGDYANlg2+DagN7g34DdANxg1ODVgNcA1mDSANNg0eDQgPAA8WDz4PKA9uD3gPUA9GD84P2A/wD+YPoA+2D54PiA6ODpgOsA6mDuAO9g7eDsgOQA5WDn4OaA4uDjgOEA4GDgAKFgo+CigKbgp4ClAKRgrOCtgK8ArmCqAKtgqeCogLjguYC7ALpgvgC/YL3gvIC0ALVgt+C2gLLgs4CxALBgkOCRgJMAkmCWAJdgleCUgJwAnWCf4J6AmuCbgJkAmGCIAIlgi+CKgI7gj4CNAIxghOCFgIcAhmCCAINggeCAgIAAAOGA4wACgOYAB4AFAOSA7AANgA8A7oAKAOuA6QAIgPgAGYAbAPqAHgD/gP0AHIAUAPWA9wAWgPIAE4ARAPCA0AAxgDMA0oA2ANeA1QA0gDwA3YDfAD6A2gA7gDkA2IAoAMmAywAqgM4AL4AtAMyAxAAlgCcAxoAiAMOAwQAggaABQYFDAaKBRgGngaUBRIFMAa2BrwFOgaoBS4FJAaiBWAG5gbsBWoG+AV+BXQG8gbQBVYFXAbaBUgGzgbEBUIFwAZGBkwFygZYBd4F1AZSBnAF9gX8BnoF6AZuBmQF4gYgBaYFrAYqBbgGPgY0BbIFkAYWBhwFmgYIBY4FhAYCCYAKBgoMCYoKGAmeCZQKEgowCbYJvAo6CagKLgokCaIKYAnmCewKagn4Cn4KdAnyCdAKVgpcCdoKSAnOCcQKQgrACUYJTArKCVgK3grUCVIJcAr2CvwJegroCW4JZAriCSAKpgqsCSoKuAk+CTQKsgqQCRYJHAqaCQgKjgqECQIPAAyGDIwPCgyYDx4PFAySDLAPNg88DLoPKAyuDKQPIgzgD2YPbAzqD3gM/gz0D3IPUAzWDNwPWgzID04PRAzCDEAPxg/MDEoP2AxeDFQP0g/wDHYMfA/6DGgP7g/kDGIPoAwmDCwPqgw4D74PtAwyDBAPlg+cDBoPiAwODAQPggAAF4ArgDwAU4BEAHgAb4CjgLQAiACfgPAA54DbgMwAQ4FUAWgBf4EQAQeBO4EsAeAB94HLgdwBs4GkAZgBj4GDgpQCqAK/gtACx4L7guwCIAI3gguCHAJzgmQCWAJPgsAD14Prg/wDk4OEA7gDr4Njg3QDSANfgzADJ4MbgwwDA4UUBSgFP4VQBUeFe4VsBaAFt4WLhZwF84XkBdgFz4VABFeEa4R8BBOEBAQ4BC+E44T0BMgE34SwBKeEm4SMBIAHl4erh7wH04fEB/gH74cjhzQHCAcfh3AHZ4dbh0wHw4bUBugG/4aQBoeGu4asBmAGd4ZLhlwGM4YkBhgGD4YDihQKKAo/ilAKR4p7imwKoAq3iouKnArziuQK2ArPikALV4tri3wLE4sECzgLL4vji/QLyAvfi7ALp4ubi4wLgAiXiKuIvAjTiMQI+AjviCOINAgICB+IcAhniFuITAjDidQJ6An/iZAJh4m7iawJYAl3iUuJXAkziSQJGAkPiQAPF48rjzwPU49ED3gPb4+jj7QPiA+fj/AP54/bj8wPQ45UDmgOf44QDgeOO44sDuAO947LjtwOs46kDpgOj46DjZQNqA2/jdANx437jewNIA03jQuNHA1zjWQNWA1PjcAM14zrjPwMk4yEDLgMr4xjjHQMSAxfjDAMJ4wbjAwMAAADlAOoADwD0ABEAHgD7AMgALQAiAMcAPADZANYAMwGQAXUBegGfAWQBgQGOAWsBWAG9AbIBVwGsAUkBRgGjAyADxQPKAy8D1AMxAz4D2wPoAw0DAgPnAxwD+QP2AxMCsAJVAloCvwJEAqECrgJLAngCnQKSAncCjAJpAmYCgwdgB4UHigdvB5QHcQd+B5sHqAdNB0IHpwdcB7kHtgdTBvAGFQYaBv8GBAbhBu4GCwY4Bt0G0gY3BswGKQYmBsMEQASlBKoETwS0BFEEXgS7BIgEbQRiBIcEfASZBJYEcwXQBTUFOgXfBSQFwQXOBSsFGAX9BfIFFwXsBQkFBgXjD+APBQ8KD+8PFA/xD/4PGw8oD80Pwg8nD9wPOQ82D9MOcA6VDpoOfw6EDmEObg6LDrgOXQ5SDrcOTA6pDqYOQwzADCUMKgzPDDQM0QzeDDsMCAztDOIMBwz8DBkMFgzzDVANtQ26DV8NpA1BDU4Nqw2YDX0Ncg2XDWwNiQ2GDWMIgAhlCGoIjwh0CJEIngh7CEgIrQiiCEcIvAhZCFYIswkQCfUJ+gkfCeQJAQkOCesJ2Ak9CTIJ1wksCckJxgkjC6ALRQtKC68LVAuxC74LWwtoC40LggtnC5wLeQt2C5MKMArVCtoKPwrECiEKLgrLCvgKHQoSCvcKDArpCuYKAwAAHuA84CIAOOBmAEQAWuBw4O4AzADS4MgAluC04KoAoOH+AdwBwuHYAYbhpOG6AZABDuEs4TIBKOF2AVQBSuFA494D/APi4/gDpuOE45oDsAMu4wzjEgMI41YDdANq42ACPuIc4gICGOJGAmQCeuJQ4s4C7ALy4ugCtuKU4ooCgOeeB7wHoue4B+bnxOfaB/AHbudM51IHSOcWBzQHKucgBn7mXOZCBljmBgYkBjrmEOaOBqwGsuaoBvbm1ObKBsAEXuR85GIEeOQmBAQEGuQw5K4EjASS5IgE1uT05OoE4OW+BZwFguWYBcbl5OX6BdAFTuVs5XIFaOU2BRQFCuUA7x4PPA8i7zgPZu9E71oPcA/u78zv0g/I75YPtA+q76AO/u7c7sIO2O6GDqQOuu6Q7g4OLA4y7igOdu5U7koOQAze7Pzs4gz47KYMhAya7LDsLgwMDBLsCAxW7HTsagxg7T4NHA0C7RgNRu1k7XoNUA3O7ezt8g3o7bYNlA2K7YAInui86KIIuOjmCMQI2ujw6G4ITAhS6EgIFug06CoIIOl+CVwJQulYCQbpJOk6CRAJjums6bIJqOn2CdQJyunA614LfAti63gLJusE6xoLMAuu64zrkguI69YL9Avq6+AKvuqc6oIKmOrGCuQK+urQ6k4KbApy6mgKNuoU6goKAAAA/gDcACIBuAFGAWQBmgJQAq4CjAJyA+gDFgM0A8oEoAReBHwEggUYBeYFxAU6BvAGDgYsBtIHSAe2B5QHaghgCJ4IvAhCCdgJJgkECfoKMArOCuwKEguIC3YLVAuqDMAMPgwcDOINeA2GDaQNWg6QDm4OTA6yDygP1g/0DwoR4BEeETwRwhBYEKYQhBB6E7ATThNsE5ISCBL2EtQSKhVAFb4VnBViFPgUBhQkFNoXEBfuF8wXMhaoFlYWdBaKGYAZfhlcGaIYOBjGGOQYGhvQGy4bDBvyGmgalhq0GkodIB3eHfwdAhyYHGYcRBy6H3Afjh+sH1IeyB42HhQe6iLgIh4iPCLCI1gjpiOEI3ogsCBOIGwgkiEIIfYh1CEqJkAmviacJmIn+CcGJyQn2iQQJO4kzCQyJaglViV0JYoqgCp+Klwqois4K8Yr5CsaKNAoLigMKPIpaCmWKbQpSi4gLt4u/C4CL5gvZi9EL7oscCyOLKwsUi3ILTYtFC3qMwAz/jPcMyIyuDJGMmQymjFQMa4xjDFyMOgwFjA0MMo3oDdeN3w3gjYYNuY2xDY6NfA1DjUsNdI0SDS2NJQ0ajtgO547vDtCOtg6JjoEOvo5MDnOOew5EjiIOHY4VDiqP8A/Pj8cP+I+eD6GPqQ+Wj2QPW49TD2yPCg81jz0PAoAAATgSOCMANDhFAFYAZzh4OIkAmgCrOLwAzTjeOO8A8DkRAQIBMzkkAVU5Rjl3AWgBmTmKObsBrDndAc4B/zngOiECMgIDOhQCZTp2OkcCWAKpOro6iwKcOu0C/gLPOtADMTsiOxMDBDt1A2YDVztIO7kDqgObO4wD/TvuO98DwDxBBFIEYzx0BAU8FjwnBDgEyTzaPOsE/DyNBJ4ErzywBVE9Qj1zBWQ9FQUGBTc9KD3ZBcoF+z3sBZ09jj2/BaAGYT5yPkMGVD4lBjYGBz4YPukG+gbLPtwGrT6+Po8GkD9xB2IHUz9EBzU/Jj8XBwgH+T/qP9sHzD+9B64Hnz+AMIEIkgijMLQIxTDWMOcI+AgJMBowKwg8ME0IXghvMHAJkTGCMbMJpDHVCcYJ9zHoMRkJCgk7MSwJXTFOMX8JYAqhMrIygwqUMuUK9grHMtgyKQo6CgsyHAptMn4yTwpQM7ELoguTM4QL9TPmM9cLyAs5MyozGwsMM30LbgtfM0AMwTTSNOMM9DSFDJYMpzS4NEkMWgxrNHwMDTQeNC8MMDXRDcIN8zXkDZU1hjW3DagNWTVKNXsNbDUdDQ4NPzUgNuEO8g7DNtQOpTa2NocOmA5pNno2Sw5cNi0OPg4PNhAP8TfiN9MPxDe1D6YPlzeIN3kPag9bN0wPPTcuNx8PAAAAYQDCAKMBhAHlAUYBJwMIA2kDygOrAowC7QJOAi8GWAY5BpoG+wfcB70HHgd/BVAFMQWSBfME1AS1BBYEdwz4DJkMOgxbDXwNHQ2+Dd8P8A+RDzIPUw50DhUOtg7XCqAKwQpiCgMLJAtFC+YLhwmoCckJagkLCCwITQjuCI8JuBnZGXoZGxg8GF0Y/hifGrAa0RpyGhMbNBtVG/Yblx/gH4EfIh9DHmQeBR6mHscc6ByJHCocSx1sHQ0drh3PFUAVIRWCFeMUxBSlFAYUZxZIFikWihbrF8wXrRcOF28TGBN5E9oTuxKcEv0SXhI/EBAQcRDSELMRlBH1EVYRNxM4M1kz+jObMrwy3TJ+Mh8wMDBRMPIwkzG0MdUxdjEXNWA1ATWiNcM05DSFNCY0RzZoNgk2qjbLN+w3jTcuN08/wD+hPwI/Yz5EPiU+hj7nPMg8qTwKPGs9TD0tPY497zmYOfk5Wjk7OBw4fTjeOL86kDrxOlI6MzsUO3U71ju3OoAq4SpCKiMrBCtlK8YrpymIKekpSikrKAwobSjOKK8s2Cy5LBosey1cLT0tni3/L9AvsS8SL3MuVC41LpYu9yZ4JhkmuibbJ/wnnSc+J18lcCURJbIl0yT0JJUkNiRXICAgQSDiIIMhpCHFIWYhByMoI0kj6iOLIqwizSJuIg8nJlZmVyZW5jZSBsaWJGTEFDIDEuMy4zIDIwMTkwODA0AGZMYUMAAABDYUxmIAAAABAAAAAQAAAAGAAAABgAAAAUAAAAAwAAAAUAAAAkAAAAIAAAAEAAAABAAAAAEAAAAEAAAAAIAAAAGAAAAEAAAAAIAAAAYAAAAAEAAAABAAAAbgAAAAgAAAAABAAAQAAAAAEAAAAXCAAACAAAACAAAAAgAAAAIAAAACAAAAAgAAAAIAAAACAAAAAgAAAAAQAAAAcAAAAYAAAA/j8AAA4AAAABAAAAAQAAAAQAAAAEAAAABAAAAAMAAAABAAAACAAAABAAAAACAAAABAAAAAQAAAAFAAAABQAAAA8AAAAfAAAABAAAAAUAAAABAAAABgAAAAEAAAAAAAAAAgAAABAAAABAAAAAQ0QtREEgY3VlIHNoZWV0IG11c3QgaGF2ZSBhIGxlYWQtaW4gbGVuZ3RoIG9mIGF0IGxlYXN0IDIgc2Vjb25kcwBDRC1EQSBjdWUgc2hlZXQgbGVhZC1pbiBsZW5ndGggbXVzdCBiZSBldmVubHkgZGl2aXNpYmxlIGJ5IDU4OCBzYW1wbGVzAGN1ZSBzaGVldCBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIHRyYWNrICh0aGUgbGVhZC1vdXQpAENELURBIGN1ZSBzaGVldCBtdXN0IGhhdmUgYSBsZWFkLW91dCB0cmFjayBudW1iZXIgMTcwICgweEFBKQBjdWUgc2hlZXQgbWF5IG5vdCBoYXZlIGEgdHJhY2sgbnVtYmVyIDAAQ0QtREEgY3VlIHNoZWV0IHRyYWNrIG51bWJlciBtdXN0IGJlIDEtOTkgb3IgMTcwAENELURBIGN1ZSBzaGVldCBsZWFkLW91dCBvZmZzZXQgbXVzdCBiZSBldmVubHkgZGl2aXNpYmxlIGJ5IDU4OCBzYW1wbGVzAENELURBIGN1ZSBzaGVldCB0cmFjayBvZmZzZXQgbXVzdCBiZSBldmVubHkgZGl2aXNpYmxlIGJ5IDU4OCBzYW1wbGVzAGN1ZSBzaGVldCB0cmFjayBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIGluZGV4IHBvaW50AGN1ZSBzaGVldCB0cmFjaydzIGZpcnN0IGluZGV4IG51bWJlciBtdXN0IGJlIDAgb3IgMQBDRC1EQSBjdWUgc2hlZXQgdHJhY2sgaW5kZXggb2Zmc2V0IG11c3QgYmUgZXZlbmx5IGRpdmlzaWJsZSBieSA1ODggc2FtcGxlcwBjdWUgc2hlZXQgdHJhY2sgaW5kZXggbnVtYmVycyBtdXN0IGluY3JlYXNlIGJ5IDEATUlNRSB0eXBlIHN0cmluZyBtdXN0IGNvbnRhaW4gb25seSBwcmludGFibGUgQVNDSUkgY2hhcmFjdGVycyAoMHgyMC0weDdlKQBkZXNjcmlwdGlvbiBzdHJpbmcgbXVzdCBiZSB2YWxpZCBVVEYtOA=="),t(e,6516,"tx3BBG47ggnZJkMN3HYEE2trxReyTYYaBVBHHrjtCCYP8Mki1taKL2HLSytkmww104bNMQqgjjy9vU84cNsRTMfG0Ege4JNFqf1SQaytFV8bsNRbwpaXVnWLVlLINhlqfyvYbqYNm2MREFpnFEAdeaNd3H16e59wzWZedOC2I5hXq+Kcjo2hkTmQYJU8wCeLi93mj1L7pYLl5mSGWFsrvu9G6ro2YKm3gX1os4QtL60zMO6p6hatpF0LbKCQbTLUJ3Dz0P5WsN1JS3HZTBs2x/sG98MiILTOlT11yiiAOvKfnfv2Rru4+/Gmef/09j7hQ+v/5ZrNvOgt0H3sd3CGNMBtRzAZSwQ9rlbFOasGgiccG0MjxT0ALnIgwSrPnY4SeIBPFqGmDBsWu80fE+uKAaT2SwV90AgIys3JDAerl3iwtlZ8aZAVcd6N1HXb3ZNrbMBSb7XmEWIC+9Bmv0afXghbXlrRfR1XZmDcU2Mwm03ULVpJDQsZRLoW2ECXxqWsINtkqPn9J6VO4OahS7Chv/ytYLsliyO2kpbisi8rrYqYNmyOQRAvg/YN7ofzXamZREBonZ1mK5Aqe+qU5x204FAAdeSJJjbpPjv37TtrsPOMdnH3VVAy+uJN8/5f8LzG6O19wjHLPs+G1v/Lg4a41TSbedHtvTrcWqD72O7gDGlZ/c1tgNuOYDfGT2Qylgh6hYvJflytinPrsEt3Vg0ET+EQxUs4NoZGjytHQop7AFw9ZsFY5ECCVVNdQ1GeOx0lKSbcIfAAnyxHHV4oQk0ZNvVQ2DIsdps/m2taOybWFQORy9QHSO2XCv/wVg76oBEQTb3QFJSbkxkjhlIdDlYv8blL7vVgba3413Bs/NIgK+JlPermvBup6wsGaO+2uyfXAabm09iApd5vnWTaas0jxN3Q4sAE9qHNs+tgyX6NPr3JkP+5ELa8tKerfbCi+zquFeb7qszAuKd73XmjxmA2m3F995+oW7SSH0Z1lhoWMoitC/OMdC2wgcMwcYWZkIpdLo1LWferCFRAtslQReaOTvL7T0or3QxHnMDNQyF9gnuWYEN/T0YAcvhbwXb9C4ZoShZHbJMwBGEkLcVl6UubEV5WWhWHcBkYMG3YHDU9nwKCIF4GWwYdC+wb3A9RppM35rtSMz+dET6IgNA6jdCXJDrNViDj6xUtVPbUKXkmqcXOO2jBFx0rzKAA6silUK3WEk1s0strL998du7bwcuh43bWYOev8CPqGO3i7h29pfCqoGT0c4Yn+cSb5v0J/biJvuB5jWfGOoDQ2/uE1Yu8mmKWfZ67sD6TDK3/l7EQsK8GDXGr3ysypmg286JtZrS82nt1uANdNrW0QPexf0ZMQUMAAAAQAAAAiCoAAElEMw=="),t(e,7576,"AQAAAAUAAAAYKw=="),t(e,7600,"AwAAAAQAAAAEAAAABgAAAIP5ogBETm4A/CkVANFXJwDdNPUAYtvAADyZlQBBkEMAY1H+ALveqwC3YcUAOm4kANJNQgBJBuAACeouAByS0QDrHf4AKbEcAOg+pwD1NYIARLsuAJzphAC0JnAAQX5fANaROQBTgzkAnPQ5AItfhAAo+b0A+B87AN7/lwAPmAUAES/vAApaiwBtH20Az342AAnLJwBGT7cAnmY/AC3qXwC6J3UA5evHAD178QD3OQcAklKKAPtr6gAfsV8ACF2NADADVgB7/EYA8KtrACC8zwA29JoA46kdAF5hkQAIG+YAhZllAKAUXwCNQGgAgNj/ACdzTQAGBjEAylYVAMmocwB74mAAa4zAABnERwDNZ8MACejcAFmDKgCLdsQAphyWAESv3QAZV9EApT4FAAUH/wAzfj8AwjLoAJhP3gC7fTIAJj3DAB5r7wCf+F4ANR86AH/yygDxhx0AfJAhAGokfADVbvoAMC13ABU7QwC1FMYAwxmdAK3EwgAsTUEADABdAIZ9RgDjcS0Am8aaADNiAAC00nwAtKeXADdV1QDXPvYAoxAYAE12/ABknSoAcNerAGN8+AB6sFcAFxXnAMBJVgA71tkAp4Q4ACQjywDWincAWlQjAAAfuQDxChsAGc7fAJ8x/wBmHmoAmVdhAKz7RwB+f9gAImW3ADLoiQDmv2AA78TNAGw2CQBdP9QAFt7XAFg73gDem5IA0iIoACiG6ADiWE0AxsoyAAjjFgDgfcsAF8BQAPMdpwAY4FsALhM0AIMSYgCDSAEA9Y5bAK2wfwAe6fIASEpDABBn0wCq3dgArl9CAGphzgAKKKQA05m0AAam8gBcd38Ao8KDAGE8iACKc3gAr4xaAG/XvQAtpmMA9L/LAI2B7wAmwWcAVcpFAMrZNgAoqNIAwmGNABLJdwAEJhQAEkabAMRZxADIxUQATbKRAAAX8wDUQ60AKUnlAP3VEAAAvvwAHpTMAHDO7gATPvUA7PGAALPnwwDH+CgAkwWUAMFxPgAuCbMAC0XzAIgSnACrIHsALrWfAEeSwgB7Mi8ADFVtAHKnkABr5x8AMcuWAHkWSgBBeeIA9N+JAOiUlwDi5oQAmTGXAIjtawBfXzYAu/0OAEiatABnpGwAcXJCAI1dMgCfFbgAvOUJAI0xJQD3dDkAMAUcAA0MAQBLCGgALO5YAEeqkAB05wIAvdYkAPd9pgBuSHIAnxbvAI6UpgC0kfYA0VNRAM8K8gAgmDMA9Ut+ALJjaADdPl8AQF0DAIWJfwBVUikAN2TAAG3YEAAySDIAW0x1AE5x1ABFVG4ACwnBACr1aQAUZtUAJwedAF0EUAC0O9sA6nbFAIf5FwBJa30AHSe6AJZpKQDGzKwArRRUAJDiagCI2YkALHJQAASkvgB3B5QA8zBwAAD8JwDqcagAZsJJAGTgPQCX3YMAoz+XAEOU/QANhowAMUHeAJI5nQDdcIwAF7fnAAjfOwAVNysAXICgAFqAkwAQEZIAD+jYAGyArwDb/0sAOJAPAFkYdgBipRUAYcu7AMeJuQAQQL0A0vIEAEl1JwDrtvYA2yK7AAoUqgCJJi8AZIN2AAk7MwAOlBoAUTqqAB2jwgCv7a4AXCYSAG3CTQAtepwAwFaXAAM/gwAJ8PYAK0CMAG0xmQA5tAcADCAVANjDWwD1ksQAxq1LAE7KpQCnN80A5qk2AKuSlADdQmgAGWPeAHaM7wBoi1IA/Ns3AK6hqwDfFTEAAK6hAAz72gBkTWYA7QW3ACllMABXVr8AR/86AGr5uQB1vvMAKJPfAKuAMABmjPYABMsVAPoiBgDZ5B0APbOkAFcbjwA2zQkATkLpABO+pAAzI7UA8KoaAE9lqADSwaUACz8PAFt4zQAj+XYAe4sEAIkXcgDGplMAb27iAO/rAACbSlgAxNq3AKpmugB2z88A0QIdALHxLQCMmcEAw613AIZI2gD3XaAAxoD0AKzwLwDd7JoAP1y8ANDebQCQxx8AKtu2AKMlOgAAr5oArVOTALZXBAApLbQAS4B+ANoHpwB2qg4Ae1mhABYSKgDcty0A+uX9AInb/gCJvv0A5HZsAAap/AA+gHAAhW4VAP2H/wAoPgcAYWczACoYhgBNveoAs+evAI9tbgCVZzkAMb9bAITXSAAw3xYAxy1DACVhNQDJcM4AMMu4AL9s/QCkAKIABWzkAFrdoAAhb0cAYhLSALlchABwYUkAa1bgAJlSAQBQVTcAHtW3ADPxxAATbl8AXTDkAIUuqQAdssMAoTI2AAi3pADqsdQAFvchAI9p5AAn/3cADAOAAI1ALQBPzaAAIKWZALOi0wAvXQoAtPlCABHaywB9vtAAm9vBAKsXvQDKooEACGpcAC5VFwAnAFUAfxTwAOEHhgAUC2QAlkGNAIe+3gDa/SoAayW2AHuJNAAF8/4Aub+eAGhqTwBKKqgAT8RaAC34vADXWpgA9MeVAA1NjQAgOqYApFdfABQ/sQCAOJUAzCABAHHdhgDJ3rYAv2D1AE1lEQABB2sAjLCsALLA0ABRVUgAHvsOAJVywwCjBjsAwEA1AAbcewDgRcwATin6ANbKyADo80EAfGTeAJtk2ADZvjEApJfDAHdY1ABp48UA8NoTALo6PABGGEYAVXVfANK99QBuksYArC5dAA5E7QAcPkIAYcSHACn96QDn1vMAInzKAG+RNQAI4MUA/9eNAG5q4gCw/cYAkwjBAHxddABrrbIAzW6dAD5yewDGEWoA98+pAClz3wC1yboAtwBRAOKyDQB0uiQA5X1gAHTYigANFSwAgRgMAH5mlAABKRYAn3p2AP39vgBWRe8A2X42AOzZEwCLurkAxJf8ADGoJwDxbsMAlMU2ANioVgC0qLUAz8wOABKJLQBvVzQALFaJAJnO4wDWILkAa16qAD4qnAARX8wA/QtKAOH0+wCOO20A4oYsAOnUhAD8tKkA7+7RAC41yQAvOWEAOCFEABvZyACB/AoA+0pqAC8c2ABTtIQATpmMAFQizAAqVdwAwMbWAAsZlgAacLgAaZVkACZaYAA/Uu4AfxEPAPS1EQD8y/UANLwtADS87gDoXcwA3V5gAGeOmwCSM+8AyRe4AGFYmwDhV7wAUYPGANg+EADdcUgALRzdAK8YoQAhLEYAWfPXANl6mACeVMAAT4b6AFYG/ADlea4AiSI2ADitIgBnk9wAVeiqAIImOADK55sAUQ2kAJkzsQCp1w4AaQVIAGWy8AB/iKcAiEyXAPnRNgAhkrMAe4JKAJjPIQBAn9wA3EdVAOF0OgBn60IA/p3fAF7UXwB7Z6QAuqx6AFX2ogAriCMAQbpVAFluCAAhKoYAOUeDAInj5gDlntQASftAAP9W6QAcD8oAxVmKAJT6KwDTwcUAD8XPANtargBHxYYAhUNiACGGOwAseZQAEGGHACpMewCALBoAQ78SAIgmkAB4PIkAqMTkAOXbewDEOsIAJvTqAPdnigANkr8AZaMrAD2TsQC9fAsApFHcACfdYwBp4d0AmpQZAKgplQBozigACe20AESfIABOmMoAcIJjAH58IwAPuTIAp/WOABRW5wAh8QgAtZ0qAG9+TQClGVEAtfmrAILf1gCW3WEAFjYCAMQ6nwCDoqEAcu1tADmNegCCuKkAazJcAEYnWwAANO0A0gB3APz0VQABWU0A4HGA"),t(e,10387,"QPsh+T8AAAAALUR0PgAAAICYRvg8AAAAYFHMeDsAAACAgxvwOQAAAEAgJXo4AAAAgCKC4zYAAAAAHfNpNQAAAAAAAOA/AAAAAAAA4L8BAAAAAgAAAAQAAAAFAAAABgAAAGluZmluaXR5AG5hbg=="),t(e,10512,"0XSeAFedvSqAcFIP//8+JwoAAABkAAAA6AMAABAnAACghgEAQEIPAICWmAAA4fUFGAAAADUAAABxAAAAa////877//+Sv///YmFydGxldHQAYmFydGxldHRfaGFubgBibGFja21hbgBibGFja21hbl9oYXJyaXNfNHRlcm1fOTJkYgBjb25uZXMAZmxhdHRvcABnYXVzcygAaGFtbWluZwBoYW5uAGthaXNlcl9iZXNzZWwAbnV0dGFsbAByZWN0YW5nbGUAdHJpYW5nbGUAdHVrZXkoAHBhcnRpYWxfdHVrZXkoAHB1bmNob3V0X3R1a2V5KAB3ZWxjaABpbWFnZS9wbmcALS0+AHR1a2V5KDVlLTEpAHR1a2V5KDVlLTEpO3BhcnRpYWxfdHVrZXkoMikAdHVrZXkoNWUtMSk7cGFydGlhbF90dWtleSgyKTtwdW5jaG91dF90dWtleSgzKQ=="),t(e,10881,"FQAAcR0AAAk="),t(e,10900,"Ag=="),t(e,10920,"AwAAAAAAAAAEAAAASC8AAAAE"),t(e,10964,"/////w=="),t(e,11032,"BQ=="),t(e,11044,"CQ=="),t(e,11068,"CgAAAAsAAABYMwAAAAQ="),t(e,11092,"AQ=="),t(e,11107,"Cv////8="),t(e,11176,"GCs="),t(e,11216,"AwAAAAAAAAAZKgAAAQAAAAE="),t(e,11260,"AwAAAAAAAAAZKgAAAQ=="),t(e,11304,"AwAAAAAAAAAZKg=="),t(e,11324,"Bg=="),t(e,11348,"BAAAAAAAAAAZKgAAAQAAAAEAAAAI"),t(e,11392,"BAAAAAAAAAAZKgAAAQAAAAAAAAAI"),t(e,11436,"BQAAAAAAAAAZKgAAAQAAAAAAAAAI"),t(e,11480,"BgAAAAAAAAAlKgAAAQAAAAAAAAAM"),t(e,11524,"BgAAAAAAAAAlKgAAAQAAAAAAAAAM"),t(e,11568,"BgAAAAAAAABCKg=="),a={Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0,Math:Math},c=s.buffer,u=(e=n).memory,Vt=o,_e=new a.Int8Array(c),k=new a.Int16Array(c),Ut=new a.Int32Array(c),Xt=new a.Uint8Array(c),E=new a.Uint16Array(c),Kt=new a.Uint32Array(c),jt=new a.Float32Array(c),zt=new a.Float64Array(c),Wt=a.Math.imul,Gt=a.Math.fround,Yt=a.Math.abs,me=a.Math.clz32,a.Math.min,a.Math.max,y=a.Math.floor,a.Math.ceil,a.Math.sqrt,e.abort,Ee=a.Infinity,f=e.emscripten_resize_heap,p=e.emscripten_memcpy_big,m=e.fd_close,h=e.fd_read,b=e.round,v=e.fd_write,g=e.setTempRet0,w=e.fd_seek,Zt=5257216,Qt=S=C=0,Vt[1]=function(e,t){var n=Ut[4+(e|=0)>>2],a=Ut[4+(t|=0)>>2];return 0|((0|(e=Ut[e>>2]))==(0|(t=Ut[t>>2]))&(0|n)==(0|a)?0:(0|n)==(0|a)&e>>>0<t>>>0|n>>>0<a>>>0?-1:1)},Vt[2]=function(e){return 0|m(Ut[60+(e|=0)>>2])},Vt[3]=function(e,t,n){e|=0,n|=0;var a,r,i,s=0;Ut[16+(Zt=i=Zt-32|0)>>2]=t|=0,s=Ut[e+48>>2],Ut[20+i>>2]=n-(0!=(0|s)),a=Ut[e+44>>2],Ut[28+i>>2]=s,Ut[24+i>>2]=a;e:{t:{if(pe(0|h(Ut[e+60>>2],16+i|0,2,12+i|0)))n=Ut[12+i>>2]=-1;else{if(0<(0|(s=Ut[12+i>>2])))break t;n=s}Ut[e>>2]=Ut[e>>2]|48&n^16;break e}s>>>0<=(r=Ut[20+i>>2])>>>0?n=s:(a=Ut[e+44>>2],Ut[e+4>>2]=a,Ut[e+8>>2]=a+(s-r|0),Ut[e+48>>2]&&(Ut[e+4>>2]=a+1,_e[(t+n|0)-1|0]=Xt[0|a]))}return Zt=32+i|0,0|n},Vt[4]=function(e,t,n,a){var r;return Zt=r=Zt-16|0,e=pe(0|w(Ut[60+(e|=0)>>2],0|(t|=0),0|(n|=0),255&(a|=0),8+r|0))?(Ut[8+r>>2]=-1,t=Ut[12+r>>2]=-1):(t=Ut[12+r>>2],Ut[8+r>>2]),Zt=16+r|0,Qt=t,0|e},Vt[5]=function(e,t,n,a,r,i){e|=0,t|=0,n|=0,r|=0,i|=0;var s,o,l=0,c=0,u=0,f=0,d=0,p=0,_=0,m=0,h=0,b=0,v=0,g=0,k=0,A=0,y=0,w=0,E=0,R=0,C=0,S=0,T=0,M=0,P=0;if(13<=(a|=0)>>>0){if(!((0|t)<1))for(g=a+-13|0;;){switch((a=u=p=v=c=m=f=h=d=_=b=k=y=A=E=w=C=R=T=S=0)|g){case 19:S=Wt(Ut[((l<<2)+i|0)-128>>2],Ut[n+124>>2]);case 18:T=Wt(Ut[((l<<2)+i|0)-124>>2],Ut[n+120>>2])+S|0;case 17:R=Wt(Ut[((l<<2)+i|0)-120>>2],Ut[n+116>>2])+T|0;case 16:C=Wt(Ut[((l<<2)+i|0)-116>>2],Ut[n+112>>2])+R|0;case 15:w=Wt(Ut[((l<<2)+i|0)-112>>2],Ut[n+108>>2])+C|0;case 14:E=Wt(Ut[((l<<2)+i|0)-108>>2],Ut[n+104>>2])+w|0;case 13:A=Wt(Ut[((l<<2)+i|0)-104>>2],Ut[n+100>>2])+E|0;case 12:y=Wt(Ut[((l<<2)+i|0)-100>>2],Ut[n+96>>2])+A|0;case 11:k=Wt(Ut[((l<<2)+i|0)-96>>2],Ut[n+92>>2])+y|0;case 10:b=Wt(Ut[((l<<2)+i|0)-92>>2],Ut[n+88>>2])+k|0;case 9:_=Wt(Ut[((l<<2)+i|0)-88>>2],Ut[n+84>>2])+b|0;case 8:d=Wt(Ut[((l<<2)+i|0)-84>>2],Ut[n+80>>2])+_|0;case 7:h=Wt(Ut[((l<<2)+i|0)-80>>2],Ut[n+76>>2])+d|0;case 6:f=Wt(Ut[((l<<2)+i|0)-76>>2],Ut[n+72>>2])+h|0;case 5:m=Wt(Ut[((l<<2)+i|0)-72>>2],Ut[n+68>>2])+f|0;case 4:c=Wt(Ut[((l<<2)+i|0)-68>>2],Ut[n+64>>2])+m|0;case 3:v=Wt(Ut[((l<<2)+i|0)-64>>2],Ut[n+60>>2])+c|0;case 2:p=Wt(Ut[((l<<2)+i|0)-60>>2],Ut[n+56>>2])+v|0;case 1:u=Wt(Ut[((l<<2)+i|0)-56>>2],Ut[n+52>>2])+p|0;case 0:a=((((((((((((Wt(Ut[(a=(l<<2)+i|0)-52>>2],Ut[n+48>>2])+u|0)+Wt(Ut[a+-48>>2],Ut[n+44>>2])|0)+Wt(Ut[a+-44>>2],Ut[n+40>>2])|0)+Wt(Ut[a+-40>>2],Ut[n+36>>2])|0)+Wt(Ut[a+-36>>2],Ut[n+32>>2])|0)+Wt(Ut[a+-32>>2],Ut[n+28>>2])|0)+Wt(Ut[a+-28>>2],Ut[n+24>>2])|0)+Wt(Ut[a+-24>>2],Ut[n+20>>2])|0)+Wt(Ut[a+-20>>2],Ut[n+16>>2])|0)+Wt(Ut[a+-16>>2],Ut[n+12>>2])|0)+Wt(Ut[a+-12>>2],Ut[n+8>>2])|0)+Wt(Ut[a+-8>>2],Ut[n+4>>2])|0)+Wt(Ut[a+-4>>2],Ut[n>>2])|0}if(Ut[(u=l<<2)+i>>2]=Ut[e+u>>2]+(a>>r),(0|(l=l+1|0))==(0|t))break}}else if(9<=a>>>0){if(11<=a>>>0){if(12!=(0|a)){if(!((0|t)<1))for(l=Ut[i+-4>>2],a=Ut[i+-8>>2],u=Ut[i+-12>>2],p=Ut[i+-16>>2],v=Ut[i+-20>>2],c=Ut[i+-24>>2],m=Ut[i+-28>>2],f=Ut[i+-32>>2],h=Ut[i+-36>>2],d=Ut[i+-40>>2],_=Ut[i+-44>>2],M=Ut[n>>2],P=Ut[n+4>>2],S=Ut[n+8>>2],T=Ut[n+12>>2],R=Ut[n+16>>2],C=Ut[n+20>>2],w=Ut[n+24>>2],E=Ut[n+28>>2],A=Ut[n+32>>2],y=Ut[n+36>>2],k=Ut[n+40>>2],n=0;_=(_=Wt(g=d,y)+Wt(_,k)|0)+Wt(A,d=h)|0,_=(_=Wt(h=f,E)+_|0)+Wt(w,f=m)|0,_=(_=Wt(m=c,C)+_|0)+Wt(R,c=v)|0,_=Wt(v=p,T)+_|0,b=Wt(p=u,S)+_|0,_=n<<2,b=Wt(u=a,P)+b|0,a=l,l=Ut[_+e>>2]+(b+Wt(M,a)>>r)|0,Ut[i+_>>2]=l,_=g,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(l=Ut[i+-4>>2],a=Ut[i+-8>>2],u=Ut[i+-12>>2],p=Ut[i+-16>>2],v=Ut[i+-20>>2],c=Ut[i+-24>>2],m=Ut[i+-28>>2],f=Ut[i+-32>>2],h=Ut[i+-36>>2],d=Ut[i+-40>>2],_=Ut[i+-44>>2],b=Ut[i+-48>>2],s=Ut[n>>2],o=Ut[n+4>>2],M=Ut[n+8>>2],P=Ut[n+12>>2],S=Ut[n+16>>2],T=Ut[n+20>>2],R=Ut[n+24>>2],C=Ut[n+28>>2],w=Ut[n+32>>2],E=Ut[n+36>>2],A=Ut[n+40>>2],y=Ut[n+44>>2],n=0;b=Wt(g=_,A)+Wt(b,y)|0,b=(b=Wt(_=d,E)+b|0)+Wt(w,d=h)|0,b=(b=Wt(h=f,C)+b|0)+Wt(R,f=m)|0,b=(b=Wt(m=c,T)+b|0)+Wt(S,c=v)|0,b=Wt(v=p,P)+b|0,k=Wt(p=u,M)+b|0,b=n<<2,k=Wt(u=a,o)+k|0,a=l,l=Ut[b+e>>2]+(k+Wt(s,a)>>r)|0,Ut[i+b>>2]=l,b=g,(0|(n=n+1|0))!=(0|t););}else if(10!=(0|a)){if(!((0|t)<1))for(l=Ut[i+-4>>2],a=Ut[i+-8>>2],u=Ut[i+-12>>2],p=Ut[i+-16>>2],v=Ut[i+-20>>2],c=Ut[i+-24>>2],m=Ut[i+-28>>2],f=Ut[i+-32>>2],h=Ut[i+-36>>2],R=Ut[n>>2],C=Ut[n+4>>2],w=Ut[n+8>>2],E=Ut[n+12>>2],A=Ut[n+16>>2],y=Ut[n+20>>2],k=Ut[n+24>>2],b=Ut[n+28>>2],g=Ut[n+32>>2],n=0;h=(h=Wt(d=f,b)+Wt(h,g)|0)+Wt(k,f=m)|0,h=(h=Wt(m=c,y)+h|0)+Wt(A,c=v)|0,h=Wt(v=p,E)+h|0,_=Wt(p=u,w)+h|0,h=n<<2,_=Wt(u=a,C)+_|0,a=l,l=Ut[h+e>>2]+(_+Wt(R,a)>>r)|0,Ut[i+h>>2]=l,h=d,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(l=Ut[i+-4>>2],a=Ut[i+-8>>2],u=Ut[i+-12>>2],p=Ut[i+-16>>2],v=Ut[i+-20>>2],c=Ut[i+-24>>2],m=Ut[i+-28>>2],f=Ut[i+-32>>2],h=Ut[i+-36>>2],d=Ut[i+-40>>2],S=Ut[n>>2],T=Ut[n+4>>2],R=Ut[n+8>>2],C=Ut[n+12>>2],w=Ut[n+16>>2],E=Ut[n+20>>2],A=Ut[n+24>>2],y=Ut[n+28>>2],k=Ut[n+32>>2],b=Ut[n+36>>2],n=0;d=Wt(k,_=h)+Wt(d,b)|0,d=(d=Wt(h=f,y)+d|0)+Wt(A,f=m)|0,d=(d=Wt(m=c,E)+d|0)+Wt(w,c=v)|0,d=Wt(v=p,C)+d|0,g=Wt(p=u,R)+d|0,d=n<<2,g=Wt(u=a,T)+g|0,a=l,l=Ut[d+e>>2]+(g+Wt(S,a)>>r)|0,Ut[i+d>>2]=l,d=_,(0|(n=n+1|0))!=(0|t););}else if(5<=a>>>0){if(7<=a>>>0){if(8!=(0|a)){if(!((0|t)<1))for(l=Ut[i+-4>>2],a=Ut[i+-8>>2],u=Ut[i+-12>>2],p=Ut[i+-16>>2],v=Ut[i+-20>>2],c=Ut[i+-24>>2],m=Ut[i+-28>>2],A=Ut[n>>2],y=Ut[n+4>>2],k=Ut[n+8>>2],b=Ut[n+12>>2],g=Ut[n+16>>2],_=Ut[n+20>>2],d=Ut[n+24>>2],n=0;m=(m=Wt(f=c,_)+Wt(d,m)|0)+Wt(g,c=v)|0,m=Wt(v=p,b)+m|0,h=Wt(p=u,k)+m|0,m=n<<2,h=Wt(u=a,y)+h|0,a=l,l=Ut[m+e>>2]+(h+Wt(A,a)>>r)|0,Ut[i+m>>2]=l,m=f,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(l=Ut[i+-4>>2],a=Ut[i+-8>>2],u=Ut[i+-12>>2],p=Ut[i+-16>>2],v=Ut[i+-20>>2],c=Ut[i+-24>>2],m=Ut[i+-28>>2],f=Ut[i+-32>>2],w=Ut[n>>2],E=Ut[n+4>>2],A=Ut[n+8>>2],y=Ut[n+12>>2],k=Ut[n+16>>2],b=Ut[n+20>>2],g=Ut[n+24>>2],_=Ut[n+28>>2],n=0;f=Wt(g,h=m)+Wt(f,_)|0,f=(f=Wt(m=c,b)+f|0)+Wt(k,c=v)|0,f=Wt(v=p,y)+f|0,d=Wt(p=u,A)+f|0,f=n<<2,d=Wt(u=a,E)+d|0,a=l,l=Ut[f+e>>2]+(d+Wt(w,a)>>r)|0,Ut[i+f>>2]=l,f=h,(0|(n=n+1|0))!=(0|t););}else if(6!=(0|a)){if(!((0|t)<1))for(l=Ut[i+-4>>2],a=Ut[i+-8>>2],u=Ut[i+-12>>2],p=Ut[i+-16>>2],v=Ut[i+-20>>2],g=Ut[n>>2],_=Ut[n+4>>2],d=Ut[n+8>>2],h=Ut[n+12>>2],f=Ut[n+16>>2],n=0;v=Wt(h,c=p)+Wt(f,v)|0,m=Wt(p=u,d)+v|0,v=n<<2,m=Wt(u=a,_)+m|0,a=l,l=Ut[v+e>>2]+(m+Wt(g,a)>>r)|0,Ut[i+v>>2]=l,v=c,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(l=Ut[i+-4>>2],a=Ut[i+-8>>2],u=Ut[i+-12>>2],p=Ut[i+-16>>2],v=Ut[i+-20>>2],c=Ut[i+-24>>2],k=Ut[n>>2],b=Ut[n+4>>2],g=Ut[n+8>>2],_=Ut[n+12>>2],d=Ut[n+16>>2],h=Ut[n+20>>2],n=0;c=Wt(d,m=v)+Wt(c,h)|0,c=Wt(v=p,_)+c|0,f=Wt(p=u,g)+c|0,c=n<<2,f=Wt(u=a,b)+f|0,a=l,l=Ut[c+e>>2]+(f+Wt(k,a)>>r)|0,Ut[i+c>>2]=l,c=m,(0|(n=n+1|0))!=(0|t););}else if(3<=a>>>0){if(4!=(0|a)){if(!((0|t)<1))for(l=Ut[i+-4>>2],a=Ut[i+-8>>2],u=Ut[i+-12>>2],f=Ut[n>>2],m=Ut[n+4>>2],c=Ut[n+8>>2],n=0;v=n<<2,u=Wt(p=a,m)+Wt(u,c)|0,a=l,l=Ut[v+e>>2]+(u+Wt(f,a)>>r)|0,Ut[i+v>>2]=l,u=p,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(l=Ut[i+-4>>2],a=Ut[i+-8>>2],u=Ut[i+-12>>2],p=Ut[i+-16>>2],d=Ut[n>>2],h=Ut[n+4>>2],f=Ut[n+8>>2],m=Ut[n+12>>2],n=0;c=Wt(v=u,f)+Wt(p,m)|0,p=n<<2,c=Wt(u=a,h)+c|0,a=l,l=Ut[p+e>>2]+(c+Wt(d,a)>>r)|0,Ut[i+p>>2]=l,p=v,(0|(n=n+1|0))!=(0|t););}else if(2!=(0|a)){if(!((0|t)<1))for(l=Ut[i+-4>>2],u=Ut[n>>2],n=0;l=Ut[(a=n<<2)+e>>2]+(Wt(l,u)>>r)|0,Ut[a+i>>2]=l,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(l=Ut[i+-4>>2],a=Ut[i+-8>>2],c=Ut[n>>2],v=Ut[n+4>>2],n=0;u=l,l=Ut[(p=n<<2)+e>>2]+(Wt(l,c)+Wt(a,v)>>r)|0,Ut[i+p>>2]=l,a=u,(0|(n=n+1|0))!=(0|t););},Vt[6]=function(e,t,n,a,r,i){e|=0,t|=0,n|=0,r|=0,i|=0;var I,N,s=0,o=0,l=0,c=0,u=0,f=0,d=0,p=0,_=0,m=0,h=0,b=0,v=0,g=0,k=0,A=0,y=0,w=0,E=0,R=0,C=0,S=0,T=0,M=0,P=0,B=0,F=0,D=0,x=0,L=0,O=0,H=0,q=0,V=0,U=0,X=0,K=0,j=0,z=0;if(13<=(a|=0)>>>0){if(!((0|t)<1))for(p=r,d=a+-13|0;;){switch((a=r=0)|d){case 19:r=ke(r=a=Ut[((c<<2)+i|0)-128>>2],o=a>>31,a=Ut[n+124>>2],a>>31),a=Qt;case 18:o=ke(s=o=Ut[((c<<2)+i|0)-124>>2],l=o>>31,o=Ut[n+120>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 17:o=ke(s=o=Ut[((c<<2)+i|0)-120>>2],l=o>>31,o=Ut[n+116>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 16:o=ke(s=o=Ut[((c<<2)+i|0)-116>>2],l=o>>31,o=Ut[n+112>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 15:o=ke(s=o=Ut[((c<<2)+i|0)-112>>2],l=o>>31,o=Ut[n+108>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 14:o=ke(s=o=Ut[((c<<2)+i|0)-108>>2],l=o>>31,o=Ut[n+104>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 13:o=ke(s=o=Ut[((c<<2)+i|0)-104>>2],l=o>>31,o=Ut[n+100>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 12:o=ke(s=o=Ut[((c<<2)+i|0)-100>>2],l=o>>31,o=Ut[n+96>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 11:o=ke(s=o=Ut[((c<<2)+i|0)-96>>2],l=o>>31,o=Ut[n+92>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 10:o=ke(s=o=Ut[((c<<2)+i|0)-92>>2],l=o>>31,o=Ut[n+88>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 9:o=ke(s=o=Ut[((c<<2)+i|0)-88>>2],l=o>>31,o=Ut[n+84>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 8:o=ke(s=o=Ut[((c<<2)+i|0)-84>>2],l=o>>31,o=Ut[n+80>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 7:o=ke(s=o=Ut[((c<<2)+i|0)-80>>2],l=o>>31,o=Ut[n+76>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 6:o=ke(s=o=Ut[((c<<2)+i|0)-76>>2],l=o>>31,o=Ut[n+72>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 5:o=ke(s=o=Ut[((c<<2)+i|0)-72>>2],l=o>>31,o=Ut[n+68>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 4:o=ke(s=o=Ut[((c<<2)+i|0)-68>>2],l=o>>31,o=Ut[n+64>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 3:o=ke(s=o=Ut[((c<<2)+i|0)-64>>2],l=o>>31,o=Ut[n+60>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 2:o=ke(s=o=Ut[((c<<2)+i|0)-60>>2],l=o>>31,o=Ut[n+56>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 1:o=ke(s=o=Ut[((c<<2)+i|0)-56>>2],l=o>>31,o=Ut[n+52>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 0:l=ke(s=l=Ut[(o=(c<<2)+i|0)-52>>2],u=l>>31,l=Ut[n+48>>2],l>>31)+r|0,s=a+Qt|0,s=l>>>0<r>>>0?s+1|0:s,r=ke(r=a=Ut[o+-48>>2],u=a>>31,a=Ut[n+44>>2],a>>31),s=Qt+s|0,s=(a=r+l|0)>>>0<r>>>0?s+1|0:s,l=a,r=ke(r=a=Ut[o+-44>>2],u=a>>31,a=Ut[n+40>>2],a>>31),s=Qt+s|0,s=(a=l+r|0)>>>0<r>>>0?s+1|0:s,l=a,r=ke(r=a=Ut[o+-40>>2],u=a>>31,a=Ut[n+36>>2],a>>31),s=Qt+s|0,s=(a=l+r|0)>>>0<r>>>0?s+1|0:s,l=a,r=ke(r=a=Ut[o+-36>>2],u=a>>31,a=Ut[n+32>>2],a>>31),s=Qt+s|0,s=(a=l+r|0)>>>0<r>>>0?s+1|0:s,l=a,r=ke(r=a=Ut[o+-32>>2],u=a>>31,a=Ut[n+28>>2],a>>31),s=Qt+s|0,s=(a=l+r|0)>>>0<r>>>0?s+1|0:s,l=a,r=ke(r=a=Ut[o+-28>>2],u=a>>31,a=Ut[n+24>>2],a>>31),s=Qt+s|0,s=(a=l+r|0)>>>0<r>>>0?s+1|0:s,l=a,r=ke(r=a=Ut[o+-24>>2],u=a>>31,a=Ut[n+20>>2],a>>31),s=Qt+s|0,s=(a=l+r|0)>>>0<r>>>0?s+1|0:s,l=a,r=ke(r=a=Ut[o+-20>>2],u=a>>31,a=Ut[n+16>>2],a>>31),s=Qt+s|0,s=(a=l+r|0)>>>0<r>>>0?s+1|0:s,l=a,r=ke(r=a=Ut[o+-16>>2],u=a>>31,a=Ut[n+12>>2],a>>31),s=Qt+s|0,s=(a=l+r|0)>>>0<r>>>0?s+1|0:s,l=a,r=ke(r=a=Ut[o+-12>>2],u=a>>31,a=Ut[n+8>>2],a>>31),s=Qt+s|0,s=(a=l+r|0)>>>0<r>>>0?s+1|0:s,l=a,r=ke(r=a=Ut[o+-8>>2],u=a>>31,a=Ut[n+4>>2],a>>31),s=Qt+s|0,s=(a=l+r|0)>>>0<r>>>0?s+1|0:s,l=a,r=ke(r=a=Ut[o+-4>>2],o=a>>31,a=Ut[n>>2],a>>31),s=Qt+s|0,s=(a=l+r|0)>>>0<r>>>0?s+1|0:s,r=a,a=s}if(u=(o=c<<2)+i|0,s=Ut[e+o>>2],l=r,o=31&(r=p),Ut[u>>2]=s+(32<=(63&r)>>>0?a>>o:((1<<o)-1&a)<<32-o|l>>>o),(0|(c=c+1|0))==(0|t))break}}else if(9<=a>>>0){if(11<=a>>>0){if(12!=(0|a)){if(!((0|t)<1))for(c=Ut[i+-4>>2],a=Ut[i+-8>>2],p=Ut[i+-12>>2],o=Ut[i+-16>>2],l=Ut[i+-20>>2],d=Ut[i+-24>>2],u=Ut[i+-28>>2],f=Ut[i+-32>>2],_=Ut[i+-36>>2],h=Ut[i+-40>>2],m=Ut[i+-44>>2],R=(b=s=Ut[n>>2])>>31,S=(C=s=Ut[n+4>>2])>>31,M=(E=s=Ut[n+8>>2])>>31,y=(P=s=Ut[n+12>>2])>>31,F=(B=s=Ut[n+16>>2])>>31,x=(T=s=Ut[n+20>>2])>>31,A=(L=s=Ut[n+24>>2])>>31,H=(O=s=Ut[n+28>>2])>>31,V=(D=s=Ut[n+32>>2])>>31,k=(U=s=Ut[n+36>>2])>>31,K=(X=n=Ut[n+40>>2])>>31,n=0;q=(s=n<<2)+i|0,j=Ut[e+s>>2],s=ke(v=h,h>>31,U,k),z=Qt,h=_,m=(g=ke(m,m>>31,X,K))+s|0,s=Qt+z|0,s=m>>>0<g>>>0?s+1|0:s,g=m,m=ke(_,_>>31,D,V),s=Qt+s|0,s=(_=g+m|0)>>>0<m>>>0?s+1|0:s,g=m=_,m=ke(_=f,f>>31,O,H),s=Qt+s|0,s=(f=g+m|0)>>>0<m>>>0?s+1|0:s,m=f,f=u,u=m,m=ke(f,f>>31,L,A),s=Qt+s|0,s=(u=u+m|0)>>>0<m>>>0?s+1|0:s,g=m=u,m=ke(u=d,d>>31,T,x),s=Qt+s|0,s=(d=g+m|0)>>>0<m>>>0?s+1|0:s,g=m=d,m=ke(d=l,l>>31,B,F),s=Qt+s|0,s=(l=g+m|0)>>>0<m>>>0?s+1|0:s,g=m=l,m=ke(l=o,o>>31,P,y),s=Qt+s|0,s=(o=g+m|0)>>>0<m>>>0?s+1|0:s,g=o,m=ke(o=p,o>>31,E,M),s=Qt+s|0,s=(p=g+m|0)>>>0<m>>>0?s+1|0:s,w=q,g=m=p,m=ke(p=a,a>>31,C,S),s=Qt+s|0,s=(a=g+m|0)>>>0<m>>>0?s+1|0:s,g=a,m=ke(a=c,a>>31,b,R),s=Qt+s|0,s=(c=g+m|0)>>>0<m>>>0?s+1|0:s,q=c,m=31&(c=r),Ut[w>>2]=c=(32<=(63&c)>>>0?s>>m:((1<<m)-1&s)<<32-m|q>>>m)+j|0,m=v,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(c=Ut[i+-4>>2],a=Ut[i+-8>>2],p=Ut[i+-12>>2],o=Ut[i+-16>>2],l=Ut[i+-20>>2],d=Ut[i+-24>>2],u=Ut[i+-28>>2],f=Ut[i+-32>>2],_=Ut[i+-36>>2],h=Ut[i+-40>>2],m=Ut[i+-44>>2],s=Ut[i+-48>>2],C=(R=v=Ut[n>>2])>>31,E=(S=v=Ut[n+4>>2])>>31,P=(M=v=Ut[n+8>>2])>>31,B=(y=v=Ut[n+12>>2])>>31,T=(F=v=Ut[n+16>>2])>>31,L=(x=v=Ut[n+20>>2])>>31,O=(A=v=Ut[n+24>>2])>>31,D=(H=v=Ut[n+28>>2])>>31,U=(V=v=Ut[n+32>>2])>>31,X=(k=v=Ut[n+36>>2])>>31,q=(K=v=Ut[n+40>>2])>>31,z=(j=n=Ut[n+44>>2])>>31,n=0;g=(v=n<<2)+i|0,N=Ut[e+v>>2],b=ke(v=m,m>>31,K,q),w=Qt,m=h,I=ke(s,s>>31,j,z),s=Qt+w|0,s=(b=I+b|0)>>>0<I>>>0?s+1|0:s,w=b,b=ke(h,h>>31,k,X),s=Qt+s|0,s=(h=w+b|0)>>>0<b>>>0?s+1|0:s,w=b=h,b=ke(h=_,_>>31,V,U),s=Qt+s|0,s=(_=w+b|0)>>>0<b>>>0?s+1|0:s,w=b=_,b=ke(_=f,f>>31,H,D),s=Qt+s|0,s=(f=w+b|0)>>>0<b>>>0?s+1|0:s,b=f,f=u,u=b,b=ke(f,f>>31,A,O),s=Qt+s|0,s=(u=u+b|0)>>>0<b>>>0?s+1|0:s,w=b=u,b=ke(u=d,d>>31,x,L),s=Qt+s|0,s=(d=w+b|0)>>>0<b>>>0?s+1|0:s,w=b=d,b=ke(d=l,l>>31,F,T),s=Qt+s|0,s=(l=w+b|0)>>>0<b>>>0?s+1|0:s,w=b=l,b=ke(l=o,o>>31,y,B),s=Qt+s|0,s=(o=w+b|0)>>>0<b>>>0?s+1|0:s,w=o,b=ke(o=p,o>>31,M,P),s=Qt+s|0,s=(p=w+b|0)>>>0<b>>>0?s+1|0:s,w=g,g=b=p,b=ke(p=a,a>>31,S,E),s=Qt+s|0,s=(a=g+b|0)>>>0<b>>>0?s+1|0:s,g=a,b=ke(a=c,a>>31,R,C),s=Qt+s|0,s=(c=g+b|0)>>>0<b>>>0?s+1|0:s,g=c,b=31&(c=r),Ut[w>>2]=c=(32<=(63&c)>>>0?s>>b:((1<<b)-1&s)<<32-b|g>>>b)+N|0,s=v,(0|(n=n+1|0))!=(0|t););}else if(10!=(0|a)){if(!((0|t)<1))for(c=Ut[i+-4>>2],a=Ut[i+-8>>2],p=Ut[i+-12>>2],o=Ut[i+-16>>2],l=Ut[i+-20>>2],d=Ut[i+-24>>2],u=Ut[i+-28>>2],f=Ut[i+-32>>2],_=Ut[i+-36>>2],v=(m=s=Ut[n>>2])>>31,R=(b=s=Ut[n+4>>2])>>31,S=(C=s=Ut[n+8>>2])>>31,M=(E=s=Ut[n+12>>2])>>31,y=(P=s=Ut[n+16>>2])>>31,F=(B=s=Ut[n+20>>2])>>31,x=(T=s=Ut[n+24>>2])>>31,A=(L=s=Ut[n+28>>2])>>31,H=(O=n=Ut[n+32>>2])>>31,n=0;D=(s=n<<2)+i|0,V=Ut[e+s>>2],s=ke(h=f,f>>31,L,A),U=Qt,f=u,_=(k=ke(_,_>>31,O,H))+s|0,s=Qt+U|0,s=_>>>0<k>>>0?s+1|0:s,u=_,_=ke(f,f>>31,T,x),s=Qt+s|0,s=(u=u+_|0)>>>0<_>>>0?s+1|0:s,k=_=u,_=ke(u=d,d>>31,B,F),s=Qt+s|0,s=(d=k+_|0)>>>0<_>>>0?s+1|0:s,k=_=d,_=ke(d=l,l>>31,P,y),s=Qt+s|0,s=(l=k+_|0)>>>0<_>>>0?s+1|0:s,k=_=l,_=ke(l=o,o>>31,E,M),s=Qt+s|0,s=(o=k+_|0)>>>0<_>>>0?s+1|0:s,k=o,_=ke(o=p,o>>31,C,S),s=Qt+s|0,s=(p=k+_|0)>>>0<_>>>0?s+1|0:s,g=D,k=_=p,_=ke(p=a,a>>31,b,R),s=Qt+s|0,s=(a=k+_|0)>>>0<_>>>0?s+1|0:s,k=a,_=ke(a=c,a>>31,m,v),s=Qt+s|0,s=(c=k+_|0)>>>0<_>>>0?s+1|0:s,D=c,_=31&(c=r),Ut[g>>2]=c=(32<=(63&c)>>>0?s>>_:((1<<_)-1&s)<<32-_|D>>>_)+V|0,_=h,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(c=Ut[i+-4>>2],a=Ut[i+-8>>2],p=Ut[i+-12>>2],o=Ut[i+-16>>2],l=Ut[i+-20>>2],d=Ut[i+-24>>2],u=Ut[i+-28>>2],f=Ut[i+-32>>2],_=Ut[i+-36>>2],h=Ut[i+-40>>2],b=(v=s=Ut[n>>2])>>31,C=(R=s=Ut[n+4>>2])>>31,E=(S=s=Ut[n+8>>2])>>31,P=(M=s=Ut[n+12>>2])>>31,B=(y=s=Ut[n+16>>2])>>31,T=(F=s=Ut[n+20>>2])>>31,L=(x=s=Ut[n+24>>2])>>31,O=(A=s=Ut[n+28>>2])>>31,D=(H=s=Ut[n+32>>2])>>31,U=(V=n=Ut[n+36>>2])>>31,n=0;k=(s=n<<2)+i|0,X=Ut[e+s>>2],s=ke(m=_,_>>31,H,D),K=Qt,_=f,h=(q=ke(h,h>>31,V,U))+s|0,s=Qt+K|0,s=h>>>0<q>>>0?s+1|0:s,g=h,h=ke(f,f>>31,A,O),s=Qt+s|0,s=(f=g+h|0)>>>0<h>>>0?s+1|0:s,h=f,f=u,u=h,h=ke(f,f>>31,x,L),s=Qt+s|0,s=(u=u+h|0)>>>0<h>>>0?s+1|0:s,g=h=u,h=ke(u=d,d>>31,F,T),s=Qt+s|0,s=(d=g+h|0)>>>0<h>>>0?s+1|0:s,g=h=d,h=ke(d=l,l>>31,y,B),s=Qt+s|0,s=(l=g+h|0)>>>0<h>>>0?s+1|0:s,g=h=l,h=ke(l=o,o>>31,M,P),s=Qt+s|0,s=(o=g+h|0)>>>0<h>>>0?s+1|0:s,g=o,h=ke(o=p,o>>31,S,E),s=Qt+s|0,s=(p=g+h|0)>>>0<h>>>0?s+1|0:s,g=k,k=h=p,h=ke(p=a,a>>31,R,C),s=Qt+s|0,s=(a=k+h|0)>>>0<h>>>0?s+1|0:s,k=a,h=ke(a=c,a>>31,v,b),s=Qt+s|0,s=(c=k+h|0)>>>0<h>>>0?s+1|0:s,k=c,h=31&(c=r),Ut[g>>2]=c=(32<=(63&c)>>>0?s>>h:((1<<h)-1&s)<<32-h|k>>>h)+X|0,h=m,(0|(n=n+1|0))!=(0|t););}else if(5<=a>>>0){if(7<=a>>>0){if(8!=(0|a)){if(!((0|t)<1))for(c=Ut[i+-4>>2],a=Ut[i+-8>>2],p=Ut[i+-12>>2],o=Ut[i+-16>>2],l=Ut[i+-20>>2],d=Ut[i+-24>>2],u=Ut[i+-28>>2],h=(_=f=Ut[n>>2])>>31,v=(m=f=Ut[n+4>>2])>>31,R=(b=f=Ut[n+8>>2])>>31,S=(C=f=Ut[n+12>>2])>>31,M=(E=f=Ut[n+16>>2])>>31,y=(P=f=Ut[n+20>>2])>>31,F=(B=n=Ut[n+24>>2])>>31,n=0;T=(f=n<<2)+i|0,x=Ut[e+f>>2],s=ke(f=d,f>>31,P,y),L=Qt,d=l,u=(A=ke(u,u>>31,B,F))+s|0,s=Qt+L|0,s=u>>>0<A>>>0?s+1|0:s,A=u,u=ke(l,l>>31,E,M),s=Qt+s|0,s=(l=A+u|0)>>>0<u>>>0?s+1|0:s,A=u=l,u=ke(l=o,o>>31,C,S),s=Qt+s|0,s=(o=A+u|0)>>>0<u>>>0?s+1|0:s,A=o,u=ke(o=p,o>>31,b,R),s=Qt+s|0,s=(p=A+u|0)>>>0<u>>>0?s+1|0:s,k=T,A=u=p,u=ke(p=a,a>>31,m,v),s=Qt+s|0,s=(a=A+u|0)>>>0<u>>>0?s+1|0:s,A=a,u=ke(a=c,a>>31,_,h),s=Qt+s|0,s=(c=A+u|0)>>>0<u>>>0?s+1|0:s,T=c,u=31&(c=r),Ut[k>>2]=c=(32<=(63&c)>>>0?s>>u:((1<<u)-1&s)<<32-u|T>>>u)+x|0,u=f,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(c=Ut[i+-4>>2],a=Ut[i+-8>>2],p=Ut[i+-12>>2],o=Ut[i+-16>>2],l=Ut[i+-20>>2],d=Ut[i+-24>>2],u=Ut[i+-28>>2],f=Ut[i+-32>>2],m=(h=s=Ut[n>>2])>>31,b=(v=s=Ut[n+4>>2])>>31,C=(R=s=Ut[n+8>>2])>>31,E=(S=s=Ut[n+12>>2])>>31,P=(M=s=Ut[n+16>>2])>>31,B=(y=s=Ut[n+20>>2])>>31,T=(F=s=Ut[n+24>>2])>>31,L=(x=n=Ut[n+28>>2])>>31,n=0;A=(s=n<<2)+i|0,O=Ut[e+s>>2],s=ke(_=u,u>>31,F,T),H=Qt,u=d,f=(D=ke(f,f>>31,x,L))+s|0,s=Qt+H|0,s=f>>>0<D>>>0?s+1|0:s,k=f,f=ke(d,d>>31,y,B),s=Qt+s|0,s=(d=k+f|0)>>>0<f>>>0?s+1|0:s,k=f=d,f=ke(d=l,l>>31,M,P),s=Qt+s|0,s=(l=k+f|0)>>>0<f>>>0?s+1|0:s,k=f=l,f=ke(l=o,o>>31,S,E),s=Qt+s|0,s=(o=k+f|0)>>>0<f>>>0?s+1|0:s,k=o,f=ke(o=p,o>>31,R,C),s=Qt+s|0,s=(p=k+f|0)>>>0<f>>>0?s+1|0:s,k=A,A=f=p,f=ke(p=a,a>>31,v,b),s=Qt+s|0,s=(a=A+f|0)>>>0<f>>>0?s+1|0:s,A=a,f=ke(a=c,a>>31,h,m),s=Qt+s|0,s=(c=A+f|0)>>>0<f>>>0?s+1|0:s,A=c,f=31&(c=r),Ut[k>>2]=c=(32<=(63&c)>>>0?s>>f:((1<<f)-1&s)<<32-f|A>>>f)+O|0,f=_,(0|(n=n+1|0))!=(0|t););}else if(6!=(0|a)){if(!((0|t)<1))for(c=Ut[i+-4>>2],a=Ut[i+-8>>2],p=Ut[i+-12>>2],o=Ut[i+-16>>2],l=Ut[i+-20>>2],f=(u=d=Ut[n>>2])>>31,h=(_=d=Ut[n+4>>2])>>31,v=(m=d=Ut[n+8>>2])>>31,R=(b=d=Ut[n+12>>2])>>31,S=(C=n=Ut[n+16>>2])>>31,n=0;E=(d=n<<2)+i|0,M=Ut[e+d>>2],s=ke(d=o,o>>31,b,R),P=Qt,o=p,l=(y=ke(l,l>>31,C,S))+s|0,s=Qt+P|0,s=l>>>0<y>>>0?s+1|0:s,p=l,l=ke(o,o>>31,m,v),s=Qt+s|0,s=(p=p+l|0)>>>0<l>>>0?s+1|0:s,y=l=p,l=ke(p=a,a>>31,_,h),s=Qt+s|0,s=(a=y+l|0)>>>0<l>>>0?s+1|0:s,l=a,c=ke(a=c,a>>31,u,f),s=Qt+s|0,s=(l=l+c|0)>>>0<c>>>0?s+1|0:s,c=31&r,Ut[E>>2]=c=(32<=(63&r)>>>0?s>>c:((1<<c)-1&s)<<32-c|l>>>c)+M|0,l=d,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(c=Ut[i+-4>>2],a=Ut[i+-8>>2],p=Ut[i+-12>>2],o=Ut[i+-16>>2],l=Ut[i+-20>>2],d=Ut[i+-24>>2],_=(f=u=Ut[n>>2])>>31,m=(h=u=Ut[n+4>>2])>>31,b=(v=u=Ut[n+8>>2])>>31,C=(R=u=Ut[n+12>>2])>>31,E=(S=u=Ut[n+16>>2])>>31,P=(M=n=Ut[n+20>>2])>>31,n=0;y=(u=n<<2)+i|0,B=Ut[e+u>>2],s=ke(u=l,l>>31,S,E),F=Qt,l=o,d=(T=ke(d,d>>31,M,P))+s|0,s=Qt+F|0,s=d>>>0<T>>>0?s+1|0:s,A=d,d=ke(o,o>>31,R,C),s=Qt+s|0,s=(o=A+d|0)>>>0<d>>>0?s+1|0:s,A=o,d=ke(o=p,o>>31,v,b),s=Qt+s|0,s=(p=A+d|0)>>>0<d>>>0?s+1|0:s,A=y,y=d=p,d=ke(p=a,a>>31,h,m),s=Qt+s|0,s=(a=y+d|0)>>>0<d>>>0?s+1|0:s,d=a,c=ke(a=c,a>>31,f,_),s=Qt+s|0,s=(d=d+c|0)>>>0<c>>>0?s+1|0:s,c=31&r,Ut[A>>2]=c=(32<=(63&r)>>>0?s>>c:((1<<c)-1&s)<<32-c|d>>>c)+B|0,d=u,(0|(n=n+1|0))!=(0|t););}else if(3<=a>>>0){if(4!=(0|a)){if(!((0|t)<1))for(c=Ut[i+-4>>2],a=Ut[i+-8>>2],p=Ut[i+-12>>2],u=(d=o=Ut[n>>2])>>31,_=(f=o=Ut[n+4>>2])>>31,m=(h=n=Ut[n+8>>2])>>31,n=0;l=(o=n<<2)+i|0,v=Ut[e+o>>2],a=ke(o=a,o>>31,f,_),s=Qt,b=l,p=ke(p,p>>31,h,m),s=Qt+s|0,s=(a=p+a|0)>>>0<p>>>0?s+1|0:s,l=a,c=ke(a=c,a>>31,d,u),s=Qt+s|0,s=(p=l+c|0)>>>0<c>>>0?s+1|0:s,c=p,l=31&r,Ut[b>>2]=c=(32<=(63&r)>>>0?s>>l:((1<<l)-1&s)<<32-l|c>>>l)+v|0,p=o,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(c=Ut[i+-4>>2],a=Ut[i+-8>>2],p=Ut[i+-12>>2],o=Ut[i+-16>>2],f=(u=l=Ut[n>>2])>>31,h=(_=l=Ut[n+4>>2])>>31,v=(m=l=Ut[n+8>>2])>>31,R=(b=n=Ut[n+12>>2])>>31,n=0;d=(l=n<<2)+i|0,C=Ut[e+l>>2],s=ke(l=p,l>>31,m,v),S=Qt,p=a,y=d,o=(E=ke(o,o>>31,b,R))+s|0,s=Qt+S|0,s=o>>>0<E>>>0?s+1|0:s,d=o,o=ke(a,a>>31,_,h),s=Qt+s|0,s=(a=d+o|0)>>>0<o>>>0?s+1|0:s,o=a,c=ke(a=c,a>>31,u,f),s=Qt+s|0,s=(o=o+c|0)>>>0<c>>>0?s+1|0:s,c=o,d=31&(o=r),Ut[y>>2]=c=(32<=(63&o)>>>0?s>>d:((1<<d)-1&s)<<32-d|c>>>d)+C|0,o=l,(0|(n=n+1|0))!=(0|t););}else if(2!=(0|a)){if(!((0|t)<1))for(c=Ut[i+-4>>2],d=(l=n=Ut[n>>2])>>31,n=0;u=(a=n<<2)+i|0,s=Ut[e+a>>2],c=ke(c,c>>31,l,d),o=Qt,p=31&(a=r),Ut[u>>2]=c=s+(32<=(63&a)>>>0?o>>p:((1<<p)-1&o)<<32-p|c>>>p)|0,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(c=Ut[i+-4>>2],a=Ut[i+-8>>2],d=(l=p=Ut[n>>2])>>31,f=(u=n=Ut[n+4>>2])>>31,n=0;o=(p=n<<2)+i|0,_=Ut[e+p>>2],c=ke(p=c,c>>31,l,d),s=Qt,m=o,o=c,c=ke(a,a>>31,u,f),s=Qt+s|0,s=(a=o+c|0)>>>0<c>>>0?s+1|0:s,c=a,o=31&(a=r),Ut[m>>2]=c=(32<=(63&a)>>>0?s>>o:((1<<o)-1&s)<<32-o|c>>>o)+_|0,a=p,(0|(n=n+1|0))!=(0|t););},Vt[7]=function(e,t,n){e|=0,t|=0;var a=0,r=Ut[4+(n|=0)>>2];if(!Ut[r>>2]&&(a=Ut[r+20>>2])&&Vt[a](n,Ut[r+48>>2]))return Ut[t>>2]=0,Ut[Ut[n>>2]>>2]=4,0;e:{t:if(Ut[t>>2])if(r=Ut[n+4>>2],!Ut[r+3632>>2]|Kt[r+6152>>2]<21){n:{a:{r:{i:{if(Ut[r>>2])switch((a=0)|((e,t,n,a,r)=>{var i,s,o,l,c,u,f,d,p,_,m,h,b,v=0,g=0,k=0;Zt=p=Zt-16|0,i=Ut[n>>2],Ut[n>>2]=0;s:{o:{l:if(i)for(s=e+416|0,o=e+368|0,c=e+440|0,u=e+8|0,f=Ut[2721],d=Xt[7536];;){if(Ut[e+408>>2])break l;c:{u:{if(Ut[e+412>>2]){if(Ut[e+432>>2]){if(k=Ut[e+440>>2],(v=i-v|0)>>>0<(g=Ut[e+444>>2])>>>0)break u;t=he(t,k,g),Ut[n>>2]=g+Ut[n>>2],t=t+g|(Ut[e+432>>2]=0);break c}if(1<=(0|(v=((e,t)=>{var n,a=0,r=0,i=0,s=0,o=0,l=0;if(e&&(n=Ut[e>>2])&&(s=Ut[e+36>>2],!(Ut[e+32>>2]<=(0|s)))){if(r=Ut[e+16>>2],1024&(o=Ut[r+(s<<2)>>2]))return Ut[e+36>>2]=s+1,a=Ut[(r=t=e)+348>>2],(e=Ut[e+344>>2]+1|0)>>>0<1&&(a=a+1|0),Ut[r+344>>2]=e,Ut[t+348>>2]=a,-1;if(i=512&o,(l=255)!=(0|(a=255&o)))l=a;else for(;i=512&(a=Ut[((s=s+1|0)<<2)+r>>2])?512:i,l=(a&=255)+l|0,255==(0|a););t?(Ut[t+8>>2]=256&o,Ut[t+12>>2]=i,o=Ut[e+12>>2],Ut[t>>2]=n+o,a=r=Ut[e+348>>2],i=Ut[e+344>>2],Ut[t+24>>2]=i,Ut[t+28>>2]=a,r=Ut[e+20>>2]+(s<<3)|0,n=Ut[r+4>>2],r=Ut[r>>2],Ut[t+4>>2]=l,Ut[t+16>>2]=r,Ut[t+20>>2]=n):(i=Ut[e+344>>2],a=Ut[e+348>>2],o=Ut[e+12>>2]),(r=i+1|0)>>>0<1&&(a=a+1|0),Ut[e+344>>2]=r,Ut[e+348>>2]=a,Ut[e+36>>2]=s+(i=1),Ut[e+12>>2]=o+l}return i})(u,c)))){if(Ut[e+432>>2]=1,(0|(l=Ut[e+444>>2]))<1)break c;if(g=Ut[c>>2],Xt[0|g]!=(0|d))break c;if(k=3,(0|l)<9)break s;if((Xt[g+1|0]|Xt[g+2|0]<<8|(Xt[g+3|0]<<16|Xt[g+4|0]<<24))!=(Xt[0|(v=f)]|Xt[v+1|0]<<8|(Xt[v+2|0]<<16|Xt[v+3|0]<<24)))break s;if(v=Xt[g+5|0],Ut[e+396>>2]=v,Ut[e+400>>2]=Xt[g+6|0],1!=(0|v)){k=4;break s}Ut[e+444>>2]=l+-9,Ut[e+440>>2]=g+9;break c}if(v){k=2;break s}Ut[e+412>>2]=0;break c}if(1<=(0|(v=((e,t)=>{var n;if(0<=Ut[e+4>>2]){for(;;){if(0<(0|(n=((e,t)=>{var n,a,r,i,s=0,o=0,l=0,c=0,u=0,f=0;Zt=i=Zt-16|0;f:if(!(Ut[e+4>>2]<0)){o=Ut[e+12>>2],a=Ut[e+8>>2]-o|0,n=o+Ut[e>>2]|0;d:{p:{_:{m:{if(!(l=Ut[e+20>>2])){if((0|a)<27)break f;if(1399285583!=(Xt[0|n]|Xt[1+n|0]<<8|(Xt[2+n|0]<<16|Xt[3+n|0]<<24)))break m;if((0|a)<(0|(l=(o=Xt[26+n|0])+27|0)))break f;if(o)for(o=Ut[e+24>>2];o=Xt[27+(n+c|0)|0]+o|0,Ut[e+24>>2]=o,(c=c+1|0)>>>0<Xt[26+n|0];);Ut[e+20>>2]=l}if((Ut[e+24>>2]+l|0)>(0|a))break f;if(u=Xt[22+n|0]|Xt[23+n|0]<<8|(Xt[24+n|0]<<16|Xt[25+n|0]<<24),Ut[12+i>>2]=u,_e[22+n|(c=0)]=0,_e[23+n|0]=0,_e[24+n|0]=0,_e[25+n|0]=0,r=Ut[e+24>>2],f=Ut[e+20>>2],_e[22+n|0]=0,_e[23+n|0]=0,_e[24+n|0]=0,(_e[25+n|0]=0)<(0|f))for(l=0;s=Ut[6512+((Xt[n+l|0]^s>>>24)<<2)>>2]^s<<8,(0|f)!=(0|(l=l+1|0)););if(o=22+n|0,0<(0|r))for(f=n+f|0;s=Ut[6512+((Xt[c+f|0]^s>>>24)<<2)>>2]^s<<8,(0|r)!=(0|(c=c+1|0)););if(_e[22+n|0]=s,_e[23+n|0]=s>>>8,_e[24+n|0]=s>>>16,_e[25+n|0]=s>>>24,Ut[12+i>>2]==(Xt[0|o]|Xt[o+1|0]<<8|(Xt[o+2|0]<<16|Xt[o+3|0]<<24)))break _;_e[0|o]=u,_e[o+1|0]=u>>>8,_e[o+2|0]=u>>>16,_e[o+3|0]=u>>>24}if(Ut[e+20>>2]=0,!(s=((e,t)=>{var n=0,n=0!=(0|t);m:{h:{b:if(!(!t|!(3&e)))for(;;){if(79==Xt[0|e])break h;if(e=e+1|0,n=0!=(0|(t=t+-1|0)),!t)break b;if(!(3&e))break}if(!n)break m}h:if(!(79==Xt[0|e]|t>>>0<4))for(;;){if((-1^(n=1330597711^Ut[e>>2]))&n+-16843009&-2139062144)break h;if(e=e+4|0,!(3<(t=t+-4|0)>>>0))break}if(t)for(;;){if(79==Xt[0|e])return e;if(e=e+1|0,!(t=t+-1|0))break}}return 0})(1+n|(Ut[e+24>>2]=0),a-1|0)))break p;c=Ut[e>>2];break d}u=Ut[e+12>>2],t?(o=u+Ut[e>>2]|0,Ut[t>>2]=o,s=Ut[e+20>>2],Ut[t+4>>2]=s,Ut[t+8>>2]=s+o,l=Ut[e+24>>2],Ut[t+12>>2]=l):(l=Ut[e+24>>2],s=Ut[e+20>>2]),Ut[e+24>>2]=0,Ut[e+16>>2]=0,Ut[e+20>>2]=0,Ut[e+12>>2]=u+(s=s+l|0);break f}s=(c=Ut[e>>2])+Ut[e+8>>2]|0}Ut[e+12>>2]=s-c,s=n-s|0}return Zt=16+i|0,s})(e,t))))return 1;if(!n)return 0;if(!Ut[e+16>>2])break}e=-(Ut[e+16>>2]=1)}else e=0;return e})(o,s)))){if(Ut[e+404>>2]&&(b=Ut[(b=s)>>2],v=Xt[b+14|0]|Xt[b+15|0]<<8|(Xt[b+16|0]<<16|Xt[b+17|0]<<24),Ut[e+404>>2]=0,Ut[e+344>>2]=v,Ut[e+4>>2]=v),((e,t)=>{var n,a,r,i,s,o,l,c=0,u=0,f=0,d=0,p=0,_=0,m=0,u=-1;f:{if(e&&(d=Ut[e>>2])&&(n=Ut[t>>2],r=Xt[n+5|0],f=Ut[t+12>>2],m=Ut[t+8>>2],a=Xt[n+26|0],s=Xt[n+18|0]|Xt[n+19|0]<<8|(Xt[n+20|0]<<16|Xt[n+21|0]<<24),_=Xt[n+14|0]|Xt[n+15|0]<<8|(Xt[n+16|0]<<16|Xt[n+17|0]<<24),o=Xt[n+6|0]|Xt[n+7|0]<<8|(Xt[n+8|0]<<16|Xt[n+9|0]<<24),l=Xt[n+10|0]|Xt[n+11|0]<<8|(Xt[n+12|0]<<16|Xt[n+13|0]<<24),i=Xt[n+4|0],c=Ut[36+e>>2],(t=Ut[12+e>>2])&&(p=Ut[8+e>>2]-t|0,(Ut[8+e>>2]=p)&&L(d,t+d|0,p),Ut[12+e>>2]=0),c&&(p=(d=Ut[28+(t=e)>>2]-c|0)?(L(p=Ut[16+e>>2],p+(c<<2)|0,d<<2),L(d=Ut[20+e>>2],d+(c<<3)|0,Ut[28+e>>2]-c<<3),Ut[28+e>>2]-c|0):0,Ut[t+28>>2]=p,Ut[36+e>>2]=0,Ut[32+e>>2]=Ut[32+e>>2]-c),!((0|_)!=Ut[336+e>>2]|i||ie(e,a+1|0)))){if(p=1&r,(0|(d=Ut[340+e>>2]))!=(0|s)){if((0|(c=Ut[32+e>>2]))<(0|(_=Ut[28+e>>2]))){for(u=Ut[8+e>>2],i=Ut[16+e>>2],t=c;u=u-Xt[i+(t<<2)|0]|0,(0|(t=t+1|0))<(0|_););Ut[8+e>>2]=u}Ut[28+e>>2]=c,-1!=(0|d)&&(Ut[28+e>>2]=t=c+1|0,Ut[Ut[16+e>>2]+(c<<2)>>2]=1024,Ut[32+e>>2]=t)}d=2&r,u=0;d:if(p&&(t=Ut[28+e>>2],!(1024!=Ut[(Ut[16+e>>2]+(t<<2)|0)-4>>2]&&1<=(0|t)))&&(d=0,a)){for(t=0;;){if(u=t+1|0,f=f-(t=Xt[27+(t+n|0)|0])|0,m=t+m|0,255!=(0|t))break d;if((0|a)==(0|(t=u)))break}u=a}if(f){if(c=Ut[4+e>>2],(0|(t=Ut[8+e>>2]))<(c-f|0))c=Ut[e>>2];else{if((2147483647-f|0)<(0|c))break f;if(!(c=A(Ut[e>>2],t=(0|(t=c+f|0))<2147482623?t+1024|0:t)))break f;Ut[e>>2]=c,Ut[4+e>>2]=t,t=Ut[8+e>>2]}he(t+c|0,m,f),Ut[8+e>>2]=Ut[8+e>>2]+f}if(m=4&r,!((0|a)<=(0|u))){if(r=Ut[20+e>>2],p=Ut[16+e>>2],c=Ut[28+e>>2],f=Xt[27+(n+u|0)|0],Ut[(t=p+(c<<2)|0)>>2]=f,Ut[(_=r+(c<<3)|0)>>2]=-1,Ut[_+4>>2]=-1,d&&(Ut[t>>2]=256|f),Ut[28+e>>2]=t=c+1|0,u=u+1|0,255==(0|f)?c=-1:Ut[32+e>>2]=t,(0|u)!=(0|a))for(;d=Xt[27+(n+u|0)|0],Ut[p+(t<<2)>>2]=d,Ut[(f=r+(t<<3)|0)>>2]=-1,Ut[f+4>>2]=-1,Ut[28+e>>2]=f=t+1|0,u=u+1|0,255!=(0|d)&&(Ut[32+e>>2]=f,c=t),t=f,(0|u)!=(0|a););-1!=(0|c)&&(t=Ut[20+e>>2]+(c<<3)|0,Ut[t>>2]=o,Ut[t+4>>2]=l)}m&&(Ut[328+e>>2]=1,(0|(t=Ut[28+e>>2]))<1||(t=(Ut[16+e>>2]+(t<<2)|0)-4|0,Ut[t>>2]=512|Ut[t>>2])),Ut[340+e>>2]=1+s,u=0}return u}return(t=Ut[e>>2])&&e0(t),(t=Ut[16+e>>2])&&e0(t),(t=Ut[20+e>>2])&&e0(t),Jt(e,360),1})(u,s))break c;Ut[e+432>>2]=0,Ut[e+412>>2]=1;break c}if(v){k=2;break s}if(!(g=((e,t)=>{var n,a=0,r=0;if(0<=(0|(a=Ut[e+4>>2]))){if((n=Ut[e+12>>2])&&(r=Ut[e+8>>2]-n|0,1<=(0|(Ut[e+8>>2]=r))&&(L(a=Ut[e>>2],a+n|0,r),a=Ut[e+4>>2]),Ut[e+12>>2]=0),(0|t)<=((r=a)-(a=Ut[e+8>>2])|0))t=Ut[e>>2];else{if(a=4096+(t+a|0)|0,!(t=(t=Ut[e>>2])?A(t,a):$t(a)))return(t=Ut[e>>2])&&e0(t),Ut[e>>2]=0,Ut[e+4>>2]=0,Ut[e+24>>2]=0,Ut[e+16>>2]=0,Ut[e+20>>2]=0,Ut[e+8>>2]=0,Ut[e+12>>2]=0;Ut[e+4>>2]=a,Ut[e>>2]=t,a=Ut[e+8>>2]}e=t+a|0}else e=0;return e})(o,v=8192<(v=i-Ut[n>>2]|0)>>>0?v:8192))){k=7;break s}switch(Ut[12+p>>2]=v,(0|Vt[8](a,g,12+p|0,r))-1|0){case 0:Ut[e+408>>2]=1;break;case 4:break o}if(0<=(0|(b=o,_=Ut[12+p>>2],m=void 0,h=-1,(0|(m=Ut[b+4>>2]))<0||(0|m)<(0|(_=Ut[b+8>>2]+_|0))||(Ut[b+8>>2]=_,h=0),h)))break c;k=6;break s}t=he(t,k,v),Ut[n>>2]=v+Ut[n>>2],Ut[e+440>>2]=v+Ut[e+440>>2],Ut[e+444>>2]=Ut[e+444>>2]-v,t=t+v|0}if(!((v=Ut[n>>2])>>>0<i>>>0))break}return Zt=16+p|0,!v&0!=Ut[e+408>>2]}k=5}return Zt=16+p|0,k})(Ut[n>>2]+32|0,e,t,n,Ut[r+48>>2])){case 0:case 2:break a;case 1:break r;default:break i}if(2!=(0|(a=0|Vt[Ut[r+4>>2]](n,e,t,Ut[r+48>>2]))))break a}Ut[Ut[n>>2]>>2]=7;break t}if(e=1,Ut[t>>2])break e;break n}if(e=1,Ut[t>>2])break e;if(1!=(0|a)){if(t=Ut[n+4>>2],Ut[t>>2])break e;if(!(r=Ut[t+20>>2]))break e;if(!Vt[r](n,Ut[t+48>>2]))break e}}Ut[Ut[n>>2]>>2]=4}else Ut[Ut[n>>2]>>2]=7;else Ut[Ut[n>>2]>>2]=7;e=0}return 0|e},Vt[8]=function(e,t,n,a){return(e=0|Vt[Ut[Ut[4+(e|=0)>>2]+4>>2]](e,t|=0,n|=0,a|=0))>>>0<=2?Ut[7572+(e<<2)>>2]:5},Vt[9]=function(e){return 0},Vt[10]=function(e,t,n){t|=0,n|=0;var a,r,i,s,o,l=0,c=0;Zt=o=Zt-32|0,l=Ut[28+(e|=0)>>2],Ut[16+o>>2]=l,a=Ut[e+20>>2],Ut[28+o>>2]=n,Ut[24+o>>2]=t,l=(Ut[20+o>>2]=t=a-l|0)+n|0;e:{t:{n:{if(!pe(0|v(Ut[e+60>>(c=2)],t=16+o|0,2,12+o|0)))for(;;){if((0|(a=Ut[12+o>>2]))==(0|l))break n;if((0|a)<=-1)break t;if(r=Ut[t+4>>2],Ut[(s=((i=r>>>0<a>>>0)<<3)+t|0)>>2]=(r=a-(i?r:0)|0)+Ut[s>>2],Ut[(s=(i?12:4)+t|0)>>2]=Ut[s>>2]-r,l=l-a|0,pe(0|v(Ut[e+60>>2],0|(t=i?t+8|0:t),0|(c=c-i|0),12+o|0)))break}if((Ut[12+o>>2]=-1)!=(0|l))break t}t=Ut[e+44>>2],Ut[e+28>>2]=t,Ut[e+20>>2]=t,Ut[e+16>>2]=t+Ut[e+48>>2],e=n;break e}Ut[e+28>>2]=0,Ut[e+16>>2]=0,Ut[e+20>>2]=0,Ut[e>>2]=32|Ut[e>>2],2!=((e=0)|c)&&(e=n-Ut[t+4>>2]|0)}return Zt=32+o|0,0|e},Vt[11]=function(e,t,n,a){return Qt=0},Vt[12]=function(e,t,n,a,r,i){e|=0,t|=0,n|=0,r|=0,i|=0;var s,o,l=0,c=0,u=0,f=0,d=0,p=0,_=0,m=0,h=0,b=0,v=0,g=0,k=0,A=0,y=0,w=0,E=0,R=0,C=0,S=0,T=0,M=0,P=0;if(13<=(a|=0)>>>0){if(!((0|t)<1))for(S=a+-13|0;;){switch((a=c=u=f=d=p=_=m=h=b=v=k=T=R=C=w=E=A=y=g=0)|S){case 19:g=Wt(Ut[((l<<2)+e|0)-128>>2],Ut[n+124>>2]);case 18:y=Wt(Ut[((l<<2)+e|0)-124>>2],Ut[n+120>>2])+g|0;case 17:A=Wt(Ut[((l<<2)+e|0)-120>>2],Ut[n+116>>2])+y|0;case 16:E=Wt(Ut[((l<<2)+e|0)-116>>2],Ut[n+112>>2])+A|0;case 15:w=Wt(Ut[((l<<2)+e|0)-112>>2],Ut[n+108>>2])+E|0;case 14:C=Wt(Ut[((l<<2)+e|0)-108>>2],Ut[n+104>>2])+w|0;case 13:R=Wt(Ut[((l<<2)+e|0)-104>>2],Ut[n+100>>2])+C|0;case 12:T=Wt(Ut[((l<<2)+e|0)-100>>2],Ut[n+96>>2])+R|0;case 11:k=Wt(Ut[((l<<2)+e|0)-96>>2],Ut[n+92>>2])+T|0;case 10:v=Wt(Ut[((l<<2)+e|0)-92>>2],Ut[n+88>>2])+k|0;case 9:b=Wt(Ut[((l<<2)+e|0)-88>>2],Ut[n+84>>2])+v|0;case 8:h=Wt(Ut[((l<<2)+e|0)-84>>2],Ut[n+80>>2])+b|0;case 7:m=Wt(Ut[((l<<2)+e|0)-80>>2],Ut[n+76>>2])+h|0;case 6:_=Wt(Ut[((l<<2)+e|0)-76>>2],Ut[n+72>>2])+m|0;case 5:p=Wt(Ut[((l<<2)+e|0)-72>>2],Ut[n+68>>2])+_|0;case 4:d=Wt(Ut[((l<<2)+e|0)-68>>2],Ut[n+64>>2])+p|0;case 3:f=Wt(Ut[((l<<2)+e|0)-64>>2],Ut[n+60>>2])+d|0;case 2:u=Wt(Ut[((l<<2)+e|0)-60>>2],Ut[n+56>>2])+f|0;case 1:c=Wt(Ut[((l<<2)+e|0)-56>>2],Ut[n+52>>2])+u|0;case 0:a=((((((((((((Wt(Ut[(a=(l<<2)+e|0)-52>>2],Ut[n+48>>2])+c|0)+Wt(Ut[a+-48>>2],Ut[n+44>>2])|0)+Wt(Ut[a+-44>>2],Ut[n+40>>2])|0)+Wt(Ut[a+-40>>2],Ut[n+36>>2])|0)+Wt(Ut[a+-36>>2],Ut[n+32>>2])|0)+Wt(Ut[a+-32>>2],Ut[n+28>>2])|0)+Wt(Ut[a+-28>>2],Ut[n+24>>2])|0)+Wt(Ut[a+-24>>2],Ut[n+20>>2])|0)+Wt(Ut[a+-20>>2],Ut[n+16>>2])|0)+Wt(Ut[a+-16>>2],Ut[n+12>>2])|0)+Wt(Ut[a+-12>>2],Ut[n+8>>2])|0)+Wt(Ut[a+-8>>2],Ut[n+4>>2])|0)+Wt(Ut[a+-4>>2],Ut[n>>2])|0}if(Ut[(c=l<<2)+i>>2]=Ut[e+c>>2]-(a>>r),(0|(l=l+1|0))==(0|t))break}}else if(9<=a>>>0){if(11<=a>>>0){if(12!=(0|a)){if(!((0|t)<1))for(b=Ut[e+-4>>2],l=Ut[e+-8>>2],a=Ut[e+-12>>2],c=Ut[e+-16>>2],u=Ut[e+-20>>2],f=Ut[e+-24>>2],d=Ut[e+-28>>2],p=Ut[e+-32>>2],_=Ut[e+-36>>2],m=Ut[e+-40>>2],v=Ut[e+-44>>2],k=Ut[n>>2],g=Ut[n+4>>2],y=Ut[n+8>>2],A=Ut[n+12>>2],E=Ut[n+16>>2],w=Ut[n+20>>2],C=Ut[n+24>>2],R=Ut[n+28>>2],T=Ut[n+32>>2],S=Ut[n+36>>2],P=Ut[n+40>>2],n=0;h=m,m=_,_=p,p=d,d=f,f=u,u=c,c=a,a=l,l=b,b=Ut[(M=n<<2)+e>>2],Ut[i+M>>2]=b-((((((((((Wt(h,S)+Wt(v,P)|0)+Wt(m,T)|0)+Wt(_,R)|0)+Wt(p,C)|0)+Wt(d,w)|0)+Wt(f,E)|0)+Wt(u,A)|0)+Wt(c,y)|0)+Wt(a,g)|0)+Wt(l,k)>>r),v=h,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(v=Ut[e+-4>>2],l=Ut[e+-8>>2],a=Ut[e+-12>>2],c=Ut[e+-16>>2],u=Ut[e+-20>>2],f=Ut[e+-24>>2],d=Ut[e+-28>>2],p=Ut[e+-32>>2],_=Ut[e+-36>>2],m=Ut[e+-40>>2],h=Ut[e+-44>>2],k=Ut[e+-48>>2],g=Ut[n>>2],y=Ut[n+4>>2],A=Ut[n+8>>2],E=Ut[n+12>>2],w=Ut[n+16>>2],C=Ut[n+20>>2],R=Ut[n+24>>2],T=Ut[n+28>>2],S=Ut[n+32>>2],P=Ut[n+36>>2],M=Ut[n+40>>2],o=Ut[n+44>>2],n=0;b=h,h=m,m=_,_=p,p=d,d=f,f=u,u=c,c=a,a=l,l=v,v=Ut[(s=n<<2)+e>>2],Ut[i+s>>2]=v-(((((((((((Wt(b,M)+Wt(k,o)|0)+Wt(h,P)|0)+Wt(m,S)|0)+Wt(_,T)|0)+Wt(p,R)|0)+Wt(d,C)|0)+Wt(f,w)|0)+Wt(u,E)|0)+Wt(c,A)|0)+Wt(a,y)|0)+Wt(l,g)>>r),k=b,(0|(n=n+1|0))!=(0|t););}else if(10!=(0|a)){if(!((0|t)<1))for(m=Ut[e+-4>>2],l=Ut[e+-8>>2],a=Ut[e+-12>>2],c=Ut[e+-16>>2],u=Ut[e+-20>>2],f=Ut[e+-24>>2],d=Ut[e+-28>>2],p=Ut[e+-32>>2],h=Ut[e+-36>>2],v=Ut[n>>2],b=Ut[n+4>>2],k=Ut[n+8>>2],g=Ut[n+12>>2],y=Ut[n+16>>2],A=Ut[n+20>>2],E=Ut[n+24>>2],w=Ut[n+28>>2],C=Ut[n+32>>2],n=0;_=p,p=d,d=f,f=u,u=c,c=a,a=l,l=m,m=Ut[(R=n<<2)+e>>2],Ut[i+R>>2]=m-((((((((Wt(_,w)+Wt(h,C)|0)+Wt(p,E)|0)+Wt(d,A)|0)+Wt(f,y)|0)+Wt(u,g)|0)+Wt(c,k)|0)+Wt(a,b)|0)+Wt(l,v)>>r),h=_,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(h=Ut[e+-4>>2],l=Ut[e+-8>>2],a=Ut[e+-12>>2],c=Ut[e+-16>>2],u=Ut[e+-20>>2],f=Ut[e+-24>>2],d=Ut[e+-28>>2],p=Ut[e+-32>>2],_=Ut[e+-36>>2],b=Ut[e+-40>>2],v=Ut[n>>2],k=Ut[n+4>>2],g=Ut[n+8>>2],y=Ut[n+12>>2],A=Ut[n+16>>2],E=Ut[n+20>>2],w=Ut[n+24>>2],C=Ut[n+28>>2],R=Ut[n+32>>2],T=Ut[n+36>>2],n=0;m=_,_=p,p=d,d=f,f=u,u=c,c=a,a=l,l=h,h=Ut[(S=n<<2)+e>>2],Ut[i+S>>2]=h-(((((((((Wt(m,R)+Wt(b,T)|0)+Wt(_,C)|0)+Wt(p,w)|0)+Wt(d,E)|0)+Wt(f,A)|0)+Wt(u,y)|0)+Wt(c,g)|0)+Wt(a,k)|0)+Wt(l,v)>>r),b=m,(0|(n=n+1|0))!=(0|t););}else if(5<=a>>>0){if(7<=a>>>0){if(8!=(0|a)){if(!((0|t)<1))for(p=Ut[e+-4>>2],l=Ut[e+-8>>2],a=Ut[e+-12>>2],c=Ut[e+-16>>2],u=Ut[e+-20>>2],f=Ut[e+-24>>2],_=Ut[e+-28>>2],m=Ut[n>>2],h=Ut[n+4>>2],v=Ut[n+8>>2],b=Ut[n+12>>2],k=Ut[n+16>>2],g=Ut[n+20>>2],y=Ut[n+24>>2],n=0;d=f,f=u,u=c,c=a,a=l,l=p,p=Ut[(A=n<<2)+e>>2],Ut[i+A>>2]=p-((((((Wt(d,g)+Wt(_,y)|0)+Wt(f,k)|0)+Wt(u,b)|0)+Wt(c,v)|0)+Wt(a,h)|0)+Wt(l,m)>>r),_=d,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(_=Ut[e+-4>>2],l=Ut[e+-8>>2],a=Ut[e+-12>>2],c=Ut[e+-16>>2],u=Ut[e+-20>>2],f=Ut[e+-24>>2],d=Ut[e+-28>>2],m=Ut[e+-32>>2],h=Ut[n>>2],v=Ut[n+4>>2],b=Ut[n+8>>2],k=Ut[n+12>>2],g=Ut[n+16>>2],y=Ut[n+20>>2],A=Ut[n+24>>2],E=Ut[n+28>>2],n=0;p=d,d=f,f=u,u=c,c=a,a=l,l=_,_=Ut[(w=n<<2)+e>>2],Ut[i+w>>2]=_-(((((((Wt(p,A)+Wt(m,E)|0)+Wt(d,y)|0)+Wt(f,g)|0)+Wt(u,k)|0)+Wt(c,b)|0)+Wt(a,v)|0)+Wt(l,h)>>r),m=p,(0|(n=n+1|0))!=(0|t););}else if(6!=(0|a)){if(!((0|t)<1))for(f=Ut[e+-4>>2],l=Ut[e+-8>>2],a=Ut[e+-12>>2],c=Ut[e+-16>>2],d=Ut[e+-20>>2],p=Ut[n>>2],_=Ut[n+4>>2],m=Ut[n+8>>2],h=Ut[n+12>>2],v=Ut[n+16>>2],n=0;u=c,c=a,a=l,l=f,f=Ut[(b=n<<2)+e>>2],Ut[i+b>>2]=f-((((Wt(u,h)+Wt(d,v)|0)+Wt(c,m)|0)+Wt(a,_)|0)+Wt(l,p)>>r),d=u,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(d=Ut[e+-4>>2],l=Ut[e+-8>>2],a=Ut[e+-12>>2],c=Ut[e+-16>>2],u=Ut[e+-20>>2],p=Ut[e+-24>>2],_=Ut[n>>2],m=Ut[n+4>>2],h=Ut[n+8>>2],v=Ut[n+12>>2],b=Ut[n+16>>2],k=Ut[n+20>>2],n=0;f=u,u=c,c=a,a=l,l=d,d=Ut[(g=n<<2)+e>>2],Ut[i+g>>2]=d-(((((Wt(f,b)+Wt(p,k)|0)+Wt(u,v)|0)+Wt(c,h)|0)+Wt(a,m)|0)+Wt(l,_)>>r),p=f,(0|(n=n+1|0))!=(0|t););}else if(3<=a>>>0){if(4!=(0|a)){if(!((0|t)<1))for(c=Ut[e+-4>>2],l=Ut[e+-8>>2],u=Ut[e+-12>>2],f=Ut[n>>2],d=Ut[n+4>>2],p=Ut[n+8>>2],n=0;a=l,l=c,c=Ut[(_=n<<2)+e>>2],Ut[i+_>>2]=c-((Wt(a,d)+Wt(u,p)|0)+Wt(l,f)>>r),u=a,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(u=Ut[e+-4>>2],l=Ut[e+-8>>2],a=Ut[e+-12>>2],f=Ut[e+-16>>2],d=Ut[n>>2],p=Ut[n+4>>2],_=Ut[n+8>>2],m=Ut[n+12>>2],n=0;c=a,a=l,l=u,u=Ut[(h=n<<2)+e>>2],Ut[i+h>>2]=u-(((Wt(c,_)+Wt(f,m)|0)+Wt(a,p)|0)+Wt(l,d)>>r),f=c,(0|(n=n+1|0))!=(0|t););}else if(2!=(0|a)){if(!((0|t)<1))for(l=Ut[e+-4>>2],a=Ut[n>>2],n=0;c=Wt(a,l),l=Ut[(u=n<<2)+e>>2],Ut[i+u>>2]=l-(c>>r),(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(a=Ut[e+-4>>2],c=Ut[e+-8>>2],u=Ut[n>>2],f=Ut[n+4>>2],n=0;l=a,a=Ut[(d=n<<2)+e>>2],Ut[i+d>>2]=a-(Wt(l,u)+Wt(c,f)>>r),c=l,(0|(n=n+1|0))!=(0|t););},Vt[13]=function(e,t,n,a,r,i){e|=0,t|=0,n|=0,r|=0,i|=0;var I,N,O,s=0,o=0,l=0,c=0,u=0,f=0,d=0,p=0,_=0,m=0,h=0,b=0,v=0,g=0,k=0,A=0,y=0,w=0,E=0,R=0,C=0,S=0,T=0,M=0,P=0,B=0,F=0,D=0,x=0,L=0,H=0,q=0,V=0,U=0,X=0,K=0,j=0;if(13<=(a|=0)>>>0){if(!((0|t)<1))for(v=r,d=a+-13|0;;){switch((a=r=0)|d){case 19:r=ke(r=a=Ut[((m<<2)+e|0)-128>>2],o=a>>31,a=Ut[n+124>>2],a>>31),a=Qt;case 18:o=ke(s=o=Ut[((m<<2)+e|0)-124>>2],l=o>>31,o=Ut[n+120>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 17:o=ke(s=o=Ut[((m<<2)+e|0)-120>>2],l=o>>31,o=Ut[n+116>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 16:o=ke(s=o=Ut[((m<<2)+e|0)-116>>2],l=o>>31,o=Ut[n+112>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 15:o=ke(s=o=Ut[((m<<2)+e|0)-112>>2],l=o>>31,o=Ut[n+108>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 14:o=ke(s=o=Ut[((m<<2)+e|0)-108>>2],l=o>>31,o=Ut[n+104>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 13:o=ke(s=o=Ut[((m<<2)+e|0)-104>>2],l=o>>31,o=Ut[n+100>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 12:o=ke(s=o=Ut[((m<<2)+e|0)-100>>2],l=o>>31,o=Ut[n+96>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 11:o=ke(s=o=Ut[((m<<2)+e|0)-96>>2],l=o>>31,o=Ut[n+92>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 10:o=ke(s=o=Ut[((m<<2)+e|0)-92>>2],l=o>>31,o=Ut[n+88>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 9:o=ke(s=o=Ut[((m<<2)+e|0)-88>>2],l=o>>31,o=Ut[n+84>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 8:o=ke(s=o=Ut[((m<<2)+e|0)-84>>2],l=o>>31,o=Ut[n+80>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 7:o=ke(s=o=Ut[((m<<2)+e|0)-80>>2],l=o>>31,o=Ut[n+76>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 6:o=ke(s=o=Ut[((m<<2)+e|0)-76>>2],l=o>>31,o=Ut[n+72>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 5:o=ke(s=o=Ut[((m<<2)+e|0)-72>>2],l=o>>31,o=Ut[n+68>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 4:o=ke(s=o=Ut[((m<<2)+e|0)-68>>2],l=o>>31,o=Ut[n+64>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 3:o=ke(s=o=Ut[((m<<2)+e|0)-64>>2],l=o>>31,o=Ut[n+60>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 2:o=ke(s=o=Ut[((m<<2)+e|0)-60>>2],l=o>>31,o=Ut[n+56>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 1:o=ke(s=o=Ut[((m<<2)+e|0)-56>>2],l=o>>31,o=Ut[n+52>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,r=o,a=s;case 0:o=ke(s=o=Ut[(l=(m<<2)+e|0)-52>>2],c=o>>31,o=Ut[n+48>>2],o>>31)+r|0,s=a+Qt|0,s=o>>>0<r>>>0?s+1|0:s,a=ke(r=a=Ut[l+-48>>2],c=a>>31,a=Ut[n+44>>2],a>>31),s=Qt+s|0,s=(r=a+o|0)>>>0<a>>>0?s+1|0:s,a=ke(o=a=Ut[l+-44>>2],c=a>>31,a=Ut[n+40>>2],a>>31),s=Qt+s|0,s=(r=a+r|0)>>>0<a>>>0?s+1|0:s,a=ke(o=a=Ut[l+-40>>2],c=a>>31,a=Ut[n+36>>2],a>>31),s=Qt+s|0,s=(r=a+r|0)>>>0<a>>>0?s+1|0:s,a=ke(o=a=Ut[l+-36>>2],c=a>>31,a=Ut[n+32>>2],a>>31),s=Qt+s|0,s=(r=a+r|0)>>>0<a>>>0?s+1|0:s,a=ke(o=a=Ut[l+-32>>2],c=a>>31,a=Ut[n+28>>2],a>>31),s=Qt+s|0,s=(r=a+r|0)>>>0<a>>>0?s+1|0:s,a=ke(o=a=Ut[l+-28>>2],c=a>>31,a=Ut[n+24>>2],a>>31),s=Qt+s|0,s=(r=a+r|0)>>>0<a>>>0?s+1|0:s,a=ke(o=a=Ut[l+-24>>2],c=a>>31,a=Ut[n+20>>2],a>>31),s=Qt+s|0,s=(r=a+r|0)>>>0<a>>>0?s+1|0:s,a=ke(o=a=Ut[l+-20>>2],c=a>>31,a=Ut[n+16>>2],a>>31),s=Qt+s|0,s=(r=a+r|0)>>>0<a>>>0?s+1|0:s,a=ke(o=a=Ut[l+-16>>2],c=a>>31,a=Ut[n+12>>2],a>>31),s=Qt+s|0,s=(r=a+r|0)>>>0<a>>>0?s+1|0:s,a=ke(o=a=Ut[l+-12>>2],c=a>>31,a=Ut[n+8>>2],a>>31),s=Qt+s|0,s=(r=a+r|0)>>>0<a>>>0?s+1|0:s,a=ke(o=a=Ut[l+-8>>2],c=a>>31,a=Ut[n+4>>2],a>>31),s=Qt+s|0,s=(r=a+r|0)>>>0<a>>>0?s+1|0:s,a=ke(o=a=Ut[l+-4>>2],l=a>>31,a=Ut[n>>2],a>>31),s=Qt+s|0,a=s=(r=a+r|0)>>>0<a>>>0?s+1|0:s}if(s=(o=m<<2)+i|0,c=Ut[e+o>>2],o=a,l=31&(a=v),Ut[s>>2]=c-(32<=(63&a)>>>0?o>>l:((1<<l)-1&o)<<32-l|r>>>l),(0|(m=m+1|0))==(0|t))break}}else if(9<=a>>>0){if(11<=a>>>0){if(12!=(0|a)){if(!((0|t)<1))for(u=Ut[e+-4>>2],m=Ut[e+-8>>2],a=Ut[e+-12>>2],v=Ut[e+-16>>2],o=Ut[e+-20>>2],d=Ut[e+-24>>2],l=Ut[e+-28>>2],c=Ut[e+-32>>2],f=Ut[e+-36>>2],b=Ut[e+-40>>2],p=Ut[e+-44>>2],K=(X=s=Ut[n>>2])>>31,q=(j=s=Ut[n+4>>2])>>31,U=(V=s=Ut[n+8>>2])>>31,L=(x=s=Ut[n+12>>2])>>31,B=(H=s=Ut[n+16>>2])>>31,D=(F=s=Ut[n+20>>2])>>31,P=(M=s=Ut[n+24>>2])>>31,S=(C=s=Ut[n+28>>2])>>31,w=(T=s=Ut[n+32>>2])>>31,R=(E=s=Ut[n+36>>2])>>31,y=(A=n=Ut[n+40>>2])>>31,n=0;h=b,b=f,f=c,c=l,l=d,d=o,o=v,v=a,a=m,m=u,k=(s=n<<2)+i|0,u=Ut[e+s>>2],_=ke(h,h>>31,E,R),s=Qt,p=ke(p,p>>31,A,y),s=Qt+s|0,s=(_=p+_|0)>>>0<p>>>0?s+1|0:s,p=ke(b,b>>31,T,w),s=Qt+s|0,s=(_=p+_|0)>>>0<p>>>0?s+1|0:s,p=ke(f,f>>31,C,S),s=Qt+s|0,s=(_=p+_|0)>>>0<p>>>0?s+1|0:s,p=ke(c,c>>31,M,P),s=Qt+s|0,s=(_=p+_|0)>>>0<p>>>0?s+1|0:s,p=ke(l,l>>31,F,D),s=Qt+s|0,s=(_=p+_|0)>>>0<p>>>0?s+1|0:s,p=ke(d,d>>31,H,B),s=Qt+s|0,s=(_=p+_|0)>>>0<p>>>0?s+1|0:s,p=ke(o,o>>31,x,L),s=Qt+s|0,s=(_=p+_|0)>>>0<p>>>0?s+1|0:s,p=ke(v,v>>31,V,U),s=Qt+s|0,s=(_=p+_|0)>>>0<p>>>0?s+1|0:s,p=ke(a,a>>31,j,q),s=Qt+s|0,s=(_=p+_|0)>>>0<p>>>0?s+1|0:s,p=ke(m,m>>31,X,K),s=Qt+s|0,p=s=(_=p+_|0)>>>0<p>>>0?s+1|0:s,g=31&(s=r),Ut[k>>2]=u-(32<=(63&s)>>>0?p>>g:((1<<g)-1&p)<<32-g|_>>>g),p=h,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(p=Ut[e+-4>>2],m=Ut[e+-8>>2],a=Ut[e+-12>>2],v=Ut[e+-16>>2],o=Ut[e+-20>>2],d=Ut[e+-24>>2],l=Ut[e+-28>>2],c=Ut[e+-32>>2],f=Ut[e+-36>>2],b=Ut[e+-40>>2],h=Ut[e+-44>>2],s=Ut[e+-48>>2],I=(N=u=Ut[n>>2])>>31,X=(O=u=Ut[n+4>>2])>>31,j=(K=u=Ut[n+8>>2])>>31,V=(q=u=Ut[n+12>>2])>>31,x=(U=u=Ut[n+16>>2])>>31,H=(L=u=Ut[n+20>>2])>>31,F=(B=u=Ut[n+24>>2])>>31,M=(D=u=Ut[n+28>>2])>>31,C=(P=u=Ut[n+32>>2])>>31,T=(S=u=Ut[n+36>>2])>>31,E=(w=u=Ut[n+40>>2])>>31,A=(R=n=Ut[n+44>>2])>>31,n=0;u=h,h=b,b=f,f=c,c=l,l=d,d=o,o=v,v=a,a=m,m=p,y=(p=n<<2)+i|0,p=Ut[e+p>>2],_=ke(u,u>>31,w,E),g=Qt,k=_,_=ke(s,s>>31,R,A),s=Qt+g|0,s=(k=k+_|0)>>>0<_>>>0?s+1|0:s,_=ke(h,h>>31,S,T),s=Qt+s|0,s=(g=_+k|0)>>>0<_>>>0?s+1|0:s,_=ke(b,b>>31,P,C),s=Qt+s|0,s=(g=_+g|0)>>>0<_>>>0?s+1|0:s,_=ke(f,f>>31,D,M),s=Qt+s|0,s=(g=_+g|0)>>>0<_>>>0?s+1|0:s,_=ke(c,c>>31,B,F),s=Qt+s|0,s=(g=_+g|0)>>>0<_>>>0?s+1|0:s,_=ke(l,l>>31,L,H),s=Qt+s|0,s=(g=_+g|0)>>>0<_>>>0?s+1|0:s,_=ke(d,d>>31,U,x),s=Qt+s|0,s=(g=_+g|0)>>>0<_>>>0?s+1|0:s,_=ke(o,o>>31,q,V),s=Qt+s|0,s=(g=_+g|0)>>>0<_>>>0?s+1|0:s,_=ke(v,v>>31,K,j),s=Qt+s|0,s=(g=_+g|0)>>>0<_>>>0?s+1|0:s,_=ke(a,a>>31,O,X),s=Qt+s|0,s=(g=_+g|0)>>>0<_>>>0?s+1|0:s,_=ke(m,m>>31,N,I),s=Qt+s|0,_=s=(g=_+g|0)>>>0<_>>>0?s+1|0:s,k=31&(s=r),Ut[y>>2]=p-(32<=(63&s)>>>0?_>>k:((1<<k)-1&_)<<32-k|g>>>k),s=u,(0|(n=n+1|0))!=(0|t););}else if(10!=(0|a)){if(!((0|t)<1))for(b=Ut[e+-4>>2],m=Ut[e+-8>>2],a=Ut[e+-12>>2],v=Ut[e+-16>>2],o=Ut[e+-20>>2],d=Ut[e+-24>>2],l=Ut[e+-28>>2],c=Ut[e+-32>>2],h=Ut[e+-36>>2],L=(x=f=Ut[n>>2])>>31,B=(H=f=Ut[n+4>>2])>>31,D=(F=f=Ut[n+8>>2])>>31,P=(M=f=Ut[n+12>>2])>>31,S=(C=f=Ut[n+16>>2])>>31,w=(T=f=Ut[n+20>>2])>>31,R=(E=f=Ut[n+24>>2])>>31,y=(A=f=Ut[n+28>>2])>>31,g=(k=n=Ut[n+32>>2])>>31,n=0;f=c,c=l,l=d,d=o,o=v,v=a,a=m,m=b,_=(s=n<<2)+i|0,b=Ut[e+s>>2],u=ke(f,f>>31,A,y),s=Qt,h=ke(h,h>>31,k,g),s=Qt+s|0,s=(u=h+u|0)>>>0<h>>>0?s+1|0:s,h=ke(c,c>>31,E,R),s=Qt+s|0,s=(u=h+u|0)>>>0<h>>>0?s+1|0:s,h=ke(l,l>>31,T,w),s=Qt+s|0,s=(u=h+u|0)>>>0<h>>>0?s+1|0:s,h=ke(d,d>>31,C,S),s=Qt+s|0,s=(u=h+u|0)>>>0<h>>>0?s+1|0:s,h=ke(o,o>>31,M,P),s=Qt+s|0,s=(u=h+u|0)>>>0<h>>>0?s+1|0:s,h=ke(v,v>>31,F,D),s=Qt+s|0,s=(u=h+u|0)>>>0<h>>>0?s+1|0:s,h=ke(a,a>>31,H,B),s=Qt+s|0,s=(u=h+u|0)>>>0<h>>>0?s+1|0:s,h=ke(m,m>>31,x,L),s=Qt+s|0,h=s=(u=h+u|0)>>>0<h>>>0?s+1|0:s,p=31&(s=r),Ut[_>>2]=b-(32<=(63&s)>>>0?h>>p:((1<<p)-1&h)<<32-p|u>>>p),h=f,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(h=Ut[e+-4>>2],m=Ut[e+-8>>2],a=Ut[e+-12>>2],v=Ut[e+-16>>2],o=Ut[e+-20>>2],d=Ut[e+-24>>2],l=Ut[e+-28>>2],c=Ut[e+-32>>2],f=Ut[e+-36>>2],u=Ut[e+-40>>2],V=(q=s=Ut[n>>2])>>31,x=(U=s=Ut[n+4>>2])>>31,H=(L=s=Ut[n+8>>2])>>31,F=(B=s=Ut[n+12>>2])>>31,M=(D=s=Ut[n+16>>2])>>31,C=(P=s=Ut[n+20>>2])>>31,T=(S=s=Ut[n+24>>2])>>31,E=(w=s=Ut[n+28>>2])>>31,A=(R=s=Ut[n+32>>2])>>31,k=(y=n=Ut[n+36>>2])>>31,n=0;b=f,f=c,c=l,l=d,d=o,o=v,v=a,a=m,m=h,g=(s=n<<2)+i|0,h=Ut[e+s>>2],p=ke(b,b>>31,R,A),s=Qt,u=ke(u,u>>31,y,k),s=Qt+s|0,s=(p=u+p|0)>>>0<u>>>0?s+1|0:s,u=ke(f,f>>31,w,E),s=Qt+s|0,s=(p=u+p|0)>>>0<u>>>0?s+1|0:s,u=ke(c,c>>31,S,T),s=Qt+s|0,s=(p=u+p|0)>>>0<u>>>0?s+1|0:s,u=ke(l,l>>31,P,C),s=Qt+s|0,s=(p=u+p|0)>>>0<u>>>0?s+1|0:s,u=ke(d,d>>31,D,M),s=Qt+s|0,s=(p=u+p|0)>>>0<u>>>0?s+1|0:s,u=ke(o,o>>31,B,F),s=Qt+s|0,s=(p=u+p|0)>>>0<u>>>0?s+1|0:s,u=ke(v,v>>31,L,H),s=Qt+s|0,s=(p=u+p|0)>>>0<u>>>0?s+1|0:s,u=ke(a,a>>31,U,x),s=Qt+s|0,s=(p=u+p|0)>>>0<u>>>0?s+1|0:s,u=ke(m,m>>31,q,V),s=Qt+s|0,u=s=(p=u+p|0)>>>0<u>>>0?s+1|0:s,_=31&(s=r),Ut[g>>2]=h-(32<=(63&s)>>>0?u>>_:((1<<_)-1&u)<<32-_|p>>>_),u=b,(0|(n=n+1|0))!=(0|t););}else if(5<=a>>>0){if(7<=a>>>0){if(8!=(0|a)){if(!((0|t)<1))for(c=Ut[e+-4>>2],m=Ut[e+-8>>2],a=Ut[e+-12>>2],v=Ut[e+-16>>2],o=Ut[e+-20>>2],d=Ut[e+-24>>2],f=Ut[e+-28>>2],P=(M=l=Ut[n>>2])>>31,S=(C=l=Ut[n+4>>2])>>31,w=(T=l=Ut[n+8>>2])>>31,R=(E=l=Ut[n+12>>2])>>31,y=(A=l=Ut[n+16>>2])>>31,g=(k=l=Ut[n+20>>2])>>31,p=(_=n=Ut[n+24>>2])>>31,n=0;l=d,d=o,o=v,v=a,a=m,m=c,u=(c=n<<2)+i|0,c=Ut[e+c>>2],b=ke(l,l>>31,k,g),s=Qt,f=ke(f,f>>31,_,p),s=Qt+s|0,s=(b=f+b|0)>>>0<f>>>0?s+1|0:s,f=ke(d,d>>31,A,y),s=Qt+s|0,s=(b=f+b|0)>>>0<f>>>0?s+1|0:s,f=ke(o,o>>31,E,R),s=Qt+s|0,s=(b=f+b|0)>>>0<f>>>0?s+1|0:s,f=ke(v,v>>31,T,w),s=Qt+s|0,s=(b=f+b|0)>>>0<f>>>0?s+1|0:s,f=ke(a,a>>31,C,S),s=Qt+s|0,s=(b=f+b|0)>>>0<f>>>0?s+1|0:s,f=ke(m,m>>31,M,P),s=Qt+s|0,s=(b=f+b|0)>>>0<f>>>0?s+1|0:s,h=31&r,Ut[u>>2]=c-(32<=(63&r)>>>0?s>>h:((1<<h)-1&s)<<32-h|b>>>h),f=l,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(f=Ut[e+-4>>2],m=Ut[e+-8>>2],a=Ut[e+-12>>2],v=Ut[e+-16>>2],o=Ut[e+-20>>2],d=Ut[e+-24>>2],l=Ut[e+-28>>2],b=Ut[e+-32>>2],F=(B=c=Ut[n>>2])>>31,M=(D=c=Ut[n+4>>2])>>31,C=(P=c=Ut[n+8>>2])>>31,T=(S=c=Ut[n+12>>2])>>31,E=(w=c=Ut[n+16>>2])>>31,A=(R=c=Ut[n+20>>2])>>31,k=(y=c=Ut[n+24>>2])>>31,_=(g=n=Ut[n+28>>2])>>31,n=0;c=l,l=d,d=o,o=v,v=a,a=m,m=f,p=(f=n<<2)+i|0,f=Ut[e+f>>2],h=ke(c,c>>31,y,k),s=Qt,b=ke(b,b>>31,g,_),s=Qt+s|0,s=(h=b+h|0)>>>0<b>>>0?s+1|0:s,b=ke(l,l>>31,R,A),s=Qt+s|0,s=(h=b+h|0)>>>0<b>>>0?s+1|0:s,b=ke(d,d>>31,w,E),s=Qt+s|0,s=(h=b+h|0)>>>0<b>>>0?s+1|0:s,b=ke(o,o>>31,S,T),s=Qt+s|0,s=(h=b+h|0)>>>0<b>>>0?s+1|0:s,b=ke(v,v>>31,P,C),s=Qt+s|0,s=(h=b+h|0)>>>0<b>>>0?s+1|0:s,b=ke(a,a>>31,D,M),s=Qt+s|0,s=(h=b+h|0)>>>0<b>>>0?s+1|0:s,b=ke(m,m>>31,B,F),s=Qt+s|0,b=s=(h=b+h|0)>>>0<b>>>0?s+1|0:s,u=31&(s=r),Ut[p>>2]=f-(32<=(63&s)>>>0?b>>u:((1<<u)-1&b)<<32-u|h>>>u),b=c,(0|(n=n+1|0))!=(0|t););}else if(6!=(0|a)){if(!((0|t)<1))for(d=Ut[e+-4>>2],m=Ut[e+-8>>2],a=Ut[e+-12>>2],v=Ut[e+-16>>2],l=Ut[e+-20>>2],E=(w=o=Ut[n>>2])>>31,A=(R=o=Ut[n+4>>2])>>31,k=(y=o=Ut[n+8>>2])>>31,_=(g=o=Ut[n+12>>2])>>31,u=(p=n=Ut[n+16>>2])>>31,n=0;o=v,v=a,a=m,m=d,h=(d=n<<2)+i|0,d=Ut[e+d>>2],f=ke(o,o>>31,g,_),c=Qt,l=ke(l,l>>31,p,u),s=Qt+c|0,s=(f=l+f|0)>>>0<l>>>0?s+1|0:s,l=ke(v,v>>31,y,k),s=Qt+s|0,s=(c=l+f|0)>>>0<l>>>0?s+1|0:s,l=ke(a,a>>31,R,A),s=Qt+s|0,s=(c=l+c|0)>>>0<l>>>0?s+1|0:s,l=ke(m,m>>31,w,E),s=Qt+s|0,s=(c=l+c|0)>>>0<l>>>0?s+1|0:s,f=31&r,Ut[h>>2]=d-(32<=(63&r)>>>0?s>>f:((1<<f)-1&s)<<32-f|c>>>f),l=o,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(l=Ut[e+-4>>2],m=Ut[e+-8>>2],a=Ut[e+-12>>2],v=Ut[e+-16>>2],o=Ut[e+-20>>2],c=Ut[e+-24>>2],T=(S=d=Ut[n>>2])>>31,E=(w=d=Ut[n+4>>2])>>31,A=(R=d=Ut[n+8>>2])>>31,k=(y=d=Ut[n+12>>2])>>31,_=(g=d=Ut[n+16>>2])>>31,u=(p=n=Ut[n+20>>2])>>31,n=0;d=o,o=v,v=a,a=m,m=l,h=(l=n<<2)+i|0,l=Ut[e+l>>2],s=ke(d,d>>31,g,_),f=Qt,C=(c=ke(c,c>>31,p,u))+s|0,s=Qt+f|0,s=C>>>0<c>>>0?s+1|0:s,c=ke(o,o>>31,y,k),s=Qt+s|0,s=(f=c+C|0)>>>0<c>>>0?s+1|0:s,c=ke(v,v>>31,R,A),s=Qt+s|0,s=(f=c+f|0)>>>0<c>>>0?s+1|0:s,c=ke(a,a>>31,w,E),s=Qt+s|0,s=(f=c+f|0)>>>0<c>>>0?s+1|0:s,c=ke(m,m>>31,S,T),s=Qt+s|0,s=(f=c+f|0)>>>0<c>>>0?s+1|0:s,b=31&r,Ut[h>>2]=l-(32<=(63&r)>>>0?s>>b:((1<<b)-1&s)<<32-b|f>>>b),c=d,(0|(n=n+1|0))!=(0|t););}else if(3<=a>>>0){if(4!=(0|a)){if(!((0|t)<1))for(v=Ut[e+-4>>2],m=Ut[e+-8>>2],o=Ut[e+-12>>2],_=(g=a=Ut[n>>2])>>31,u=(p=a=Ut[n+4>>2])>>31,b=(h=n=Ut[n+8>>2])>>31,n=0;a=m,m=v,f=(v=n<<2)+i|0,c=v=Ut[e+v>>2],l=ke(a,a>>31,p,u),d=Qt,o=ke(o,o>>31,h,b),s=Qt+d|0,s=(l=o+l|0)>>>0<o>>>0?s+1|0:s,o=ke(m,m>>31,g,_),s=Qt+s|0,s=(d=o+l|0)>>>0<o>>>0?s+1|0:s,l=31&(o=r),Ut[f>>2]=c-(32<=(63&o)>>>0?s>>l:((1<<l)-1&s)<<32-l|d>>>l),o=a,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(o=Ut[e+-4>>2],m=Ut[e+-8>>2],a=Ut[e+-12>>2],d=Ut[e+-16>>2],y=(A=v=Ut[n>>2])>>31,g=(k=v=Ut[n+4>>2])>>31,p=(_=v=Ut[n+8>>2])>>31,h=(u=n=Ut[n+12>>2])>>31,n=0;v=a,a=m,m=o,b=(o=n<<2)+i|0,o=Ut[e+o>>2],c=ke(v,v>>31,_,p),l=Qt,d=ke(d,d>>31,u,h),s=Qt+l|0,s=(c=d+c|0)>>>0<d>>>0?s+1|0:s,d=ke(a,a>>31,k,g),s=Qt+s|0,s=(l=d+c|0)>>>0<d>>>0?s+1|0:s,d=ke(m,m>>31,A,y),s=Qt+s|0,s=(l=d+l|0)>>>0<d>>>0?s+1|0:s,c=31&r,Ut[b>>2]=o-(32<=(63&r)>>>0?s>>c:((1<<c)-1&s)<<32-c|l>>>c),d=v,(0|(n=n+1|0))!=(0|t););}else if(2!=(0|a)){if(!((0|t)<1))for(m=Ut[e+-4>>2],l=(c=n=Ut[n>>2])>>31,n=0;s=(a=n<<2)+i|0,v=Ut[e+a>>2],m=ke(m,m>>31,c,l),o=Qt,d=31&(a=r),Ut[s>>2]=v-(32<=(63&a)>>>0?o>>d:((1<<d)-1&o)<<32-d|m>>>d),m=v,(0|(n=n+1|0))!=(0|t););}else if(!((0|t)<1))for(a=Ut[e+-4>>2],v=Ut[e+-8>>2],h=(u=m=Ut[n>>2])>>31,f=(b=n=Ut[n+4>>2])>>31,n=0;m=a,c=(a=n<<2)+i|0,a=Ut[e+a>>2],d=ke(m,m>>31,u,h),o=Qt,v=ke(v,v>>31,b,f),s=Qt+o|0,s=(d=v+d|0)>>>0<v>>>0?s+1|0:s,o=d,d=31&r,Ut[c>>2]=a-(32<=(63&r)>>>0?s>>d:((1<<d)-1&s)<<32-d|o>>>d),v=m,(0|(n=n+1|0))!=(0|t););},Vt[14]=function(e,t,n){e|=0,t|=0,n|=0;var a,r,i=0,s=0,o=0,l=0,c=0,u=0,f=0,d=0,p=(Gt(0),0),_=0,m=0,h=0,b=0,v=0,g=0,k=0,A=0,y=0;if(Gt(0),t)for(y=(m=(l=(o=Ut[e+-4>>2])-(u=Ut[e+-8>>2])|0)+((f=Ut[e+-12>>2])-u|0)|0)+(((f<<1)-u|0)-Ut[e+-16>>2]|0)|0,u=f=0;s=(i=Ut[(A<<2)+e>>2])>>31,(c=(s^=i+s)+k|0)>>>0<s>>>0&&(g=g+1|0),k=c,c=(s=i-o|0)>>31,(o=(c^=s+c)+v|0)>>>0<c>>>0&&(h=h+1|0),v=o,o=(c=s-l|0)>>31,(l=(o^=o+c)+b|0)>>>0<o>>>0&&(d=d+1|0),b=l,o=(m=c-m|0)>>31,(l=(o^=o+m)+p|0)>>>0<o>>>0&&(u=u+1|0),p=l,o=(l=m-y|0)>>31,(l=(o^=o+l)+_|0)>>>0<o>>>0&&(f=f+1|0),_=l,o=i,l=s,y=m,m=c,(0|(A=A+1|0))!=(0|t););return s=(i=(0|d)==(0|h)&v>>>0<b>>>0|h>>>0<d>>>0)?v:b,c=(s=(0|u)==(0|(i=i?h:d))&(e=s)>>>0<p>>>0|i>>>0<u>>>0)?e:p,((e=0)|(i=(s=(0|f)==(0|(i=s?i:u))&c>>>0<_>>>0|i>>>0<f>>>0)?i:f))==(0|g)&k>>>0<(c=s?c:_)>>>0|g>>>0<i>>>0||(s=(i=(0|u)==(0|d)&b>>>0<p>>>0|d>>>0<u>>>0)?b:p,c=(s=(0|f)==(0|(i=i?d:u))&(e=s)>>>0<_>>>0|i>>>0<f>>>0)?e:_,e=1,(0|(i=s?i:f))==(0|h)&v>>>0<c>>>0|h>>>0<i>>>0)||(e=(0|(e=(i=e=(0|u)==(0|f)&p>>>0<_>>>0|u>>>0<f>>>0)?u:f))==(0|d)&b>>>0<(s=i?p:_)>>>0|d>>>0<e>>>0?2:i?3:4),l=n,r=Gt(g|k?Me(.6931471805599453*((k>>>0)+4294967296*(g>>>0))/(t>>>0))/.6931471805599453:0),jt[l>>2]=r,l=n,r=Gt(h|v?Me(.6931471805599453*((v>>>0)+4294967296*(h>>>0))/(t>>>0))/.6931471805599453:0),jt[l+4>>2]=r,l=n,r=Gt(d|b?Me(.6931471805599453*((b>>>0)+4294967296*(d>>>0))/(t>>>0))/.6931471805599453:0),jt[l+8>>2]=r,l=n,r=Gt(u|p?Me(.6931471805599453*((p>>>0)+4294967296*(u>>>0))/(t>>>0))/.6931471805599453:0),jt[l+12>>2]=r,f|_?(r=n,a=Gt(Me(.6931471805599453*((_>>>0)+4294967296*(f>>>0))/(t>>>0))/.6931471805599453),jt[r+16>>2]=a,0|e):(jt[n+16>>2]=0)|e},Vt[15]=function(e,t,n){e|=0,t|=0,n|=0;var a,r,i,s,o,l=0,c=(Gt(0),0),u=0,f=0,d=0,p=0,_=0,m=0,h=0,b=0,v=0;if(Gt(0),t)for(v=(f=(p=(l=Ut[e+-4>>2])-(r=Ut[e+-8>>2])|0)+((a=Ut[e+-12>>2])-r|0)|0)+(((a<<1)-r|0)-Ut[e+-16>>2]|0)|0;m=((a=(r=Ut[(h<<2)+e>>2])>>31)^a+r)+m|0,_=((i=(a=r-l|0)>>31)^a+i)+_|0,d=((l=(i=a-p|0)>>31)^l+i)+d|0,c=((l=(f=i-f|0)>>31)^l+f)+c|0,u=((l=(p=f-v|0)>>31)^l+p)+u|0,l=r,p=a,v=f,f=i,(0|(h=h+1|0))!=(0|t););return m>>>0<((e=(e=_>>>0<d>>>0?_:d)>>>0<c>>>0?e:c)>>>0<u>>>0?e:u)>>>0||(b=1,_>>>0<((e=d>>>0<c>>>0?d:c)>>>0<u>>>0?e:u)>>>0)||(b=d>>>0<((e=c>>>0<u>>>0)?c:u)>>>0?2:e?3:4),e=n,o=Gt(m?Me(.6931471805599453*(m>>>0)/(t>>>0))/.6931471805599453:0),jt[e>>2]=o,e=n,o=Gt(_?Me(.6931471805599453*(_>>>0)/(t>>>0))/.6931471805599453:0),jt[e+4>>2]=o,e=n,o=Gt(d?Me(.6931471805599453*(d>>>0)/(t>>>0))/.6931471805599453:0),jt[e+8>>2]=o,e=n,o=Gt(c?Me(.6931471805599453*(c>>>0)/(t>>>0))/.6931471805599453:0),jt[e+12>>2]=o,u?(o=n,s=Gt(Me(.6931471805599453*(u>>>0)/(t>>>0))/.6931471805599453),jt[o+16>>2]=s,0|b):(jt[n+16>>2]=0)|b},Vt[16]=function(e,t,n,a,r,i,s){e|=0,t|=0,r|=0;var o,l=0,c=0,u=0,f=0,d=0,p=0,_=1<(d=1<<(i|=0))>>>0?d:1,c=0-(a|=0)|0,u=(o=(n|=0)+a>>>i|0)-a|0;if(4+(s|=0)>>>0<33+(-32^me(o))>>>0)for(s=0;;){if(l>>>(a=0)<(c=c+o|0)>>>0){for(;a=((f=(n=Ut[(l<<2)+e>>2])>>31)^n+f)+a|0,(l=l+1|0)>>>0<c>>>0;);l=u}if(Ut[(n=(s<<3)+t|0)>>2]=a,u=u+o|(Ut[n+4>>2]=0),(0|_)==(0|(s=s+1|0)))break}else for(n=0;;){if(l>>>(a=p=0)<(c=c+o|0)>>>0){for(;f=(s=Ut[(l<<2)+e>>2])>>31,(s=(f^=s+f)+p|0)>>>0<f>>>0&&(a=a+1|0),p=s,(l=l+1|0)>>>0<c>>>0;);l=u}if(Ut[(s=(n<<3)+t|0)>>2]=p,Ut[s+4>>2]=a,u=u+o|0,(0|_)==(0|(n=n+1|0)))break}if((0|r)<(0|i))for(l=0,e=d;;){if(i=i+-1|0,e=e>>>1|(c=0))for(;n=Ut[8+(a=(l<<3)+t|0)>>2],u=Ut[a+12>>2]+Ut[a+4>>2]|0,(n=(a=Ut[a>>2])+n|0)>>>0<a>>>0&&(u=u+1|0),Ut[(s=(d<<3)+t|0)>>2]=n,Ut[s+4>>2]=u,l=l+2|0,d=d+1|0,(0|(c=c+1|0))!=(0|e););if(!((0|r)<(0|i)))break}},Vt[17]=function(e,t,n,a){e|=0,t|=0,n|=0,a|=0;var r,i,s=0,o=0,l=0,c=Gt(0),l=t-n|0;if(n)for(i=Jt(a,n<<2);;){for(c=jt[(s<<2)+e>>2],o=0;jt[(r=(o<<2)+i|0)>>2]=jt[r>>2]+Gt(c*jt[(s+o<<2)+e>>2]),(0|(o=o+1|0))!=(0|n););if(!((s=s+1|0)>>>0<=l>>>0))break}else for(;(s=s+1|0)>>>0<=l>>>0;);if(s>>>0<t>>>0)for(;;){if(n=t-s|0)for(c=jt[(s<<2)+e>>2],o=0;jt[(l=(o<<2)+a|0)>>2]=jt[l>>2]+Gt(c*jt[(s+o<<2)+e>>2]),(o=o+1|0)>>>0<n>>>0;);if((0|(s=s+1|0))==(0|t))break}},Vt[18]=function(e,t,n,a){e|=0,t|=0,n|=0;var r=0,i=Ut[4+(a|=0)>>2];return Ut[i+11760>>2]?(Ut[n>>2]=4,e=Xt[5409]|Xt[5410]<<8|(Xt[5411]<<16|Xt[5412]<<24),_e[0|t]=e,_e[t+1|0]=e>>>8,_e[t+2|0]=e>>>16,_e[t+3|0]=e>>>24,Ut[Ut[a+4>>2]+11760>>2]=0):(e=Ut[i+11812>>2])?(e>>>0<(r=Ut[n>>2])>>>0&&(r=Ut[n>>2]=e),he(t,Ut[i+11804>>2],r),e=Ut[a+4>>2],r=Ut[(a=t=e+11804|0)>>2],t=Ut[n>>2],Ut[a>>2]=r+t,Ut[(e=e+11812|0)>>2]=Ut[e>>2]-t,0):2},Vt[19]=function(e,t,n,a){e|=0,n|=0;var r,i,s=0,o=0,l=0,c=0,u=0,f=Ut[(t|=0)>>2],d=Ut[4+(a|=0)>>2];if(e=Ut[t+8>>2]){for(s=f<<2;;){if(Se(c=Ut[(l=o<<2)+n>>2],u=Ut[11764+(d+l|0)>>2],s)){s=0;e:{if(f)for(e=0;;){if((0|(l=Ut[(n=e<<2)+c>>2]))!=(0|(n=Ut[n+u>>2]))){s=e;break e}if((0|f)==(0|(e=e+1|0)))break}l=n=0}return c=Ut[t+28>>2],(r=(e=s)+Ut[t+24>>2]|0)>>>0<e>>>0&&(c=c+1|0),Ut[(u=d+11816|0)>>2]=r,Ut[u+4>>2]=c,e=Ut[t+28>>2],t=Ut[t+24>>2],Ut[d+11840>>2]=l,Ut[d+11836>>2]=n,Ut[d+11832>>2]=s,Ut[d+11828>>2]=o,r=d+11824|0,i=Dt(t,e,f),Ut[r>>2]=i,Ut[Ut[a>>2]>>2]=4,1}if((0|e)==(0|(o=o+1|0)))break}if(t=Ut[(n=d+11800|0)>>2]-f|0,Ut[n>>2]=t,e&&(L(s=n=Ut[d+11764>>2],s+(n=f<<2)|0,t<<2),(o=1)!=(0|e)))for(;t=Ut[a+4>>2],L(s=Ut[11764+(t+(o<<2)|0)>>2],n+s|0,Ut[t+11800>>2]<<2),(0|e)!=(0|(o=o+1|0)););}else Ut[(e=d+11800|0)>>2]=Ut[e>>2]-f;return 0},Vt[20]=function(e,t,n){},Vt[21]=function(e,t,n){Ut[Ut[(n|=0)>>2]>>2]=3},{__wasm_call_ctors:function(){},FLAC__stream_decoder_new:u0,FLAC__stream_decoder_delete:Fe,FLAC__stream_decoder_finish:De,FLAC__stream_decoder_init_stream:f0,FLAC__stream_decoder_reset:Le,FLAC__stream_decoder_init_ogg_stream:function(e,t,n,a,r,i,s,o,l,c){return 0|xe(e|=0,t|=0,n|=0,a|=0,r|=0,i|=0,s|=0,o|=0,l|=0,c|=0,1)},FLAC__stream_decoder_set_ogg_serial_number:function(e,t){return t|=0,e=Ut[(e|=0)>>2],0|(9==Ut[e>>2]?(Ut[4+(e=e+32|0)>>2]=t,Ut[e>>2]=0,1):0)},FLAC__stream_decoder_set_md5_checking:function(e,t){return t|=0,e=Ut[(e|=0)>>2],0|(9==Ut[e>>2]?(Ut[e+28>>2]=t,1):0)},FLAC__stream_decoder_set_metadata_respond:function(e,t){var n=0;return 9!=Ut[Ut[(e|=0)>>2]>>2]|126<(t|=0)>>>0||(e=Ut[e+4>>2],Ut[608+(e+(t<<2)|0)>>2]=n=1,2==(0|t)&&(Ut[e+1124>>2]=0)),0|n},FLAC__stream_decoder_set_metadata_respond_application:function(e,t){t|=0;var n=0,a=0,r=0,n=0;if(9==Ut[Ut[(e|=0)>>2]>>2]&&(a=Ut[e+4>>2],n=1,!Ut[a+616>>2])){n=Ut[a+1120>>2];e:{if((0|(r=Ut[a+1124>>2]))!=Ut[a+1128>>2])a=n;else{t:{if(r){if(r>>>0<=r+r>>>0){if(a=A(n,r<<1))break t;e0(n),a=Ut[e+4>>2]}Ut[a+1120>>2]=0;break e}a=A(n,0)}if(n=Ut[e+4>>2],!(Ut[n+1120>>2]=a))break e;Ut[n+1128>>2]=Ut[n+1128>>2]<<1,r=Ut[n+1124>>2]}return n=a,a=Ut[1364]>>>3|0,he(n+Wt(a,r)|0,t,a),e=Ut[e+4>>2],Ut[e+1124>>2]=Ut[e+1124>>2]+1,1}Ut[Ut[e>>2]>>2]=8,n=0}return 0|n},FLAC__stream_decoder_set_metadata_respond_all:function(e){var t;if(9==Ut[Ut[(e|=0)>>2]>>2]){for(t=Ut[e+4>>2],e=0;128!=(0|(e=e+(Ut[608+(t+(e<<2)|0)>>2]=1)|0)););Ut[t+1124>>2]=0,e=1}else e=0;return 0|e},FLAC__stream_decoder_set_metadata_ignore:function(e,t){var n=0;return 9!=Ut[Ut[(e|=0)>>2]>>2]|126<(t|=0)>>>0||(e=Ut[e+4>>2],n=1,2==((Ut[608+(e+(t<<2)|0)>>2]=0)|t)&&(Ut[e+1124>>2]=0)),0|n},FLAC__stream_decoder_set_metadata_ignore_application:function(e,t){t|=0;var n=0,a=0,r=0;if(9==Ut[Ut[(e|=0)>>2]>>2]){if(n=Ut[e+4>>2],!Ut[n+616>>2])return 1;a=Ut[n+1120>>2];e:{if((0|(r=Ut[n+1124>>2]))!=Ut[n+1128>>2])n=a;else{t:{if(r){if(r>>>0<=r+r>>>0){if(n=A(a,r<<1))break t;e0(a),n=Ut[e+4>>2]}Ut[n+1120>>2]=0;break e}n=A(a,0)}if(a=Ut[e+4>>2],!(Ut[a+1120>>2]=n))break e;Ut[a+1128>>2]=Ut[a+1128>>2]<<1,r=Ut[a+1124>>2]}return a=n,n=Ut[1364]>>>3|0,he(a+Wt(n,r)|0,t,n),e=Ut[e+4>>2],Ut[e+1124>>2]=Ut[e+1124>>2]+1,1}Ut[Ut[e>>2]>>2]=8}return 0},FLAC__stream_decoder_set_metadata_ignore_all:function(e){return 0|(9==Ut[Ut[(e|=0)>>2]>>2]?(Jt(Ut[e+4>>2]+608|0,512),Ut[Ut[e+4>>2]+1124>>2]=0,1):0)},FLAC__stream_decoder_get_state:Ie,FLAC__stream_decoder_get_md5_checking:function(e){return Ut[Ut[(e|=0)>>2]+28>>2]},FLAC__stream_decoder_process_single:Ne,FLAC__stream_decoder_process_until_end_of_metadata:function(e){e|=0;var t=0,n=0;e:{t:{for(;;){n:{switch(t=1,Ut[Ut[e>>2]>>2]){case 0:if(Oe(e))continue;break n;case 2:case 3:case 4:case 7:break t;case 1:break;default:break e}if(He(e))continue}break}t=0}n=t}return 0|n},FLAC__stream_decoder_process_until_end_of_stream:function(e){e|=0;var t,n=0,a=0;Zt=t=Zt-16|0,n=1;e:{t:{for(;;){n:{switch(Ut[Ut[e>>2]>>2]){case 0:if(Oe(e))continue;break n;case 1:if(He(e))continue;break n;case 2:if(qe(e))continue;break t;case 4:case 7:break t;case 3:break;default:break e}if(Ve(e,12+t|0))continue}break}n=0}a=n}return Zt=16+t|0,0|a},FLAC__stream_encoder_new:function(){var e,t,n,a=0;if(n=B(1,8)){if(a=B(1,1032),Ut[n>>2]=a)if(t=B(1,11856),Ut[n+4>>2]=t){if(a=B(1,20),t=Ut[n+4>>2],Ut[t+6856>>2]=a)return Ut[t+7296>>2]=0,a=Ut[n>>2],Ut[a+44>>2]=13,Ut[a+48>>2]=1056964608,Ut[a+36>>2]=0,Ut[a+40>>2]=1,Ut[a+28>>2]=16,Ut[a+32>>2]=44100,Ut[a+20>>2]=0,Ut[a+24>>2]=2,Ut[a+12>>2]=1,Ut[a+16>>2]=0,Ut[a+4>>2]=0,Ut[a+8>>2]=1,a=Ut[n>>2],Ut[a+592>>2]=0,Ut[a+596>>2]=0,Ut[a+556>>2]=0,Ut[a+560>>2]=0,Ut[a+564>>2]=0,Ut[a+568>>2]=0,Ut[a+572>>2]=0,Ut[a+576>>2]=0,Ut[a+580>>2]=0,Ut[a+584>>2]=0,Ut[a+600>>2]=0,Ut[a+604>>2]=0,t=Ut[n+4>>2],Ut[(e=t)+7248>>2]=0,Ut[e+7252>>2]=0,Ut[e+7048>>2]=0,Ut[(e=e+7256|0)>>2]=0,Ut[4+e>>2]=0,Ut[(e=t+7264|0)>>2]=0,Ut[4+e>>2]=0,Ut[(e=t+7272|0)>>2]=0,Ut[4+e>>2]=0,Ut[(e=t+7280|0)>>2]=0,Ut[4+e>>2]=0,Ut[t+7288>>2]=0,Je(a+632|0),a=Ut[n>>2],1==Ut[a>>2]&&(Ut[a+16>>2]=1,Ut[a+20>>2]=0,Et(n,10777),a=Ut[n>>2],1==Ut[a>>2])&&(Ut[a+576>>2]=0,Ut[a+580>>2]=5,Ut[a+564>>2]=0,Ut[a+568>>2]=0,Ut[a+556>>2]=8,Ut[a+560>>2]=0),a=Ut[n+4>>2],Ut[a+11848>>2]=0,Ut[a+6176>>2]=a+336,a=Ut[n+4>>2],Ut[a+6180>>2]=a+628,a=Ut[n+4>>2],Ut[a+6184>>2]=a+920,a=Ut[n+4>>2],Ut[a+6188>>2]=a+1212,a=Ut[n+4>>2],Ut[a+6192>>2]=a+1504,a=Ut[n+4>>2],Ut[a+6196>>2]=a+1796,a=Ut[n+4>>2],Ut[a+6200>>2]=a+2088,a=Ut[n+4>>2],Ut[a+6204>>2]=a+2380,a=Ut[n+4>>2],Ut[a+6208>>2]=a+2672,a=Ut[n+4>>2],Ut[a+6212>>2]=a+2964,a=Ut[n+4>>2],Ut[a+6216>>2]=a+3256,a=Ut[n+4>>2],Ut[a+6220>>2]=a+3548,a=Ut[n+4>>2],Ut[a+6224>>2]=a+3840,a=Ut[n+4>>2],Ut[a+6228>>2]=a+4132,a=Ut[n+4>>2],Ut[a+6232>>2]=a+4424,a=Ut[n+4>>2],Ut[a+6236>>2]=a+4716,a=Ut[n+4>>2],Ut[a+6240>>2]=a+5008,a=Ut[n+4>>2],Ut[a+6244>>2]=a+5300,a=Ut[n+4>>2],Ut[a+6248>>2]=a+5592,a=Ut[n+4>>2],Ut[a+6252>>2]=a+5884,a=Ut[n+4>>2],Ut[a+6640>>2]=a+6256,a=Ut[n+4>>2],Ut[a+6644>>2]=a+6268,a=Ut[n+4>>2],Ut[a+6648>>2]=a+6280,a=Ut[n+4>>2],Ut[a+6652>>2]=a+6292,a=Ut[n+4>>2],Ut[a+6656>>2]=a+6304,a=Ut[n+4>>2],Ut[a+6660>>2]=a+6316,a=Ut[n+4>>2],Ut[a+6664>>2]=a+6328,a=Ut[n+4>>2],Ut[a+6668>>2]=a+6340,a=Ut[n+4>>2],Ut[a+6672>>2]=a+6352,a=Ut[n+4>>2],Ut[a+6676>>2]=a+6364,a=Ut[n+4>>2],Ut[a+6680>>2]=a+6376,a=Ut[n+4>>2],Ut[a+6684>>2]=a+6388,a=Ut[n+4>>2],Ut[a+6688>>2]=a+6400,a=Ut[n+4>>2],Ut[a+6692>>2]=a+6412,a=Ut[n+4>>2],Ut[a+6696>>2]=a+6424,a=Ut[n+4>>2],Ut[a+6700>>2]=a+6436,a=Ut[n+4>>2],Ut[a+6704>>2]=a+6448,a=Ut[n+4>>2],Ut[a+6708>>2]=a+6460,a=Ut[n+4>>2],Ut[a+6712>>2]=a+6472,a=Ut[n+4>>2],Ut[a+6716>>2]=a+6484,i(Ut[n+4>>2]+6256|0),i(Ut[n+4>>2]+6268|0),i(Ut[n+4>>2]+6280|0),i(Ut[n+4>>2]+6292|0),i(Ut[n+4>>2]+6304|0),i(Ut[n+4>>2]+6316|0),i(Ut[n+4>>2]+6328|0),i(Ut[n+4>>2]+6340|0),i(Ut[n+4>>2]+6352|0),i(Ut[n+4>>2]+6364|0),i(Ut[n+4>>2]+6376|0),i(Ut[n+4>>2]+6388|0),i(Ut[n+4>>2]+6400|0),i(Ut[n+4>>2]+6412|0),i(Ut[n+4>>2]+6424|0),i(Ut[n+4>>2]+6436|0),i(Ut[n+4>>2]+6448|0),i(Ut[n+4>>2]+6460|0),i(Ut[n+4>>2]+6472|0),i(Ut[n+4>>2]+6484|0),i(Ut[n+4>>2]+11724|0),i(Ut[n+4>>2]+11736|0),Ut[Ut[n>>2]>>2]=1,0|n;e0(t),e0(Ut[n>>2])}else e0(a);e0(n)}return 0},FLAC__stream_encoder_delete:function(e){var t,n=0;(e|=0)&&(Ut[Ut[e+4>>2]+11848>>2]=1,Rt(e),n=Ut[e+4>>2],(t=Ut[n+11752>>2])&&(Fe(t),n=Ut[e+4>>2]),r(n+6256|0),r(Ut[e+4>>2]+6268|0),r(Ut[e+4>>2]+6280|0),r(Ut[e+4>>2]+6292|0),r(Ut[e+4>>2]+6304|0),r(Ut[e+4>>2]+6316|0),r(Ut[e+4>>2]+6328|0),r(Ut[e+4>>2]+6340|0),r(Ut[e+4>>2]+6352|0),r(Ut[e+4>>2]+6364|0),r(Ut[e+4>>2]+6376|0),r(Ut[e+4>>2]+6388|0),r(Ut[e+4>>2]+6400|0),r(Ut[e+4>>2]+6412|0),r(Ut[e+4>>2]+6424|0),r(Ut[e+4>>2]+6436|0),r(Ut[e+4>>2]+6448|0),r(Ut[e+4>>2]+6460|0),r(Ut[e+4>>2]+6472|0),r(Ut[e+4>>2]+6484|0),r(Ut[e+4>>2]+11724|0),r(Ut[e+4>>2]+11736|0),I(Ut[Ut[e+4>>2]+6856>>2]),e0(Ut[e+4>>2]),e0(Ut[e>>2]),e0(e))},FLAC__stream_encoder_finish:Rt,FLAC__stream_encoder_init_stream:function(e,t,n,a,r,i){return 0|St(e|=0,0,t|=0,n|=0,a|=0,r|=0,i|=0,0)},FLAC__stream_encoder_init_ogg_stream:function(e,t,n,a,r,i,s){return 0|St(e|=0,t|=0,n|=0,a|=0,r|=0,i|=0,s|=0,1)},FLAC__stream_encoder_set_ogg_serial_number:function(e,t){return t|=0,e=Ut[(e|=0)>>2],0|(1==Ut[e>>2]?(Ut[e+632>>2]=t,1):0)},FLAC__stream_encoder_set_verify:function(e,t){return t|=0,e=Ut[(e|=0)>>2],0|(1==Ut[e>>2]?(Ut[e+4>>2]=t,1):0)},FLAC__stream_encoder_set_channels:function(e,t){return t|=0,e=Ut[(e|=0)>>2],0|(1==Ut[e>>2]?(Ut[e+24>>2]=t,1):0)},FLAC__stream_encoder_set_bits_per_sample:function(e,t){return t|=0,e=Ut[(e|=0)>>2],0|(1==Ut[e>>2]?(Ut[e+28>>2]=t,1):0)},FLAC__stream_encoder_set_sample_rate:function(e,t){return t|=0,e=Ut[(e|=0)>>2],0|(1==Ut[e>>2]?(Ut[e+32>>2]=t,1):0)},FLAC__stream_encoder_set_compression_level:function(e,t){t|=0;var n,a,r=Ut[(e|=0)>>2];return 1==Ut[r>>2]?(n=Wt(t>>>0<8?t:8,44),a=Ut[4+(t=n+11184|0)>>2],Ut[r+16>>2]=Ut[t>>2],Ut[r+20>>2]=a,r=Et(e,Ut[t+40>>2]),t=0,e=Ut[e>>2],e=1==Ut[e>>2]?(n=Ut[32+(t=n+11184|0)>>2],Ut[e+576>>2]=Ut[t+28>>2],Ut[e+580>>2]=n,Ut[e+568>>2]=Ut[t+24>>2],Ut[e+564>>2]=Ut[t+16>>2],n=Ut[t+12>>2],Ut[e+556>>2]=Ut[t+8>>2],Ut[e+560>>2]=n,t=1&r,1):0,e&=t):e=0,0|e},FLAC__stream_encoder_set_blocksize:function(e,t){return t|=0,e=Ut[(e|=0)>>2],0|(1==Ut[e>>2]?(Ut[e+36>>2]=t,1):0)},FLAC__stream_encoder_set_total_samples_estimate:function(e,t,n){return 0|(t|=0,n|=0,o=0,e=Ut[(e|=0)>>2],1==Ut[e>>2]?(r=e,i=t,s=31&(o=Ut[1363]),a=-1^(32<=(63&o)>>>0?(o=-1<<s,0):(o=(1<<s)-1&-1>>>32-s|-1<<s,-1<<s)),Ut[r+592>>2]=(t=(0|n)==(0|(s=-1^o))&t>>>0<a>>>0|n>>>0<s>>>0)?i:a,Ut[e+596>>2]=t?n:s,1):0);var a,r,i,s,o},FLAC__stream_encoder_set_metadata:function(e,t,n){t|=0,n|=0;var a,r=0,r=Ut[(e|=0)>>2];if(1==Ut[r>>2]){if((a=Ut[r+600>>2])&&(e0(a),r=Ut[e>>2],Ut[r+600>>2]=0,Ut[r+604>>2]=0),n=t?n:0){if(!(r=c0(4,n)))return 0;t=he(r,t,n<<2),r=Ut[e>>2],Ut[r+604>>2]=n,Ut[r+600>>2]=t}e=r+632|0,e=0!=(0|(n>>>Ut[1886]?0:(Ut[e+4>>2]=n,1)))}else e=0;return 0|e},FLAC__stream_encoder_get_state:Ie,FLAC__stream_encoder_get_verify_decoder_state:function(e){return Ut[Ut[(e|=0)>>2]+4>>2]?0|Ie(Ut[Ut[e+4>>2]+11752>>2]):9},FLAC__stream_encoder_get_verify:function(e){return Ut[Ut[(e|=0)>>2]+4>>2]},FLAC__stream_encoder_process:function(e,t,n){t|=0,n|=0;var a,r,i,s,o,l=0,c=0,u=0,f=0,d=0,p=0,_=0,m=0,u=Ut[(e|=0)>>2],h=(o=Ut[u+36>>2])+1|0,c=Ut[e+4>>2],b=Ut[u+24>>2],v=o<<2;e:{for(;;){if(f=(l=h-Ut[c+7052>>2]|0)>>>0<(f=n-d|0)>>>0?l:f,Ut[u+4>>2]){if(b)for(u=f<<2,l=0;he(Ut[11764+((p=l<<2)+c|0)>>2]+(Ut[c+11800>>2]<<2)|0,Ut[t+p>>2]+(d<<2)|0,u),(0|b)!=(0|(l=l+1|0)););Ut[(c=c+11800|0)>>2]=Ut[c>>2]+f}if(b)for(u=f<<2,l=c=0;;){if(!(m=Ut[(p=l<<2)+t>>2]))break e;if(_=p,p=Ut[e+4>>2],he(Ut[4+(_+p|0)>>2]+(Ut[p+7052>>2]<<2)|0,m+(d<<2)|0,u),(0|b)==(0|(l=l+1|0)))break}u=Ut[e>>2];t:if(Ut[u+16>>2]){if(c=Ut[e+4>>2],!(n>>>0<=d>>>0||o>>>0<(l=Ut[c+7052>>2])>>>0))for(p=Ut[c+40>>2],m=Ut[c+36>>2],i=Ut[t+4>>2],s=Ut[t>>2];;){if(Ut[(a=l<<2)+p>>2]=Ut[(r=(_=d<<2)+s|0)>>2]-Ut[(_=_+i|0)>>2],Ut[m+a>>2]=Ut[_>>2]+Ut[r>>2]>>1,n>>>0<=(d=d+1|0)>>>0)break t;if(!((l=l+1|0)>>>0<=o>>>0))break}}else d=d+f|0,c=Ut[e+4>>2];if(l=Ut[c+7052>>2]+f|0,o>>>0<(Ut[c+7052>>2]=l)>>>0){if(!Ct(e,c=0,0))break e;if(b)for(c=Ut[e+4>>2],l=0;f=Ut[4+(c+(l<<2)|0)>>2],Ut[f>>2]=Ut[f+v>>2],(0|b)!=(0|(l=l+1|0)););c=Ut[e+4>>2],u=Ut[e>>2],Ut[u+16>>2]&&(l=Ut[c+36>>2],Ut[l>>2]=Ut[l+v>>2],l=Ut[c+40>>2],Ut[l>>2]=Ut[l+v>>2]),Ut[c+7052>>2]=1}if(!(d>>>0<n>>>0))break}c=1}return 0|c},FLAC__stream_encoder_process_interleaved:function(e,t,n){t|=0,n|=0;var a,r,i=0,s=0,o=0,l=0,c=0,u=0,f=0,d=0,p=0,_=0,m=0,i=Ut[(e|=0)>>2],h=(r=Ut[i+36>>2])+1|0;e:{t:{if(a=Ut[i+24>>2],!(!Ut[i+16>>2]|2!=(0|a)))for(;;){if(s=Ut[e+4>>2],Ut[i+4>>2]){if(i=Ut[s+11800>>2],u=(o=h-Ut[s+7052>>2]|0)>>>0<(l=n-c|0)>>>0?o:l)if(a)for(o=c<<1,f=Ut[s+11768>>2],m=Ut[s+11764>>2],l=0;Ut[(p=i<<2)+m>>2]=Ut[(_=o<<2)+t>>2],Ut[f+p>>2]=Ut[(4|_)+t>>2],i=i+1|0,o=o+2|0,(0|u)!=(0|(l=l+1|0)););else i=i+u|0;Ut[s+11800>>2]=i}o=c>>>0<n>>>0;n:if(!(r>>>0<(i=Ut[s+7052>>2])>>>0|n>>>0<=c>>>0))for(f=Ut[s+40>>2],m=Ut[s+8>>2],p=Ut[s+36>>2],_=Ut[s+4>>2];;){if(l=Ut[(u=(d<<2)+t|0)>>2],Ut[(o=i<<2)+_>>2]=l,u=Ut[u+4>>2],Ut[o+m>>2]=u,Ut[o+f>>2]=l-u,Ut[o+p>>2]=l+u>>1,i=i+1|0,d=d+2|0,o=(c=c+1|0)>>>0<n>>>0,n>>>0<=c>>>0)break n;if(!(i>>>0<=r>>>0))break}if(r>>>0<(Ut[s+7052>>2]=i)>>>0){if(!Ct(e,i=0,0))break e;i=Ut[e+4>>2],l=Ut[i+4>>2],Ut[(s=l)>>2]=Ut[s+(l=r<<2)>>2],s=Ut[i+8>>2],Ut[s>>2]=Ut[s+l>>2],s=Ut[i+36>>2],Ut[s>>2]=Ut[s+l>>2],s=Ut[i+40>>2],Ut[s>>2]=Ut[s+l>>2],Ut[i+7052>>2]=1}if(!o)break t;i=Ut[e>>2]}for(;;){if(c=Ut[e+4>>2],Ut[i+4>>2]){if(l=Ut[c+11800>>2],u=(i=h-Ut[c+7052>>2]|0)>>>0<(o=n-s|0)>>>0?i:o)if(a)for(o=Wt(s,a),f=0;;){for(i=0;Ut[Ut[11764+(c+(i<<2)|0)>>2]+(l<<2)>>2]=Ut[(o<<2)+t>>2],o=o+1|0,(0|a)!=(0|(i=i+1|0)););if(l=l+1|0,(0|u)==(0|(f=f+1|0)))break}else l=l+u|0;Ut[c+11800>>2]=l}l=s>>>0<n>>>0;n:if(!(r>>>0<(o=Ut[c+7052>>2])>>>0|n>>>0<=s>>>0)){if(a)for(;;){for(i=0;Ut[Ut[4+(c+(i<<2)|0)>>2]+(o<<2)>>2]=Ut[(d<<2)+t>>2],d=d+1|0,(0|a)!=(0|(i=i+1|0)););if(o=o+1|0,l=(s=s+1|0)>>>0<n>>>0,n>>>0<=s>>>0)break n;if(!(o>>>0<=r>>>0))break n}for(;;){if(o=o+1|0,l=(s=s+1|0)>>>0<n>>>0,n>>>0<=s>>>0)break n;if(!(o>>>0<=r>>>0))break}}if(r>>>0<(Ut[c+7052>>2]=o)>>>0){if(!Ct(e,i=0,0))break e;if(o=Ut[e+4>>2],a)for(i=0;c=Ut[4+(o+(i<<2)|0)>>2],Ut[c>>2]=Ut[c+(r<<2)>>2],(0|a)!=(0|(i=i+1|0)););Ut[o+7052>>2]=1}if(!l)break t;i=Ut[e>>2]}}i=1}return 0|i},__errno_location:function(){return 11584},stackSave:function(){return 0|Zt},stackRestore:function(e){Zt=0|e},stackAlloc:function(e){return 0|(Zt=Zt-(0|e)&-16)},malloc:$t,free:e0,__growWasmMemory:function(e){return 0|(e=0|(e|=0),(n=0|xt())<(e=n+(e|=0)|0)&&e<65536&&(e=new ArrayBuffer(Wt(e,65536)),(t=new a.Int8Array(e)).set(_e),_e=t,_e=new a.Int8Array(e),k=new a.Int16Array(e),Ut=new a.Int32Array(e),Xt=new a.Uint8Array(e),E=new a.Uint16Array(e),Kt=new a.Uint32Array(e),jt=new a.Float32Array(e),zt=new a.Float64Array(e),c=e,u.buffer=e),n);var t,n},dynCall_iii:function(e,t,n){return 0|Vt[e|=0](t|=0,n|=0)},dynCall_ii:function(e,t){return 0|Vt[e|=0](t|=0)},dynCall_iiii:function(e,t,n,a){return 0|Vt[e|=0](t|=0,n|=0,a|=0)},dynCall_jiji:function(e,t,n,a,r){return e=0|Vt[e|=0](t|=0,n|=0,a|=0,r|=0),g(0|Qt),0|e},dynCall_viiiiii:function(e,t,n,a,r,i,s){Vt[e|=0](t|=0,n|=0,a|=0,r|=0,i|=0,s|=0)},dynCall_iiiii:function(e,t,n,a,r){return 0|Vt[e|=0](t|=0,n|=0,a|=0,r|=0)},dynCall_viiiiiii:function(e,t,n,a,r,i,s,o){Vt[e|=0](t|=0,n|=0,a|=0,r|=0,i|=0,s|=0,o|=0)},dynCall_viiii:function(e,t,n,a,r){Vt[e|=0](t|=0,n|=0,a|=0,r|=0)},dynCall_viii:function(e,t,n,a){Vt[e|=0](t|=0,n|=0,a|=0)}};function P(e){var t,n;return(e=(t=Ut[3544])+(n=e+3&-4)|0)>>>0<=t>>>0&&1<=(0|n)||e>>>0>xt()<<16>>>0&&!f(0|e)?(Ut[2896]=48,-1):(Ut[3544]=e,t)}function Jt(e,t){var n,a=0;if(t&&(_e[(a=e+t|0)-1|0]=0,!(t>>>(_e[0|e]=0)<3||(_e[a+-2|0]=0,_e[e+1|0]=0,_e[a+-3|0]=0,t>>>(_e[e+2|0]=0)<7)||(_e[a+-4|0]=0,t>>>(_e[e+3|0]=0)<9)||(Ut[(a=(n=0-e&3)+e|0)>>2]=0,(n=t-n&-4)>>>(Ut[(t=n+a|0)-4>>2]=0)<9)||(Ut[a+8>>2]=0,Ut[a+4>>2]=0,Ut[t+-8>>2]=0,n>>>(Ut[t+-12>>2]=0)<25)||(Ut[a+24>>2]=0,Ut[a+20>>2]=0,Ut[a+16>>2]=0,Ut[a+12>>2]=0,Ut[t+-16>>2]=0,Ut[t+-20>>2]=0,Ut[t+-24>>2]=0,Ut[t+-28>>2]=0,(t=(t=n)-(n=4&a|24)|0)>>>0<32))))for(a=a+n|0;Ut[a+24>>2]=0,Ut[a+28>>2]=0,Ut[a+16>>2]=0,Ut[a+20>>2]=0,Ut[a+8>>2]=0,Ut[a+12>>2]=0,Ut[a>>2]=0,a=a+32|(Ut[a+4>>2]=0),31<(t=t+-32|0)>>>0;);return e}function he(e,t,n){var a,r,i=0;if(512<=n>>>0)p(0|e,0|t,0|n);else{if(a=e+n|0,3&(e^t))if(a>>>0<4)n=e;else if((i=a-4|0)>>>0<e>>>0)n=e;else for(n=e;_e[0|n]=Xt[0|t],_e[n+1|0]=Xt[t+1|0],_e[n+2|0]=Xt[t+2|0],_e[n+3|0]=Xt[t+3|0],t=t+4|0,(n=n+4|0)>>>0<=i>>>0;);else{e:if((0|n)<1)n=e;else if(3&e)for(n=e;;){if(_e[0|n]=Xt[0|t],t=t+1|0,a>>>0<=(n=n+1|0)>>>0)break e;if(!(3&n))break}else n=e;if(!((i=-4&a)>>>0<64||(r=i+-64|0)>>>0<n>>>0))for(;Ut[n>>2]=Ut[t>>2],Ut[n+4>>2]=Ut[t+4>>2],Ut[n+8>>2]=Ut[t+8>>2],Ut[n+12>>2]=Ut[t+12>>2],Ut[n+16>>2]=Ut[t+16>>2],Ut[n+20>>2]=Ut[t+20>>2],Ut[n+24>>2]=Ut[t+24>>2],Ut[n+28>>2]=Ut[t+28>>2],Ut[n+32>>2]=Ut[t+32>>2],Ut[n+36>>2]=Ut[t+36>>2],Ut[n+40>>2]=Ut[t+40>>2],Ut[n+44>>2]=Ut[t+44>>2],Ut[n+48>>2]=Ut[t+48>>2],Ut[n+52>>2]=Ut[t+52>>2],Ut[n+56>>2]=Ut[t+56>>2],Ut[n+60>>2]=Ut[t+60>>2],t=t- -64|0,(n=n- -64|0)>>>0<=r>>>0;);if(!(i>>>0<=n>>>0))for(;Ut[n>>2]=Ut[t>>2],t=t+4|0,(n=n+4|0)>>>0<i>>>0;);}if(n>>>0<a>>>0)for(;_e[0|n]=Xt[0|t],t=t+1|0,(0|a)!=(0|(n=n+1|0)););}return e}function $t(e){var t,n=0,a=0,r=0,i=0,s=0,o=0,l=0,c=0,u=0,f=0,d=0;Zt=t=Zt-16|0;e:{t:{n:{a:{r:{i:{s:{o:{l:{c:{u:{if((e|=0)>>>0<=244){if(3&(n=(o=Ut[2897])>>>(e=(s=e>>>0<11?16:e+11&-8)>>>3|0)|0)){e=(n=Ut[11636+(s=(a=e+(1&(-1^n))|0)<<3)>>2])+8|0,(0|(r=Ut[n+8>>2]))==(0|(s=s+11628|0))?(d=a0(-2,a)&o,Ut[2897]=d):(Ut[r+12>>2]=s,Ut[s+8>>2]=r),Ut[n+4>>2]=3|(a<<=3),Ut[4+(n=n+a|0)>>2]=1|Ut[n+4>>2];break e}if(s>>>0<=(l=Ut[2899])>>>0)break u;if(n){a=n=(e=(0-(e=(0-(a=2<<e)|a)&n<<e)&e)-1|0)>>>12&16,n=Ut[11636+(r=(a=((a=(a|=n=(e=e>>>n|0)>>>5&8)|(n=(e=e>>>n|0)>>>2&4)|(n=(e=e>>>n|0)>>>1&2))|(n=(e=e>>>n|0)>>>1&1))+(e>>>n|0)|0)<<3)>>2],(0|(e=Ut[n+8>>2]))==(0|(r=r+11628|0))?(o=a0(-2,a)&o,Ut[2897]=o):(Ut[e+12>>2]=r,Ut[r+8>>2]=e),e=n+8|0,Ut[n+4>>2]=3|s,Ut[4+(i=n+s|0)>>2]=1|(r=(a<<=3)-s|0),Ut[n+a>>2]=r,l&&(n=11628+((s=l>>>3|0)<<3)|0,a=Ut[2902],s=(s=1<<s)&o?Ut[n+8>>2]:(Ut[2897]=s|o,n),Ut[n+8>>2]=a,Ut[s+12>>2]=a,Ut[a+12>>2]=n,Ut[a+8>>2]=s),Ut[2902]=i,Ut[2899]=r;break e}if(!(f=Ut[2898]))break u;for(a=n=(e=(f&0-f)-1|0)>>>12&16,n=Ut[11892+(((a=(a|=n=(e=e>>>n|0)>>>5&8)|(n=(e=e>>>n|0)>>>2&4)|(n=(e=e>>>n|0)>>>1&2))|(n=(e=e>>>n|0)>>>1&1))+(e>>>n|0)<<2)>>2],r=(-8&Ut[n+4>>2])-s|0,a=n;e=(e=Ut[a+16>>2])||Ut[a+20>>2];)r=(a=(i=(-8&Ut[e+4>>2])-s|0)>>>0<r>>>0)?i:r,n=a?e:n,a=e;if(u=Ut[n+24>>2],(0|(i=Ut[n+12>>2]))!=(0|n)){e=Ut[n+8>>2],Ut[e+12>>2]=i,Ut[i+8>>2]=e;break t}if(!(e=Ut[(a=n+20|0)>>2])){if(!(e=Ut[n+16>>2]))break c;a=n+16|0}for(;c=a,(e=Ut[(a=(i=e)+20|0)>>2])||(a=i+16|0,e=Ut[i+16>>2]););Ut[c>>2]=0;break t}if(s=-1,!(4294967231<e>>>0)&&(s=-8&(e=e+11|0),c=Ut[2898])){a=0-s|0,(e=e>>>8|(l=0))&&(l=31,16777215<s>>>0||(l=28+((e=((o=(n=e<<(r=e+1048320>>>16&8))<<(e=n+520192>>>16&4))<<(n=o+245760>>>16&2)>>>15|0)-(n|e|r)|0)<<1|s>>>e+21&1)|0));f:{d:{if(r=Ut[11892+(l<<2)>>2])for(n=s<<(31==(0|l)?0:25-(l>>>1|0)|0),e=0;;){if(!(a>>>0<=(o=(-8&Ut[r+4>>2])-s|0)>>>0||(i=r,a=o))){a=0,e=r;break d}if(o=Ut[r+20>>2],r=Ut[16+((n>>>29&4)+r|0)>>2],e=o&&(0|o)!=(0|r)?o:e,n<<=0!=(0|r),!r)break}else e=0;if(!(e|i)){if(!(e=(0-(e=2<<l)|e)&c))break u;r=n=(e=(e&0-e)-1|0)>>>12&16,e=Ut[11892+(((r=(r|=n=(e=e>>>n|0)>>>5&8)|(n=(e=e>>>n|0)>>>2&4)|(n=(e=e>>>n|0)>>>1&2))|(n=(e=e>>>n|0)>>>1&1))+(e>>>n|0)<<2)>>2]}if(!e)break f}for(;a=(n=(r=(-8&Ut[e+4>>2])-s|0)>>>0<a>>>0)?r:a,i=n?e:i,e=(n=Ut[e+16>>2])||Ut[e+20>>2];);}if(!(!i|a>>>0>=Ut[2899]-s>>>0)){if(l=Ut[i+24>>2],(0|i)!=(0|(n=Ut[i+12>>2]))){e=Ut[i+8>>2],Ut[e+12>>2]=n,Ut[n+8>>2]=e;break n}if(!(e=Ut[(r=i+20|0)>>2])){if(!(e=Ut[i+16>>2]))break l;r=i+16|0}for(;o=r,(e=Ut[(r=(n=e)+20|0)>>2])||(r=n+16|0,e=Ut[n+16>>2]););Ut[o>>2]=0;break n}}}if(s>>>0<=(n=Ut[2899])>>>0){e=Ut[2902],16<=(a=n-s|0)>>>0?(Ut[2899]=a,Ut[2902]=r=e+s|0,Ut[r+4>>2]=1|a,Ut[e+n>>2]=a,Ut[e+4>>2]=3|s):(Ut[2902]=0,Ut[2899]=0,Ut[e+4>>2]=3|n,Ut[4+(n=e+n|0)>>2]=1|Ut[n+4>>2]),e=e+8|0;break e}if(s>>>0<(n=Ut[2900])>>>0){Ut[2900]=n=n-s|0,e=Ut[2903],Ut[2903]=a=e+s|0,Ut[a+4>>2]=1|n,Ut[e+4>>2]=3|s,e=e+8|0;break e}if((a=(o=(r=i=s+47|(e=0))+(a=Ut[3015]?Ut[3017]:(Ut[3018]=-1,Ut[3019]=-1,Ut[3016]=4096,Ut[3017]=4096,Ut[3015]=12+t&-16^1431655768,Ut[3020]=0,Ut[3008]=0,4096))|0)&(c=0-a|0))>>>0<=s>>>0)break e;if((r=Ut[3007])&&(u=(l=Ut[3005])+a|0)>>>0<=l>>>0|r>>>0<u>>>0)break e;if(4&Xt[12032])break i;u:{f:{if(r=Ut[2903])for(e=12036;;){if((l=Ut[e>>2])+Ut[e+4>>2]>>>0>r>>>0&&l>>>0<=r>>>0)break f;if(!(e=Ut[e+8>>2]))break}if(-1==(0|(n=P(0))))break s;if(o=a,(o=(r=(e=Ut[3016])+-1|0)&n?(a-n|0)+(n+r&0-e)|0:o)>>>0<=s>>>0|2147483646<o>>>0)break s;if((e=Ut[3007])&&(c=(r=Ut[3005])+o|0)>>>0<=r>>>0|e>>>0<c>>>0)break s;if((0|n)!=(0|(e=P(o))))break u;break r}if(2147483646<(o=c&o-n)>>>0)break s;if((0|(n=P(o)))==(Ut[e>>2]+Ut[e+4>>2]|0))break o;e=n}if(!(-1==(0|e)|s+48>>>0<=o>>>0)){if(2147483646<(n=(n=Ut[3017])+(i-o|0)&0-n)>>>0){n=e;break r}if(-1!=(0|P(n))){o=n+o|0,n=e;break r}P(0-o|0);break s}if(-1!=(0|(n=e)))break r;break s}i=0;break t}n=0;break n}if(-1!=(0|n))break r}Ut[3008]=4|Ut[3008]}if(2147483646<a>>>0)break a;if(n=P(a),(e=P(0))>>>0<=n>>>0|-1==(0|n)|-1==(0|e))break a;if((o=e-n|0)>>>0<=s+40>>>0)break a}e=Ut[3005]+o|0,(Ut[3005]=e)>>>0>Kt[3006]&&(Ut[3006]=e);r:{i:{s:{if(r=Ut[2903]){for(e=12036;;){if(((a=Ut[e>>2])+(i=Ut[e+4>>2])|0)==(0|n))break s;if(!(e=Ut[e+8>>2]))break}break i}for((e=Ut[2901])>>>0<=n>>>0&&e||(Ut[2901]=n),e=0,Ut[3010]=o,Ut[3009]=n,Ut[2905]=-1,Ut[2906]=Ut[3015],Ut[3012]=0;Ut[11636+(a=e<<3)>>2]=r=a+11628|0,Ut[a+11640>>2]=r,32!=(0|(e=e+1|0)););Ut[2900]=r=(e=o+-40|0)-(a=n+8&7?-8-n&7:0)|0,Ut[2903]=a=n+a|0,Ut[a+4>>2]=1|r,Ut[4+(e+n|0)>>2]=40,Ut[2904]=Ut[3019];break r}if(!(8&Xt[e+12|0]|n>>>0<=r>>>0|r>>>0<a>>>0)){Ut[e+4>>2]=i+o,Ut[2903]=n=(e=r+8&7?-8-r&7:0)+r|0,a=Ut[2900]+o|0,Ut[2900]=e=a-e|0,Ut[n+4>>2]=1|e,Ut[4+(a+r|0)>>2]=40,Ut[2904]=Ut[3019];break r}}n>>>0<(e=Ut[2901])>>>0&&(Ut[2901]=n,e=0),a=n+o|0,e=12036;i:{s:{o:{l:{c:{u:{for(;(0|a)!=Ut[e>>2];)if(!(e=Ut[e+8>>2]))break u;if(!(8&Xt[e+12|0]))break c}for(e=12036;;){if((a=Ut[e>>2])>>>0<=r>>>0&&r>>>0<(i=a+Ut[e+4>>2]|0)>>>0)break l;e=Ut[e+8>>2]}}if(Ut[e>>2]=n,Ut[e+4>>2]=Ut[e+4>>2]+o,Ut[4+(l=(n+8&7?-8-n&7:0)+n|0)>>2]=3|s,e=((n=a+(a+8&7?-8-a&7:0)|0)-l|0)-s|0,i=s+l|0,(0|n)==(0|r)){Ut[2903]=i,e=Ut[2900]+e|0,Ut[2900]=e,Ut[i+4>>2]=1|e;break s}if(Ut[2902]==(0|n)){Ut[2902]=i,e=Ut[2899]+e|0,Ut[2899]=e,Ut[i+4>>2]=1|e,Ut[e+i>>2]=e;break s}if(1==(3&(a=Ut[n+4>>2]))){u=-8&a;c:if(a>>>0<=255)r=Ut[n+8>>2],s=a>>>3|0,(0|(a=Ut[n+12>>2]))==(0|r)?(d=Ut[2897]&a0(-2,s),Ut[2897]=d):(Ut[r+12>>2]=a,Ut[a+8>>2]=r);else{if(c=Ut[n+24>>2],(0|(o=Ut[n+12>>2]))!=(0|n))a=Ut[n+8>>2],Ut[a+12>>2]=o,Ut[o+8>>2]=a;else if(s=(s=Ut[(r=n+20|0)>>2])||Ut[(r=n+16|0)>>2]){for(;a=r,(s=Ut[(r=(o=s)+20|0)>>2])||(r=o+16|0,s=Ut[o+16>>2]););Ut[a>>2]=0}else o=0;if(c){a=Ut[n+28>>2];u:{if(Ut[(r=11892+(a<<2)|0)>>2]==(0|n)){if(Ut[r>>2]=o)break u;d=Ut[2898]&a0(-2,a),Ut[2898]=d;break c}if(!(Ut[c+(Ut[c+16>>2]==(0|n)?16:20)>>2]=o))break c}Ut[o+24>>2]=c,(a=Ut[n+16>>2])&&(Ut[o+16>>2]=a,Ut[a+24>>2]=o),(a=Ut[n+20>>2])&&(Ut[o+20>>2]=a,Ut[a+24>>2]=o)}}n=n+u|0,e=e+u|0}if(Ut[n+4>>2]=-2&Ut[n+4>>2],Ut[i+4>>2]=1|e,(Ut[e+i>>2]=e)>>>0<=255){e=11628+((n=e>>>3|0)<<3)|0,n=(a=Ut[2897])&(n=1<<n)?Ut[e+8>>2]:(Ut[2897]=n|a,e),Ut[e+8>>2]=i,Ut[n+12>>2]=i,Ut[i+12>>2]=e,Ut[i+8>>2]=n;break s}if((n=e>>>8|(a=0))&&(a=31,16777215<e>>>0||(a=28+((n=((s=(a=n<<(r=n+1048320>>>16&8))<<(n=a+520192>>>16&4))<<(a=s+245760>>>16&2)>>>15|0)-(a|n|r)|0)<<1|e>>>n+21&1)|0)),n=a,Ut[(o=i)+28>>2]=n,Ut[i+16>>2]=0,a=11892+(n<<2)|(Ut[i+20>>2]=0),(r=Ut[2898])&(s=1<<n)){for(r=e<<(31==(0|n)?0:25-(n>>>1|0)|0),n=Ut[a>>2];;){if((-8&Ut[(a=n)+4>>2])==(0|e))break o;if(n=r>>>29|0,r<<=1,!(n=Ut[(s=16+(a+(4&n)|0)|0)>>2]))break}Ut[s>>2]=i}else Ut[2898]=r|s,Ut[a>>2]=i;Ut[i+24>>2]=a,Ut[i+12>>2]=i,Ut[i+8>>2]=i;break s}for(Ut[2900]=c=(e=o+-40|0)-(a=n+8&7?-8-n&7:0)|0,Ut[2903]=a=n+a|0,Ut[a+4>>2]=1|c,Ut[4+(e+n|0)>>2]=40,Ut[2904]=Ut[3019],Ut[(a=(e=(i+(i+-39&7?39-i&7:0)|0)-47|0)>>>0<r+16>>>0?r:e)+4>>2]=27,e=Ut[3012],Ut[a+16>>2]=Ut[3011],Ut[a+20>>2]=e,e=Ut[3010],Ut[a+8>>2]=Ut[3009],Ut[a+12>>2]=e,Ut[3011]=a+8,Ut[3010]=o,Ut[3009]=n,e=a+24|(Ut[3012]=0);Ut[e+4>>2]=7,n=e+8|0,e=e+4|0,n>>>0<i>>>0;);if((0|a)==(0|r))break r;if(Ut[a+4>>2]=-2&Ut[a+4>>2],Ut[r+4>>2]=1|(o=a-r|0),(Ut[a>>2]=o)>>>0<=255){e=11628+((n=o>>>3|0)<<3)|0,n=(a=Ut[2897])&(n=1<<n)?Ut[e+8>>2]:(Ut[2897]=n|a,e),Ut[e+8>>2]=r,Ut[n+12>>2]=r,Ut[r+12>>2]=e,Ut[r+8>>2]=n;break r}if(Ut[r+16>>2]=0,(e=o>>>8|(n=Ut[r+20>>2]=0))&&(n=31,16777215<o>>>0||(n=28+((e=((i=(n=e<<(a=e+1048320>>>16&8))<<(e=n+520192>>>16&4))<<(n=i+245760>>>16&2)>>>15|0)-(n|e|a)|0)<<1|o>>>e+21&1)|0)),e=n,n=11892+((Ut[(l=r)+28>>2]=e)<<2)|0,(a=Ut[2898])&(i=1<<e)){for(e=o<<(31==(0|e)?0:25-(e>>>1|0)|0),n=Ut[n>>2];;){if((0|o)==(-8&Ut[(a=n)+4>>2]))break i;if(n=e>>>29|0,e<<=1,!(n=Ut[(i=16+(a+(4&n)|0)|0)>>2]))break}Ut[i>>2]=r,Ut[r+24>>2]=a}else Ut[2898]=a|i,Ut[n>>2]=r,Ut[r+24>>2]=n;Ut[r+12>>2]=r,Ut[r+8>>2]=r;break r}e=Ut[a+8>>2],Ut[e+12>>2]=i,Ut[a+8>>2]=i,Ut[i+24>>2]=0,Ut[i+12>>2]=a,Ut[i+8>>2]=e}e=l+8|0;break e}e=Ut[a+8>>2],Ut[e+12>>2]=r,Ut[a+8>>2]=r,Ut[r+24>>2]=0,Ut[r+12>>2]=a,Ut[r+8>>2]=e}if(!((e=Ut[2900])>>>0<=s>>>0)){Ut[2900]=n=e-s|0,e=Ut[2903],Ut[2903]=a=e+s|0,Ut[a+4>>2]=1|n,Ut[e+4>>2]=3|s,e=e+8|0;break e}}Ut[2896]=48,e=0;break e}n:if(l){e=Ut[i+28>>2];a:{if(Ut[(r=11892+(e<<2)|0)>>2]==(0|i)){if(Ut[r>>2]=n)break a;c=a0(-2,e)&c,Ut[2898]=c;break n}if(!(Ut[l+(Ut[l+16>>2]==(0|i)?16:20)>>2]=n))break n}Ut[n+24>>2]=l,(e=Ut[i+16>>2])&&(Ut[n+16>>2]=e,Ut[e+24>>2]=n),(e=Ut[i+20>>2])&&(Ut[n+20>>2]=e,Ut[e+24>>2]=n)}n:if(a>>>0<=15)Ut[i+4>>2]=3|(e=a+s|0),Ut[4+(e=e+i|0)>>2]=1|Ut[e+4>>2];else if(Ut[i+4>>2]=3|s,Ut[4+(n=i+s|0)>>2]=1|a,(Ut[n+a>>2]=a)>>>0<=255)e=11628+((a=a>>>3|0)<<3)|0,a=(r=Ut[2897])&(a=1<<a)?Ut[e+8>>2]:(Ut[2897]=a|r,e),Ut[e+8>>2]=n,Ut[a+12>>2]=n,Ut[n+12>>2]=e,Ut[n+8>>2]=a;else{(e=a>>>8|(r=0))&&(r=31,16777215<a>>>0||(r=28+((e=((o=(r=e<<(s=e+1048320>>>16&8))<<(e=r+520192>>>16&4))<<(r=o+245760>>>16&2)>>>15|0)-(r|e|s)|0)<<1|a>>>e+21&1)|0)),e=r,Ut[(l=n)+28>>2]=e,Ut[n+16>>2]=0,r=11892+(e<<2)|(Ut[n+20>>2]=0);a:{if((s=1<<e)&c){for(e=a<<(31==(0|e)?0:25-(e>>>1|0)|0),s=Ut[r>>2];;){if((-8&Ut[(r=s)+4>>2])==(0|a))break a;if(s=e>>>29|0,e<<=1,!(s=Ut[(o=16+(r+(4&s)|0)|0)>>2]))break}Ut[o>>2]=n}else Ut[2898]=s|c,Ut[r>>2]=n;Ut[n+24>>2]=r,Ut[n+12>>2]=n,Ut[n+8>>2]=n;break n}e=Ut[r+8>>2],Ut[e+12>>2]=n,Ut[r+8>>2]=n,Ut[n+24>>2]=0,Ut[n+12>>2]=r,Ut[n+8>>2]=e}e=i+8|0;break e}t:if(u){e=Ut[n+28>>2];n:{if(Ut[(a=11892+(e<<2)|0)>>2]==(0|n)){if(Ut[a>>2]=i)break n;d=a0(-2,e)&f,Ut[2898]=d;break t}if(!(Ut[(Ut[u+16>>2]==(0|n)?16:20)+u>>2]=i))break t}Ut[i+24>>2]=u,(e=Ut[n+16>>2])&&(Ut[i+16>>2]=e,Ut[e+24>>2]=i),(e=Ut[n+20>>2])&&(Ut[i+20>>2]=e,Ut[e+24>>2]=i)}r>>>0<=15?(Ut[n+4>>2]=3|(e=r+s|0),Ut[4+(e=e+n|0)>>2]=1|Ut[e+4>>2]):(Ut[n+4>>2]=3|s,Ut[4+(s=n+s|0)>>2]=1|r,Ut[r+s>>2]=r,l&&(e=11628+((i=l>>>3|0)<<3)|0,a=Ut[2902],o=(i=1<<i)&o?Ut[e+8>>2]:(Ut[2897]=i|o,e),Ut[e+8>>2]=a,Ut[o+12>>2]=a,Ut[a+12>>2]=e,Ut[a+8>>2]=o),Ut[2902]=s,Ut[2899]=r),e=n+8|0}return Zt=16+t|0,0|e}function e0(e){var t,n=0,a=0,r=0,i=0,s=0,o=0,l=0;e:if(e|=0){t=(r=e+-8|0)+(e=-8&(a=Ut[e+-4>>2]))|0;t:if(!(1&a)){if(!(3&a))break e;if((r=r-(a=Ut[r>>2])|0)>>>0<Kt[2901])break e;if(e=e+a|0,Ut[2902]!=(0|r))if(a>>>0<=255)i=Ut[r+8>>2],a=a>>>3|0,(0|(n=Ut[r+12>>2]))==(0|i)?(l=Ut[2897]&a0(-2,a),Ut[2897]=l):(Ut[i+12>>2]=n,Ut[n+8>>2]=i);else{if(o=Ut[r+24>>2],(0|(a=Ut[r+12>>2]))!=(0|r))n=Ut[r+8>>2],Ut[n+12>>2]=a,Ut[a+8>>2]=n;else if(n=(n=Ut[(i=r+20|0)>>2])||Ut[(i=r+16|0)>>2]){for(;s=i,(n=Ut[(i=(a=n)+20|0)>>2])||(i=a+16|0,n=Ut[a+16>>2]););Ut[s>>2]=0}else a=0;if(o){i=Ut[r+28>>2];n:{if(Ut[(n=11892+(i<<2)|0)>>2]==(0|r)){if(Ut[n>>2]=a)break n;l=Ut[2898]&a0(-2,i),Ut[2898]=l;break t}if(!(Ut[o+(Ut[o+16>>2]==(0|r)?16:20)>>2]=a))break t}Ut[a+24>>2]=o,(n=Ut[r+16>>2])&&(Ut[a+16>>2]=n,Ut[n+24>>2]=a),(n=Ut[r+20>>2])&&(Ut[a+20>>2]=n,Ut[n+24>>2]=a)}}else if(3==(3&(a=Ut[4+t>>2])))return Ut[2899]=e,Ut[4+t>>2]=-2&a,Ut[r+4>>2]=1|e,void(Ut[e+r>>2]=e)}if(!(t>>>0<=r>>>0)&&1&(a=Ut[4+t>>2])){t:{if(!(2&a)){if((0|t)==Ut[2903]){if(Ut[2903]=r,e=Ut[2900]+e|0,Ut[2900]=e,Ut[r+4>>2]=1|e,Ut[2902]!=(0|r))break e;return Ut[2899]=0,void(Ut[2902]=0)}if((0|t)==Ut[2902])return Ut[2902]=r,e=Ut[2899]+e|0,Ut[2899]=e,Ut[r+4>>2]=1|e,void(Ut[e+r>>2]=e);e=(-8&a)+e|0;n:if(a>>>0<=255)a=a>>>3|0,(0|(n=Ut[8+t>>2]))==(0|(i=Ut[12+t>>2]))?(l=Ut[2897]&a0(-2,a),Ut[2897]=l):(Ut[n+12>>2]=i,Ut[i+8>>2]=n);else{if(o=Ut[24+t>>2],(0|t)!=(0|(a=Ut[12+t>>2])))n=Ut[8+t>>2],Ut[n+12>>2]=a,Ut[a+8>>2]=n;else if(n=(n=Ut[(i=20+t|0)>>2])||Ut[(i=16+t|0)>>2]){for(;s=i,(n=Ut[(i=(a=n)+20|0)>>2])||(i=a+16|0,n=Ut[a+16>>2]););Ut[s>>2]=0}else a=0;if(o){i=Ut[28+t>>2];a:{if((0|t)==Ut[(n=11892+(i<<2)|0)>>2]){if(Ut[n>>2]=a)break a;l=Ut[2898]&a0(-2,i),Ut[2898]=l;break n}if(!(Ut[o+((0|t)==Ut[o+16>>2]?16:20)>>2]=a))break n}Ut[a+24>>2]=o,(n=Ut[16+t>>2])&&(Ut[a+16>>2]=n,Ut[n+24>>2]=a),(n=Ut[20+t>>2])&&(Ut[a+20>>2]=n,Ut[n+24>>2]=a)}}if(Ut[r+4>>2]=1|e,Ut[e+r>>2]=e,Ut[2902]!=(0|r))break t;return void(Ut[2899]=e)}Ut[4+t>>2]=-2&a,Ut[r+4>>2]=1|e,Ut[e+r>>2]=e}if(e>>>0<=255)return a=11628+((e=e>>>3|0)<<3)|0,e=(n=Ut[2897])&(e=1<<e)?Ut[a+8>>2]:(Ut[2897]=e|n,a),Ut[a+8>>2]=r,Ut[e+12>>2]=r,Ut[r+12>>2]=a,void(Ut[r+8>>2]=e);Ut[r+16>>2]=0,(i=e>>>8|(n=Ut[r+20>>2]=0))&&(n=31,16777215<e>>>0||(n=(a=i)<<(i=i+1048320>>>16&8),n=28+((n=((n<<=o=n+520192>>>16&4)<<(s=n+245760>>>16&2)>>>15|0)-(s|i|o)|0)<<1|e>>>n+21&1)|0)),s=11892+((Ut[r+28>>2]=n)<<2)|0;t:{n:{if((i=Ut[2898])&(a=1<<n)){for(i=e<<(31==(0|n)?0:25-(n>>>1|0)|0),a=Ut[s>>2];;){if((-8&Ut[(n=a)+4>>2])==(0|e))break n;if(a=i>>>29|0,i<<=1,!(a=Ut[(s=16+(n+(4&a)|0)|0)>>2]))break}Ut[s>>2]=r,Ut[r+24>>2]=n}else Ut[2898]=a|i,Ut[s>>2]=r,Ut[r+24>>2]=s;Ut[r+12>>2]=r,Ut[r+8>>2]=r;break t}e=Ut[n+8>>2],Ut[e+12>>2]=r,Ut[n+8>>2]=r,Ut[r+24>>2]=0,Ut[r+12>>2]=n,Ut[r+8>>2]=e}if(e=Ut[2905]+-1|0,!(Ut[2905]=e)){for(r=12044;r=(e=Ut[r>>2])+8|0,e;);Ut[2905]=-1}}}}function B(e,t){var n,a=0,a=0;return e&&(a=n=ke(e,0,t,0),(e|t)>>>0<65536||(a=Qt?-1:n)),!(e=$t(t=a))|!(3&Xt[e+-4|0])||Jt(e,t),e}function A(e,t){var n,a;return e?4294967232<=t>>>0?(Ut[2896]=48,0):(n=((e,t)=>{var n,a,r,i,s=0,o=0,l=0,c=0,u=0,f=(o=-8&(i=Ut[4+e>>2]))+e|0;e:{if(!(s=3&i)){if(t>>>(s=0)<256)break e;if(t+4>>>0<=o>>>0&&(s=e,o-t>>>0<=Ut[3017]<<1>>>0))break e;return 0}if(t>>>0<=o>>>0)(s=o-t|0)>>>0<16||(Ut[4+e>>2]=1&i|t|2,Ut[4+(t=e+t|0)>>2]=3|s,Ut[4+f>>2]=1|Ut[4+f>>2],F(t,s));else if(((s=0)|f)==Ut[2903]){if((l=o+Ut[2900]|0)>>>0<=t>>>0)break e;Ut[4+e>>2]=1&i|t|2,Ut[(s=e+t|0)+4>>2]=1|(t=l-t|0),Ut[2900]=t,Ut[2903]=s}else if((0|f)==Ut[2902]){if((l=o+Ut[2899]|0)>>>0<t>>>0)break e;16<=(s=l-t|0)>>>0?(Ut[4+e>>2]=1&i|t|2,Ut[4+(t=e+t|0)>>2]=1|s,Ut[(l=e+l|0)>>2]=s,Ut[l+4>>2]=-2&Ut[l+4>>2]):(Ut[4+e>>2]=l|1&i|2,Ut[4+(t=e+l|0)>>2]=1|Ut[t+4>>2],t=s=0),Ut[2902]=t,Ut[2899]=s}else{if(2&(c=Ut[4+f>>2]))break e;if((n=o+(-8&c)|0)>>>0<t>>>0)break e;r=n-t|0;t:if(c>>>0<=255)s=c>>>3|0,(0|(c=Ut[8+f>>2]))==(0|(l=Ut[12+f>>2]))?(u=Ut[2897]&a0(-2,s),Ut[11588>>2]=u):(Ut[c+12>>2]=l,Ut[l+8>>2]=c);else{if(a=Ut[24+f>>2],(0|f)!=(0|(o=Ut[12+f>>2])))s=Ut[8+f>>2],Ut[s+12>>2]=o,Ut[o+8>>2]=s;else if(c=(c=Ut[(s=20+f|0)>>2])||Ut[(s=16+f|0)>>2]){for(;l=s,(c=Ut[(s=(o=c)+20|0)>>2])||(s=o+16|0,c=Ut[o+16>>2]););Ut[l>>2]=0}else o=0;if(a){l=Ut[28+f>>2];n:{if((0|f)==Ut[(s=11892+(l<<2)|0)>>2]){if(Ut[s>>2]=o)break n;u=Ut[2898]&a0(-2,l),Ut[11592>>2]=u;break t}if(!(Ut[((0|f)==Ut[a+16>>2]?16:20)+a>>2]=o))break t}Ut[o+24>>2]=a,(s=Ut[16+f>>2])&&(Ut[o+16>>2]=s,Ut[s+24>>2]=o),(s=Ut[20+f>>2])&&(Ut[o+20>>2]=s,Ut[s+24>>2]=o)}}r>>>0<=15?(Ut[4+e>>2]=1&i|n|2,Ut[4+(t=e+n|0)>>2]=1|Ut[t+4>>2]):(Ut[4+e>>2]=1&i|t|2,Ut[4+(s=e+t|0)>>2]=3|r,Ut[4+(t=e+n|0)>>2]=1|Ut[t+4>>2],F(s,r))}s=e}return s})(e+-8|0,t>>>0<11?16:t+11&-8))?n+8|0:(n=$t(t))?(he(n,e,(a=(3&(a=Ut[e+-4>>2])?-4:-8)+(-8&a)|0)>>>0<t>>>0?a:t),e0(e),n):0:$t(t)}function F(e,t){var n=0,a=0,r=0,i=0,s=0,o=0,l=e+t|0;e:{t:if(!(1&(n=Ut[e+4>>2]))){if(!(3&n))break e;if(t=(n=Ut[e>>2])+t|0,(0|(e=e-n|0))!=Ut[2902])if(n>>>0<=255)r=n>>>3|0,n=Ut[e+8>>2],(0|(a=Ut[e+12>>2]))==(0|n)?(o=Ut[2897]&a0(-2,r),Ut[2897]=o):(Ut[n+12>>2]=a,Ut[a+8>>2]=n);else{if(s=Ut[e+24>>2],(0|(n=Ut[e+12>>2]))!=(0|e))a=Ut[e+8>>2],Ut[a+12>>2]=n,Ut[n+8>>2]=a;else if(r=(r=Ut[(a=e+20|0)>>2])||Ut[(a=e+16|0)>>2]){for(;i=a,(r=Ut[(a=(n=r)+20|0)>>2])||(a=n+16|0,r=Ut[n+16>>2]););Ut[i>>2]=0}else n=0;if(s){a=Ut[e+28>>2];n:{if(Ut[(r=11892+(a<<2)|0)>>2]==(0|e)){if(Ut[r>>2]=n)break n;o=Ut[2898]&a0(-2,a),Ut[2898]=o;break t}if(!(Ut[s+(Ut[s+16>>2]==(0|e)?16:20)>>2]=n))break t}Ut[n+24>>2]=s,(a=Ut[e+16>>2])&&(Ut[n+16>>2]=a,Ut[a+24>>2]=n),(a=Ut[e+20>>2])&&(Ut[n+20>>2]=a,Ut[a+24>>2]=n)}}else if(3==(3&(n=Ut[4+l>>2])))return Ut[2899]=t,Ut[4+l>>2]=-2&n,Ut[e+4>>2]=1|t,Ut[l>>2]=t}t:{if(!(2&(n=Ut[4+l>>2]))){if((0|l)==Ut[2903]){if(Ut[2903]=e,t=Ut[2900]+t|0,Ut[2900]=t,Ut[e+4>>2]=1|t,Ut[2902]!=(0|e))break e;return Ut[2899]=0,Ut[2902]=0}if((0|l)==Ut[2902])return Ut[2902]=e,t=Ut[2899]+t|0,Ut[2899]=t,Ut[e+4>>2]=1|t,Ut[e+t>>2]=t;t=(-8&n)+t|0;n:if(n>>>0<=255)r=n>>>3|0,(0|(n=Ut[8+l>>2]))==(0|(a=Ut[12+l>>2]))?(o=Ut[2897]&a0(-2,r),Ut[2897]=o):(Ut[n+12>>2]=a,Ut[a+8>>2]=n);else{if(s=Ut[24+l>>2],(0|l)!=(0|(n=Ut[12+l>>2])))a=Ut[8+l>>2],Ut[a+12>>2]=n,Ut[n+8>>2]=a;else if(r=(r=Ut[(a=20+l|0)>>2])||Ut[(a=16+l|0)>>2]){for(;i=a,(r=Ut[(a=(n=r)+20|0)>>2])||(a=n+16|0,r=Ut[n+16>>2]););Ut[i>>2]=0}else n=0;if(s){a=Ut[28+l>>2];a:{if((0|l)==Ut[(r=11892+(a<<2)|0)>>2]){if(Ut[r>>2]=n)break a;o=Ut[2898]&a0(-2,a),Ut[2898]=o;break n}if(!(Ut[s+((0|l)==Ut[s+16>>2]?16:20)>>2]=n))break n}Ut[n+24>>2]=s,(a=Ut[16+l>>2])&&(Ut[n+16>>2]=a,Ut[a+24>>2]=n),(a=Ut[20+l>>2])&&(Ut[n+20>>2]=a,Ut[a+24>>2]=n)}}if(Ut[e+4>>2]=1|t,Ut[e+t>>2]=t,Ut[2902]!=(0|e))break t;return Ut[2899]=t}Ut[4+l>>2]=-2&n,Ut[e+4>>2]=1|t,Ut[e+t>>2]=t}if(t>>>0<=255)return t=11628+((n=t>>>3|0)<<3)|0,n=(a=Ut[2897])&(n=1<<n)?Ut[t+8>>2]:(Ut[2897]=n|a,t),Ut[t+8>>2]=e,Ut[n+12>>2]=e,Ut[e+12>>2]=t,Ut[e+8>>2]=n;Ut[e+16>>2]=0,(r=t>>>8|(n=Ut[e+20>>2]=0))&&(n=31,16777215<t>>>0||(n=28+((n=((l=(r<<=i=r+1048320>>>16&8)<<(n=r+520192>>>16&4))<<(r=245760+l>>>16&2)>>>15|0)-(r|n|i)|0)<<1|t>>>n+21&1)|0)),r=11892+((Ut[(a=e)+28>>2]=n)<<2)|0;t:{if((a=Ut[2898])&(i=1<<n)){for(a=t<<(31==(0|n)?0:25-(n>>>1|0)|0),n=Ut[r>>2];;){if((-8&Ut[(r=n)+4>>2])==(0|t))break t;if(n=a>>>29|0,a<<=1,!(n=Ut[(i=16+(r+(4&n)|0)|0)>>2]))break}Ut[i>>2]=e}else Ut[2898]=a|i,Ut[r>>2]=e;return Ut[e+24>>2]=r,Ut[e+12>>2]=e,Ut[e+8>>2]=e}t=Ut[r+8>>2],Ut[t+12>>2]=e,Ut[r+8>>2]=e,Ut[e+24>>2]=0,Ut[e+12>>2]=r,Ut[e+8>>2]=t}}function be(e,t,n,a,r,i){var s,o,l=0;64&i?(a=t,t=31&(r=i+-64|0),32<=(63&r)>>>0?(r=a<<t,a=0):(r=(1<<t)-1&a>>>32-t|n<<t,a<<=t),n=t=0):i&&(o=a,a=31&(s=i),o=32<=(63&i)>>>0?(l=o<<a,0):(l=(1<<a)-1&o>>>32-a|r<<a,o<<a),a=n,r=31&(i=64-i|0),a=32<=(63&i)>>>0?a>>>r|(i=0):(i=a>>>r|0,((1<<r)-1&a)<<32-r|t>>>r),a|=o,r=i|l,i=t,t=31&s,t=32<=(63&s)>>>0?(l=i<<t,0):(l=(1<<t)-1&i>>>32-t|n<<t,i<<t),n=l),Ut[e>>2]=t,Ut[e+4>>2]=n,Ut[e+8>>2]=a,Ut[e+12>>2]=r}function U(e,t,n,a,r,i){var s,o,l=0,c=0;64&i?(t=31&(n=i+-64|0),t=32<=(63&n)>>>0?r>>>t|(n=0):(n=r>>>t|0,((1<<t)-1&r)<<32-t|a>>>t),r=a=0):i&&(c=r,l=31&(o=64-i|0),o=32<=(63&o)>>>0?(c=a<<l,0):(c=(1<<l)-1&a>>>32-l|c<<l,a<<l),s=t,t=31&(l=i),t=32<=(63&l)>>>0?n>>>t|(l=0):(l=n>>>t|0,((1<<t)-1&n)<<32-t|s>>>t),t|=o,n=l|c,l=a,a=31&i,a=32<=(63&i)>>>0?r>>>a|(c=0):(c=r>>>a|0,((1<<a)-1&r)<<32-a|l>>>a),r=c),Ut[e>>2]=t,Ut[e+4>>2]=n,Ut[e+8>>2]=a,Ut[e+12>>2]=r}function D(e,t){var n=0;if(t)for(;n=Xt[1024+(Xt[0|e]^n)|0],e=e+1|0,t=t+-1|0;);return n}function x(e,t,n){var a;if(2<=t>>>0)for(;a=n,n=Ut[e>>2],a=E[4352+((255&(a^=n>>>16))<<1)>>1]^E[4864+(a>>>7&510)>>1]^E[3840+(n>>>7&510)>>1]^E[3328+((255&n)<<1)>>1],n=Ut[e+4>>2],n=a^E[2816+(n>>>23&510)>>1]^E[2304+(n>>>15&510)>>1]^E[512+(1280+(n>>>7&510)|0)>>1]^E[1280+((255&n)<<1)>>1],e=e+8|0,1<(t=t+-2|0)>>>0;);return t&&(e=Ut[e>>2],n=E[2304+((255&(t=e>>>16^n))<<1)>>1]^E[2816+(t>>>7&510)>>1]^E[512+(1280+(e>>>7&510)|0)>>1]^E[1280+((255&e)<<1)>>1]),65535&n}function L(e,t,n){var a=0;e:if((0|e)!=(0|t)){if((t-e|0)-n>>>0<=0-(n<<1)>>>0)return he(e,t,n);if(a=3&(e^t),e>>>0<t>>>0){if(!a){if(3&e)for(;;){if(!n)break e;if(_e[0|e]=Xt[0|t],t=t+1|0,n=n+-1|0,!(3&(e=e+1|0)))break}if(!(n>>>0<=3))for(;Ut[e>>2]=Ut[t>>2],t=t+4|0,e=e+4|0,3<(n=n+-4|0)>>>0;);}if(n)for(;_e[0|e]=Xt[0|t],e=e+1|0,t=t+1|0,n=n+-1|0;);}else{if(!a){if(e+n&3)for(;;){if(!n)break e;if(_e[0|(a=(n=n+-1|0)+e|0)]=Xt[t+n|0],!(3&a))break}if(!(n>>>0<=3))for(;Ut[(n=n+-4|0)+e>>2]=Ut[t+n>>2],3<n>>>0;);}if(n)for(;_e[(n=n+-1|0)+e|0]=Xt[t+n|0],n;);}}}function I(e){var t;(t=Ut[e>>2])&&e0(t),e0(e)}function N(e){return!(7&Xt[e+20|0])}function O(e){return 8-(7&Ut[e+20>>2])|0}function R(e,t,n){var a=0,r=0,i=0;e:if(n){t:{for(;;){if(i=Ut[e+8>>2],r=Ut[e+16>>2],a=Ut[e+20>>2],((i-r<<5)+(Ut[e+12>>2]<<3)|0)-a>>>0>=n>>>0)break t;if(!H(e))break}return}if(r>>>0<i>>>0){if(a){if(i=Ut[e>>2],r=Ut[i+(r<<2)>>2]&-1>>>a,n>>>0<(a=32-a|0)>>>0){Ut[t>>2]=r>>>a-n,Ut[e+20>>2]=Ut[e+20>>2]+n;break e}if(Ut[t>>2]=r,Ut[e+20>>2]=0,Ut[e+16>>2]=Ut[e+16>>2]+1,n=n-a|0)return a=Ut[t>>2]<<n,Ut[t>>2]=a,Ut[t>>2]=a|Ut[(Ut[e+16>>2]<<2)+i>>2]>>>32-n,Ut[e+20>>2]=n,1;break e}if(a=Ut[Ut[e>>2]+(r<<2)>>2],n>>>0<=31){Ut[t>>2]=a>>>32-n,Ut[e+20>>2]=n;break e}return Ut[t>>2]=a,Ut[e+16>>2]=Ut[e+16>>2]+1,1}r=Ut[Ut[e>>2]+(r<<2)>>2],Ut[t>>2]=a?(r&-1>>>a)>>>32-(n+a|0):r>>>32-n,Ut[e+20>>2]=Ut[e+20>>2]+n}else Ut[t>>2]=0;return 1}function H(e){var t,n,a=0,r=0,i=0,s=0,o=0,l=0;if(Zt=n=Zt-16|0,t=Ut[e+16>>2]){if(t>>>0<=(a=Ut[e+28>>2])>>>0)i=a;else if(r=Ut[e+32>>2]){if(Ut[e+28>>2]=i=a+1|0,s=Ut[e+24>>2],r>>>0<=31){for(a=Ut[Ut[e>>2]+(a<<2)>>2];s=E[1280+((a>>>24-r&255^s>>>8)<<1)>>1]^s<<8&65280,o=r>>>0<24,r=l=r+8|0,o;);Ut[e+32>>2]=l}Ut[e+32>>2]=0,Ut[e+24>>2]=s}else i=a;a=x(Ut[e>>2]+(i<<2)|0,t-i|0,E[e+24>>1]),Ut[e+28>>2]=0,Ut[e+24>>2]=a,L(i=Ut[e>>2],i+((a=Ut[e+16>>2])<<2)|0,(Ut[e+8>>2]-a|0)+(0!=Ut[e+12>>2])<<2),Ut[e+16>>2]=0,r=Ut[e+8>>2]-a|0,Ut[e+8>>2]=r}else r=Ut[e+8>>2];if(a=Ut[e+12>>2],i=(Ut[e+4>>2]-r<<2)-a|0,s=0,(Ut[12+n>>2]=i)&&(r=(i=Ut[e>>2]+(r<<2)|0)+a|0,a&&(a=Ut[i>>2],Ut[i>>2]=a<<24|a<<8&16711680|a>>>8&65280|a>>>24),Vt[Ut[e+36>>2]](r,12+n|0,Ut[e+40>>2]))){if(t=Ut[12+n>>2],r=Ut[e+12>>2],(s=Ut[(l=e)+8>>2])>>>0<(i=3+(t+(r+(a=s<<2)|0)|0)>>>2|0)>>>0){for(r=Ut[e>>2];a=Ut[(o=r+(s<<2)|0)>>2],Ut[o>>2]=a<<8&16711680|a<<24|a>>>8&65280|a>>>24,(0|i)!=(0|(s=s+1|0)););r=Ut[e+12>>2],a=Ut[e+8>>2]<<2}Ut[l+12>>2]=3&(a=a+(r+t|0)|0),Ut[e+8>>2]=a>>>2,s=1}return Zt=16+n|0,s}function q(e,t,n){var a,r=0;return R(e,12+(Zt=a=Zt-16|0)|(r=0),n)&&(Ut[t>>2]=((e=1<<n+-1)^Ut[12+a>>2])-e,r=1),Zt=16+a|0,r}function V(e,t,n){var a,r,i,s=0;Zt=i=Zt-16|0,r=a=t;e:{if(33<=n>>>0){if(!R(e,12+i|0,n+-32|0))break e;if(!R(e,8+i|0,32))break e;e=Ut[12+i>>2],Ut[t>>2]=n=0,Ut[t+4>>2]=e,t=Ut[8+i>>2]|n}else{if(!R(e,8+i|0,n))break e;e=0,t=Ut[8+i>>2]}Ut[r>>2]=t,Ut[a+4>>2]=e,s=1}return Zt=16+i|0,s}function X(e,t){var n,a=0,r=0;return R(e,8+(Zt=n=Zt-16|0)|(Ut[8+n>>2]=0),8)&&R(e,12+n|0,8)&&(a=Ut[8+n>>2]|Ut[12+n>>2]<<8,Ut[8+n>>2]=a,R(e,12+n|0,8))&&(a|=Ut[12+n>>2]<<16,Ut[8+n>>2]=a,R(e,12+n|0,8))&&(e=a|Ut[12+n>>2]<<24,Ut[8+n>>2]=e,Ut[t>>2]=e,r=1),Zt=16+n|0,r}function K(e,t){var n,a,r=0,i=0;Zt=a=Zt-16|0,i=1;e:if(t){t:{if(r=7&Ut[e+20>>2]){if(!R(e,8+a|0,r=(r=8-r|0)>>>0<t>>>0?r:t))break t;t=t-r|0}if(r=t>>>3|0){for(;;){n:if(Ut[e+20>>2]){if(!R(e,12+a|0,8))break t;if(r=r+-1|0)continue}else{if(3<r>>>0){for(;;){if((n=Ut[e+16>>2])>>>0<Kt[e+8>>2])Ut[e+16>>2]=n+1,r=r+-4|0;else if(!H(e))break t;if(!(3<r>>>0))break}if(!r)break n}for(;;){if(!R(e,12+a|0,8))break t;if(!(r=r+-1|0))break}}break}t&=7}if(!t)break e;if(R(e,8+a|0,t))break e}i=0}return Zt=16+a|0,i}function j(e,t){var n,a,r=0;Zt=a=Zt-16|0,r=1;e:if(t){for(;;){t:{if(!Ut[e+20>>2]){if(!(t>>>0<4)){for(;;){if((n=Ut[e+16>>2])>>>0<Kt[e+8>>2])Ut[e+16>>2]=n+1,t=t+-4|0;else if(!H(e))break t;if(!(3<t>>>0))break}if(!t)break e}for(;;){if(!R(e,12+a|0,8))break t;if(!(t=t+-1|0))break}break e}if(R(e,12+a|0,8)){if(t=t+-1|0)continue;break e}}break}r=0}return Zt=16+a|0,r}function z(e,t,n){var a,r=0;Zt=a=Zt-16|0;e:if(n)for(;;){if(!Ut[e+20>>2]){if(!(n>>>0<4)){for(;;){if((r=Ut[e+16>>2])>>>0<Kt[e+8>>2])Ut[e+16>>2]=r+1,r=Ut[Ut[e>>2]+(r<<2)>>2],_e[0|t]=r=r<<24|r<<8&16711680|r>>>8&65280|r>>>24,_e[t+1|0]=r>>>8,_e[t+2|0]=r>>>16,_e[t+3|0]=r>>>24,n=n+-4|0,t=t+4|0;else if(!H(e)){r=0;break e}if(!(3<n>>>0))break}if(!n){r=1;break e}}for(;;){if(!R(e,12+a|0,8)){r=0;break e}if(_e[0|t]=Ut[12+a>>2],t=t+(r=1)|0,!(n=n+-1|0))break}break e}if(!R(e,12+a|0,8)){r=0;break e}if(_e[0|t]=Ut[12+a>>2],t=t+(r=1)|0,!(n=n+-1|0))break}else r=1;return Zt=16+a|0,r}function W(e,t){var n=0,a=0,r=0;Ut[t>>2]=0;e:{for(;;){if((a=Ut[e+16>>2])>>>0>=Kt[e+8>>2])n=Ut[e+20>>2];else for(n=Ut[e+20>>2],r=Ut[e>>2];;){if(a=Ut[r+(a<<2)>>2]<<n){if(r=Ut[(n=t)>>2],t=me(a),Ut[n>>2]=r+t,n=1+(t+Ut[e+20>>2]|0)|0,t=1,(Ut[e+20>>2]=n)>>>0<32)break e;return Ut[e+20>>2]=0,Ut[e+16>>2]=Ut[e+16>>2]+1,1}if(Ut[t>>2]=32+(Ut[t>>2]-n|0),Ut[e+20>>2]=n=0,a=Ut[e+16>>2]+1|0,!((Ut[e+16>>2]=a)>>>0<Kt[e+8>>2]))break}if(n>>>0<(r=Ut[e+12>>2]<<3)>>>0){if(a=(Ut[Ut[e>>2]+(a<<2)>>2]&-1<<32-r)<<n)return r=Ut[(n=t)>>2],t=me(a),Ut[n>>2]=r+t,Ut[e+20>>2]=1+(t+Ut[e+20>>2]|0),1;Ut[t>>2]=Ut[t>>2]+(r-n|0),Ut[e+20>>2]=r}if(!H(e))break}t=0}return t}function G(e,t,n,a){var r,i,s,o=0,l=0,c=0,u=0,f=0,d=0,p=0,_=0,m=0;Zt=s=Zt-16|0,r=(n<<2)+t|0;e:if(a)for(o=Ut[e+16>>2],n=(d=Ut[e+8>>2])>>>0<=o>>>0?1:(p=Ut[e>>2],_=Ut[e+20>>2],f=Ut[p+(o<<2)>>2]<<_,0);;){t:{n:{a:{r:{if(!n){l=32-_|0;i:{if(t>>>0<r>>>0)for(i=32-a|0;;){if(n=o,c=l,f)u=c=me(f);else for(;;){if(d>>>0<=(n=n+1|0)>>>0)break i;if(f=Ut[(n<<2)+p>>2],c=(u=me(f))+c|0,f)break}if(u=(o=f<<u<<1)>>>i|0,a>>>0<=(l=(-1^(Ut[8+s>>2]=c))+l&31)>>>0)f=o<<a,l=l-a|0,o=n;else{if(d>>>0<=(o=n+1|0)>>>0)break r;f=(n=Ut[(o<<2)+p>>2])<<32-(l=l+i|0),u|=n>>>l}if(Ut[12+s>>2]=u,Ut[t>>2]=(n=c<<a|u)>>>1^0-(1&n),!((t=t+4|0)>>>0<r>>>0))break}Ut[e+16>>2]=((t=o>>>0<d>>>0)&!l)+o,Ut[e+20>>2]=32-(l||t<<5),m=1;break e}Ut[e+20>>2]=0,Ut[e+16>>2]=(n=o+1|0)>>>0<d>>>0?d:n;break n}if(!W(e,8+s|0))break e;c=Ut[8+s>>2]+c|0,Ut[8+s>>2]=c,l=u=0;break a}Ut[e+16>>2]=o,Ut[e+20>>2]=0}if(!R(e,12+s|0,a-l|0))break e;if(n=c<<a,o=Ut[12+s>>2]|u,n|=Ut[12+s>>2]=o,Ut[t>>2]=n>>>1^(c=0)-(1&n),p=Ut[e>>2],o=Ut[e+16>>2],_=Ut[e+20>>2],f=Ut[p+(o<<2)>>2]<<_,o>>>0<(d=Ut[e+8>>2])>>>0|r>>>0<=(t=t+4|0)>>>0)break t}n=1;continue}n=0}else if(!((0|n)<(m=1)))for(;;){if(!W(e,8+s|0)){m=0;break e}if(n=Ut[8+s>>2],Ut[t>>2]=n>>>1^0-(1&n),!((t=t+4|0)>>>0<r>>>0))break}return Zt=16+s|0,m}function Y(e,t,n){var a,r,i=0,s=0,o=0;Ut[(Zt=r=Zt-240|0)>>2]=e,s=1;e:if(!((0|t)<2))for(i=e;;){if(i=(a=i+-24|0)-Ut[((o=t+-2|0)<<2)+n>>2]|0,0<=(0|Vt[1](e,i))&&-1<(0|Vt[1](e,a)))break e;if(e=(s<<2)+r|0,0<=(0|Vt[1](i,a))?(Ut[e>>2]=i,o=t+-1|0):i=Ut[e>>2]=a,s=s+1|0,(0|o)<2)break e;e=Ut[r>>2],t=o}ee(r,s),Zt=240+r|0}function Z(e,t){var n=0,a=e,r=t>>>0<=31?(n=Ut[e>>2],Ut[e+4>>2]):(n=Ut[e+4>>2],Ut[e+4>>2]=0,Ut[e>>2]=n,t=t+-32|0,0);Ut[a+4>>2]=r>>>t,Ut[e>>2]=r<<32-t|n>>>t}function Q(e,t,n,a,r){var i,s=0,o=0,l=0;Zt=i=Zt-240|0,s=Ut[t>>2],Ut[232+i>>2]=s,t=Ut[t+4>>2],Ut[i>>2]=e,o=1;e:{t:{n:{if(((Ut[236+i>>2]=t)||1!=(0|s))&&(s=e-Ut[(n<<2)+r>>2]|0,!((0|Vt[1](s,e))<1))){for(l=!a;;){a:{if(t=s,!(!l|(0|n)<2)){if(a=Ut[((n<<2)+r|0)-8>>2],-1<(0|Vt[1](s=e+-24|0,t)))break a;if(-1<(0|Vt[1](s-a|0,t)))break a}if(Ut[(o<<2)+i>>2]=t,Z(232+i|0,e=$(232+i|0)),o=o+1|0,n=e+n|0,!Ut[236+i>>2]&&1==Ut[232+i>>2])break t;if(s=(e=t)-Ut[(n<<2)+r>>2]|(a=0),0<(0|Vt[l=1](s,Ut[i>>2])))continue;break n}break}t=e;break t}t=e}if(a)break e}ee(i,o),Y(t,n,r)}Zt=240+i|0}function J(e,t){var n=0,a=e,r=t>>>0<=31?(n=Ut[e+4>>2],Ut[e>>2]):(n=Ut[e>>2],Ut[e+4>>2]=n,t=t+-32|(Ut[e>>2]=0),0);Ut[a>>2]=r<<t,Ut[e+4>>2]=n<<t|r>>>32-t}function $(e){return Ft(Ut[e>>2]+-1|0)||((e=Ft(Ut[e+4>>2]))?e+32|0:0)}function ee(e,t){var n,a,r,i,s=0,o=0,o=24;Zt=i=Zt-256|0;e:if(!((0|t)<2))for(s=Ut[(r=(t<<2)+e|0)>>2]=i;;){for(he(s,Ut[e>>2],n=o>>>0<256?o:256),s=0;he(Ut[(a=(s<<2)+e|0)>>2],Ut[((s=s+1|0)<<2)+e>>2],n),Ut[a>>2]=Ut[a>>2]+n,(0|t)!=(0|s););if(!(o=o-n|0))break e;s=Ut[r>>2]}Zt=256+i|0}function te(e){var t,n,a,r=0,i=0,s=0,o=0,l=0;if(i=Ut[e>>2]){var c,u,f=Ut[e+4>>2],d=i,p=0,_=0,m=0;Ut[8+(Zt=u=Zt-208|0)>>2]=1,Ut[12+u>>2]=0;e:if(m=Wt(d,24)){for(Ut[16+u>>2]=24,_=d=Ut[20+u>>2]=24,p=2;c=_+24|0,_=d,Ut[(16+u|0)+(p<<2)>>2]=d=d+c|0,p=p+1|0,d>>>0<m>>>0;);if((_=(f+m|0)-24|0)>>>0<=f>>>0)d=p=1;else for(d=p=1;d=3==(3&p)?(Y(f,d,16+u|0),Z(8+u|0,2),d+2|0):(Kt[(16+u|0)+((p=d+-1|0)<<2)>>2]>=_-f>>>0?Q(f,8+u|0,d,0,16+u|0):Y(f,d,16+u|0),1==(0|d)?(J(8+u|0,1),0):(J(8+u|0,p),1)),p=1|Ut[8+u>>2],Ut[8+u>>2]=p,(f=f+24|0)>>>0<_>>>0;);for(Q(f,8+u|0,d,0,16+u|0);;){t:{n:{a:{if(!(1!=(0|d)|1!=(0|p))){if(Ut[12+u>>2])break a;break e}if(1<(0|d))break n}Z(8+u|0,_=$(8+u|0)),p=Ut[8+u>>2],d=d+_|0;break t}J(8+u|0,2),Ut[8+u>>2]=7^Ut[8+u>>2],Z(8+u|0,1),Q((m=f+-24|0)-Ut[(16+u|0)+((_=d+-2|0)<<2)>>2]|0,8+u|0,d+-1|0,1,16+u|0),J(8+u|0,1),p=1|Ut[8+u>>2],Ut[8+u>>2]=p,Q(m,8+u|0,_,1,16+u|0),d=_}f=f+-24|0}}if(Zt=208+u|0,Ut[e>>2]){if((i=1)<(r=Ut[e>>2])>>>0)for(l=1;s=(t=Ut[e+4>>2])+Wt(l,24)|0,-1!=(0|(o=Ut[s>>2]))|-1!=(0|(a=Ut[s+4>>2]))&&(n=o,o=(t+Wt(i,24)|0)-24|0,(0|n)==Ut[o>>2]&Ut[o+4>>2]==(0|a))||(o=Ut[s+4>>2],r=t+Wt(i,24)|0,Ut[r>>2]=Ut[s>>2],Ut[r+4>>2]=o,t=Ut[s+20>>2],Ut[r+16>>2]=Ut[s+16>>2],Ut[r+20>>2]=t,t=Ut[s+12>>2],Ut[r+8>>2]=Ut[s+8>>2],Ut[r+12>>2]=t,i=i+1|0,r=Ut[e>>2]),(l=l+1|0)>>>0<r>>>0;);if(!(r>>>0<=i>>>0))for(s=Ut[e+4>>2];e=s+Wt(i,24)|0,Ut[e+16>>2]=0,Ut[e+8>>2]=0,Ut[e+12>>2]=0,Ut[e>>2]=-1,Ut[e+4>>2]=-1,(0|r)!=(0|(i=i+1|0)););}}}function i(e){Ut[e+8>>2]=0,Ut[e>>2]=0,Ut[e+4>>2]=0}function r(e){var t;(t=Ut[e>>2])&&e0(t),(t=Ut[e+4>>2])&&e0(t),Ut[e+8>>2]=0,Ut[e>>2]=0,Ut[e+4>>2]=0}function ne(e,t){var n,a,r,i=0,i=1;return Kt[e+8>>2]>=t>>>0||((n=A(i=Ut[e>>2],a=4<<t))|29<t>>>0||e0(i),i=0,(Ut[e>>2]=n)&&((n=A(r=Ut[e+4>>2],a))|29<t>>>0||e0(r),Ut[e+4>>2]=n)&&(Jt(n,a),Ut[e+8>>2]=t,i=1)),i}function i0(e,t){var n,a,r=0;if(e){Jt(e+8|0,352),Ut[e+24>>2]=1024,n=$t(Ut[e+4>>2]=16384),Ut[e>>2]=n,r=$t(4096),Ut[e+16>>2]=r,a=$t(8192),Ut[e+20>>2]=a;e:{if(n){if(r&&a)break e;e0(n),r=Ut[e+16>>2]}return r&&e0(r),(t=Ut[e+20>>2])&&e0(t),Jt(e,360),1}Ut[e+336>>2]=t,e=0}else e=-1;return e}function ae(e){var t;e&&((t=Ut[e>>2])&&e0(t),(t=Ut[e+16>>2])&&e0(t),(t=Ut[e+20>>2])&&e0(t),Jt(e,360))}function re(e){var t=0,n=0,a=0,r=0;if(e){if(_e[Ut[e>>2]+22|0]=0,_e[Ut[e>>2]+23|0]=0,_e[Ut[e>>2]+24|0]=0,1<=((_e[Ut[e>>2]+25|0]=0)|(a=Ut[e+4>>2])))for(r=Ut[e>>2];t=Ut[6512+((Xt[n+r|0]^t>>>24)<<2)>>2]^t<<8,(0|a)!=(0|(n=n+1|0)););if(1<=(0|(a=Ut[e+12>>2])))for(r=Ut[e+8>>2],n=0;t=Ut[6512+((Xt[n+r|0]^t>>>24)<<2)>>2]^t<<8,(0|a)!=(0|(n=n+1|0)););_e[Ut[e>>2]+22|0]=t,_e[Ut[e>>2]+23|0]=t>>>8,_e[Ut[e>>2]+24|0]=t>>>16,_e[Ut[e>>2]+25|0]=t>>>24}}function ie(e,t){var n;e:{if(((n=Ut[e+24>>2])-t|0)<=Ut[e+28>>2]){if((2147483647-t|0)<(0|n))break e;if(!(n=A(Ut[e+16>>2],(t=(0|(t=t+n|0))<2147483615?t+32|0:t)<<2)))break e;if(Ut[e+16>>2]=n,!(n=A(Ut[e+20>>2],t<<3)))break e;Ut[e+24>>2]=t,Ut[e+20>>2]=n}return}return(t=Ut[e>>2])&&e0(t),(t=Ut[e+16>>2])&&e0(t),(t=Ut[e+20>>2])&&e0(t),Jt(e,360),1}function se(e,t,n){var a,r,i,s=0,o=0,l=0,c=0,u=0,f=0,d=0,p=0,_=0;e:if(e&&(o=(0|(a=Ut[e+28>>2]))<255?a:255)&&(r=Ut[e>>2])){t:{n:{a:{if(d=Ut[e+332>>2]){if(1<=(0|a))break a;l=u=-1;break n}for(s=0<(0|o)?o:0;;){if((0|s)==(0|c))break n;if(f=c<<2,c=o=c+1|0,255!=Xt[f+Ut[e+16>>2]|0])break}s=o;break n}o=1<(0|o)?o:1,l=u=-1;a:{for(;;){if(!((0|c)<=4096|(0|f)<=3)){n=1;break a}if(255!=((f=0)|(i=Xt[Ut[e+16>>2]+(s<<2)|0]))&&(f=p=p+1|0,l=Ut[e+20>>2]+(s<<3)|0,u=Ut[l>>2],l=Ut[l+4>>2]),c=c+i|0,(0|o)==(0|(s=s+1|0)))break}s=o}if((o=255)==(0|s))break t}if(o=s,!n)break e}if(Ut[e+40>>2]=1399285583,k[e+44>>1]=0,n=Ut[e+16>>2],s=1&(-1^Xt[n+1|0]),_e[e+45|0]=s=d?s:2|s,!Ut[e+328>>2]|(0|o)!=(0|a)||(_e[e+45|0]=4|s),Ut[e+332>>2]=1,_e[e+53|0]=l>>>24,_e[e+52|0]=l>>>16,_e[e+51|0]=l>>>8,_e[e+50|0]=l,_e[e+49|0]=(16777215&l)<<8|u>>>24,_e[e+48|0]=(65535&l)<<16|u>>>16,_e[e+47|0]=(255&l)<<24|u>>>8,_e[e+46|0]=u,s=Ut[e+336>>2],_e[e+54|0]=s,_e[e+55|0]=s>>>8,_e[e+56|0]=s>>>16,_e[e+57|0]=s>>>24,-1==(0|(s=Ut[e+340>>2]))&&(s=Ut[e+340>>2]=0),_e[e+66|0]=o,k[e+62>>1]=c=0,k[e+64>>1]=0,_e[e+61|0]=s>>>24,_e[e+60|0]=s>>>16,_e[e+59|0]=s>>>8,_e[e+58|0]=s,Ut[e+340>>2]=s+(_=1),1<=(0|o))for(s=0;l=Ut[n+(s<<2)>>2],c=(255&(_e[67+(e+s|0)|0]=l))+c|0,(0|o)!=(0|(s=s+1|0)););if(Ut[t>>2]=e+40,Ut[e+324>>2]=s=o+27|0,Ut[t+4>>2]=s,s=Ut[e+12>>2],Ut[t+12>>2]=c,Ut[t+8>>2]=s+r,L(n,n+(o<<2)|0,(Ut[e+28>>2]=s=a-o|0)<<2),L(n=Ut[e+20>>2],n+(o<<3)|0,Ut[e+28>>2]<<3),Ut[e+12>>2]=Ut[e+12>>2]+c,t){if(_e[Ut[t>>2]+22|(e=0)]=0,_e[Ut[t>>2]+23|0]=0,_e[Ut[t>>2]+24|0]=0,1<=((_e[Ut[t>>2]+25|0]=0)|(n=Ut[t+4>>2])))for(o=Ut[t>>2],s=0;e=Ut[6512+((Xt[s+o|0]^e>>>24)<<2)>>2]^e<<8,(0|n)!=(0|(s=s+1|0)););if(1<=(0|(n=Ut[t+12>>2])))for(o=Ut[t+8>>2],s=0;e=Ut[6512+((Xt[s+o|0]^e>>>24)<<2)>>2]^e<<8,(0|n)!=(0|(s=s+1|0)););_e[Ut[t>>2]+22|0]=e,_e[Ut[t>>2]+23|0]=e>>>8,_e[Ut[t>>2]+24|0]=e>>>16,_e[Ut[t>>2]+25|0]=e>>>24}}return _}function oe(e){Ut[e+4>>2]<0||(Ut[e+8>>2]=0,Ut[e+12>>2]=0,Ut[e+24>>2]=0,Ut[e+16>>2]=0,Ut[e+20>>2]=0)}function le(e){!e|!Ut[e>>2]||(Ut[e+344>>2]=0,Ut[e+348>>2]=0,Ut[e+340>>2]=-1,Ut[e+332>>2]=0,Ut[e+324>>2]=0,Ut[e+328>>2]=0,Ut[e+36>>2]=0,Ut[e+28>>2]=0,Ut[e+32>>2]=0,Ut[e+8>>2]=0,Ut[e+12>>2]=0,Ut[e+352>>2]=0,Ut[e+356>>2]=0)}function ce(e){Ut[e>>2]=1}function s0(e){Ut[e+80>>2]=0,Ut[e+84>>2]=0,Ut[e+64>>2]=1732584193,Ut[e+68>>2]=-271733879,Ut[e+72>>2]=-1732584194,Ut[e+76>>2]=271733878,Ut[e+88>>2]=0,Ut[e+92>>2]=0}function ue(e,t){var n=0,a=0,r=63&Ut[t+80>>2];_e[0|(n=r+t|0)]=128,n=n+1|0,r>>>0<(a=56)?a=55-r|0:(Jt(n,63^r),fe(t- -64|0,t),n=t),Jt(n,a),n=Ut[t+80>>2],Ut[t+56>>2]=n<<3,Ut[t+60>>2]=Ut[t+84>>2]<<3|n>>>29,fe(t- -64|0,t),n=Xt[t+76|0]|Xt[t+77|0]<<8|(Xt[t+78|0]<<16|Xt[t+79|0]<<24),r=Xt[t+72|0]|Xt[t+73|0]<<8|(Xt[t+74|0]<<16|Xt[t+75|0]<<24),_e[e+8|0]=r,_e[e+9|0]=r>>>8,_e[e+10|0]=r>>>16,_e[e+11|0]=r>>>24,_e[e+12|0]=n,_e[e+13|0]=n>>>8,_e[e+14|0]=n>>>16,_e[e+15|0]=n>>>24,n=Xt[t+68|0]|Xt[t+69|0]<<8|(Xt[t+70|0]<<16|Xt[t+71|0]<<24),r=Xt[t+64|0]|Xt[t+65|0]<<8|(Xt[t+66|0]<<16|Xt[t+67|0]<<24),_e[0|e]=r,_e[e+1|0]=r>>>8,_e[e+2|0]=r>>>16,_e[e+3|0]=r>>>24,_e[e+4|0]=n,_e[e+5|0]=n>>>8,_e[e+6|0]=n>>>16,_e[e+7|0]=n>>>24,(e=Ut[t+88>>2])&&(e0(e),Ut[t+88>>2]=0,Ut[t+92>>2]=0),Jt(t,96)}function fe(e,t){var n,a,r,i,s,o,l,c,u,f,d=Ut[t+16>>2],p=Ut[t+32>>2],_=Ut[t+48>>2],m=Ut[t+36>>2],h=Ut[t+52>>2],b=Ut[t+4>>2],v=Ut[t+20>>2],g=(o=Ut[e+4>>2])+a0((((l=Ut[t>>2])+(c=Ut[e>>2])|0)+((u=Ut[e+12>>2])^(u^(f=Ut[e+8>>2]))&o)|0)-680876936|0,7)|0,k=Ut[t+12>>2],A=Ut[t+8>>2],y=a0(((b+u|0)+(g&(o^f)^f)|0)-389564586|0,12)+g|0,w=a0(606105819+((A+f|0)+(y&(g^o)^o)|0)|0,17)+y|0,E=a0(((o+k|0)+(g^w&(g^y))|0)-1044525330|0,22)+w|0,g=a0(((g+d|0)+(y^E&(w^y))|0)-176418897|0,7)+E|0,R=Ut[t+28>>2],C=Ut[t+24>>2],y=a0(1200080426+((y+v|0)+(w^g&(w^E))|0)|0,12)+g|0,w=a0(((w+C|0)+(E^y&(g^E))|0)-1473231341|0,17)+y|0,E=a0(((E+R|0)+(g^w&(g^y))|0)-45705983|0,22)+w|0;g=a0(1770035416+((g+p|0)+(y^E&(w^y))|0)|0,7)+E|0,n=Ut[t+44>>2],a=Ut[t+40>>2],y=a0(((y+m|0)+(w^g&(w^E))|0)-1958414417|0,12)+g|0,w=a0(((w+a|0)+(E^y&(g^E))|0)-42063|0,17)+y|0,E=a0(((E+n|0)+(g^w&(g^y))|0)-1990404162|0,22)+w|0,g=a0(1804603682+((g+_|0)+(y^E&(w^y))|0)|0,7)+E|0,r=Ut[t+56>>2],i=Ut[t+60>>2],s=(t=(y=a0(((y+h|0)+(w^g&(w^E))|0)-40341101|0,12)+g|0)+a0(((w+r|0)+(E^(g^E)&y)|0)-1502002290|0,17)|0)+n|0,w=g+b|0,g=a0(1236535329+((E+i|0)+(g^t&(g^y))|0)|0,22)+t|0,w=a0((w+(t^(g^t)&y)|0)-165796510|0,5)+g|0,t=a0(((y+C|0)+(g^t&(g^w))|0)-1069501632|0,9)+w|0,y=a0(643717713+(s+((w^t)&g^w)|0)|0,14)+t|0,g=a0(((g+l|0)+(t^w&(t^y))|0)-373897302|0,20)+y|0,w=a0(((w+v|0)+(y^t&(g^y))|0)-701558691|0,5)+g|0,t=a0(38016083+((t+a|0)+(g^y&(g^w))|0)|0,9)+w|0,y=a0(((i+y|0)+((w^t)&g^w)|0)-660478335|0,14)+t|0,g=a0(((g+d|0)+(t^w&(t^y))|0)-405537848|0,20)+y|0,w=a0(568446438+((w+m|0)+(y^t&(g^y))|0)|0,5)+g|0,t=a0(((t+r|0)+(g^y&(g^w))|0)-1019803690|0,9)+w|0,y=a0(((y+k|0)+((w^t)&g^w)|0)-187363961|0,14)+t|0,g=a0(1163531501+((g+p|0)+(t^w&(t^y))|0)|0,20)+y|0,w=a0(((w+h|0)+(y^t&(g^y))|0)-1444681467|0,5)+g|0,t=a0(((t+A|0)+(g^y&(g^w))|0)-51403784|0,9)+w|0,y=a0(1735328473+((y+R|0)+((w^t)&g^w)|0)|0,14)+t|0,g=a0(((g+_|0)+(t^(E=t^y)&w)|0)-1926607734|0,20)+y|0,w=a0(((w+v|0)+(g^E)|0)-378558|0,4)+g|0,t=a0(((t+p|0)+(g^y^w)|0)-2022574463|0,11)+w|0,y=a0(1839030562+((y+n|0)+(t^g^w)|0)|0,16)+t|0,g=a0(((g+r|0)+(t^w^y)|0)-35309556|0,23)+y|0,w=a0(((w+b|0)+(t^y^g)|0)-1530992060|0,4)+g|0,t=a0(1272893353+((t+d|0)+(g^y^w)|0)|0,11)+w|0,y=a0(((y+R|0)+(t^g^w)|0)-155497632|0,16)+t|0,g=a0(((g+a|0)+(t^w^y)|0)-1094730640|0,23)+y|0,w=a0(681279174+((w+h|0)+(t^y^g)|0)|0,4)+g|0,t=a0(((t+l|0)+(g^y^w)|0)-358537222|0,11)+w|0,y=a0(((y+k|0)+(t^g^w)|0)-722521979|0,16)+t|0,g=a0(76029189+((g+C|0)+(t^w^y)|0)|0,23)+y|0,E=(w=a0(((w+m|0)+(t^y^g)|0)-640364487|0,4)+g|0)+l|0,l=(t=a0(((t+_|0)+(g^y^w)|0)-421815835|0,11)+w|0)^w,w=a0(530742520+((y+i|0)+(t^g^w)|0)|0,16)+t|0,y=a0(((g+A|0)+(l^w)|0)-995338651|0,23)+w|0,g=a0((E+((y|-1^t)^w)|0)-198630844|0,6)+y|0,E=y+v|0,v=w+r|0,w=a0(1126891415+((t+R|0)+(y^(g|-1^w))|0)|0,10)+g|0,y=a0((v+(g^(w|-1^y))|0)-1416354905|0,15)+w|0,t=a0((E+((y|-1^g)^w)|0)-57434055|0,21)+y|0,E=y+a|0,v=w+k|0,w=a0(1700485571+((g+_|0)+(y^(t|-1^w))|0)|0,6)+t|0,y=a0((v+(t^(w|-1^y))|0)-1894986606|0,10)+w|0,g=a0((E+((y|-1^t)^w)|0)-1051523|0,15)+y|0,E=y+i|0,p=w+p|0,w=a0(((t+b|0)+(y^(g|-1^w))|0)-2054922799|0,21)+g|0,y=a0(1873313359+(p+(g^(w|-1^y))|0)|0,6)+w|0,t=a0((E+((y|-1^g)^w)|0)-30611744|0,10)+y|0,g=a0(((g+C|0)+(y^(t|-1^w))|0)-1560198380|0,15)+t|0,w=a0(1309151649+((w+h|0)+(t^(g|-1^y))|0)|0,21)+g|0,y=a0(((y+d|0)+((w|-1^t)^g)|0)-145523070|0,6)+w|0,Ut[e>>2]=y+c,t=a0(((t+n|0)+(w^(y|-1^g))|0)-1120210379|0,10)+y|0,Ut[e+12>>2]=t+u,g=a0(718787259+((g+A|0)+(y^(t|-1^w))|0)|0,15)+t|0,Ut[e+8>>2]=g+f,s=a0(((w+m|0)+(t^(g|-1^y))|0)-343485551|0,21)+(g+o|0)|0,Ut[e+4>>2]=s}function de(e,t,n,a,r){var i,s=0,o=0,l=0,c=0,u=0,f=0,d=0,p=0;if(ke(r,0,n,0),!Qt&&(ke(a,0,l=Wt(n,r),0),!Qt)){if(o=Ut[e+88>>2],i=Wt(a,l),Kt[e+92>>2]>=i>>>0)s=o;else{e:{if(!(s=A(o,i))){if(e0(o),s=$t(i),Ut[e+88>>2]=s)break e;return Ut[e+92>>2]=0}Ut[e+88>>2]=s}Ut[e+92>>2]=i}e:{t:{n:{a:{r:{i:{s:{o:{l:{c:{u:{f:{if((0|(o=Wt(r,100)+n|0))<=300){switch(o+-101|0){case 3:break r;case 5:break i;case 7:break s;case 2:case 4:case 6:break t;case 0:break n;case 1:break a}switch(o+-201|0){case 0:break o;case 1:break l;case 3:break c;case 5:break u;case 7:break f;default:break t}}d:{p:{switch(o+-401|0){default:switch(o+-301|0){case 0:break d;case 1:break p;default:break t}case 7:if(!a)break e;for(p=Ut[t+28>>2],c=Ut[t+24>>2],d=Ut[t+20>>2],l=Ut[t+16>>2],f=Ut[t+12>>2],o=Ut[t+8>>2],r=Ut[t+4>>2],t=Ut[t>>2],n=0;Ut[s>>2]=Ut[(u=n<<2)+t>>2],Ut[s+4>>2]=Ut[r+u>>2],Ut[s+8>>2]=Ut[o+u>>2],Ut[s+12>>2]=Ut[f+u>>2],Ut[s+16>>2]=Ut[l+u>>2],Ut[s+20>>2]=Ut[u+d>>2],Ut[s+24>>2]=Ut[c+u>>2],Ut[s+28>>2]=Ut[u+p>>2],s=s+32|0,(0|a)!=(0|(n=n+1|0)););break e;case 5:if(!a)break e;for(d=Ut[t+20>>2],l=Ut[t+16>>2],f=Ut[t+12>>2],o=Ut[t+8>>2],r=Ut[t+4>>2],t=Ut[t>>2],n=0;Ut[s>>2]=Ut[(c=n<<2)+t>>2],Ut[s+4>>2]=Ut[r+c>>2],Ut[s+8>>2]=Ut[o+c>>2],Ut[s+12>>2]=Ut[c+f>>2],Ut[s+16>>2]=Ut[l+c>>2],Ut[s+20>>2]=Ut[c+d>>2],s=s+24|0,(0|a)!=(0|(n=n+1|0)););break e;case 3:if(!a)break e;for(f=Ut[t+12>>2],o=Ut[t+8>>2],r=Ut[t+4>>2],t=Ut[t>>2],n=0;Ut[s>>2]=Ut[(l=n<<2)+t>>2],Ut[s+4>>2]=Ut[r+l>>2],Ut[s+8>>2]=Ut[o+l>>2],Ut[s+12>>2]=Ut[l+f>>2],s=s+16|0,(0|a)!=(0|(n=n+1|0)););break e;case 1:if(!a)break e;for(o=Ut[t+4>>2],r=Ut[t>>2],t=0;Ut[s>>2]=Ut[(n=t<<2)+r>>2],Ut[s+4>>2]=Ut[n+o>>2],s=s+8|0,(0|a)!=(0|(t=t+1|0)););break e;case 0:break;case 2:case 4:case 6:break t}if(!a)break e;for(n=Ut[t>>2],t=0;Ut[s>>2]=Ut[n+(t<<2)>>2],s=s+4|0,(0|a)!=(0|(t=t+1|0)););break e}if(!a)break e;for(n=0;o=Ut[(r=n<<2)+Ut[t>>2]>>2],_e[0|s]=o,_e[s+2|0]=o>>>16,_e[s+1|0]=o>>>8,r=Ut[r+Ut[t+4>>2]>>2],_e[s+3|0]=r,_e[s+5|0]=r>>>16,_e[s+4|0]=r>>>8,s=s+6|0,(0|a)!=(0|(n=n+1|0)););break e}if(!a)break e;for(n=0;r=Ut[Ut[t>>2]+(n<<2)>>2],_e[0|s]=r,_e[s+2|0]=r>>>16,_e[s+1|0]=r>>>8,s=s+3|0,(0|a)!=(0|(n=n+1|0)););break e}if(!a)break e;for(p=Ut[t+28>>2],c=Ut[t+24>>2],d=Ut[t+20>>2],l=Ut[t+16>>2],f=Ut[t+12>>2],o=Ut[t+8>>2],r=Ut[t+4>>2],t=Ut[t>>2],n=0;k[s>>1]=Ut[(u=n<<2)+t>>2],k[s+2>>1]=Ut[r+u>>2],k[s+4>>1]=Ut[o+u>>2],k[s+6>>1]=Ut[f+u>>2],k[s+8>>1]=Ut[l+u>>2],k[s+10>>1]=Ut[u+d>>2],k[s+12>>1]=Ut[c+u>>2],k[s+14>>1]=Ut[u+p>>2],s=s+16|0,(0|a)!=(0|(n=n+1|0)););break e}if(!a)break e;for(d=Ut[t+20>>2],l=Ut[t+16>>2],f=Ut[t+12>>2],o=Ut[t+8>>2],r=Ut[t+4>>2],t=Ut[t>>2],n=0;k[s>>1]=Ut[(c=n<<2)+t>>2],k[s+2>>1]=Ut[r+c>>2],k[s+4>>1]=Ut[o+c>>2],k[s+6>>1]=Ut[c+f>>2],k[s+8>>1]=Ut[l+c>>2],k[s+10>>1]=Ut[c+d>>2],s=s+12|0,(0|a)!=(0|(n=n+1|0)););break e}if(!a)break e;for(f=Ut[t+12>>2],o=Ut[t+8>>2],r=Ut[t+4>>2],t=Ut[t>>2],n=0;k[s>>1]=Ut[(l=n<<2)+t>>2],k[s+2>>1]=Ut[r+l>>2],k[s+4>>1]=Ut[o+l>>2],k[s+6>>1]=Ut[l+f>>2],s=s+8|0,(0|a)!=(0|(n=n+1|0)););break e}if(!a)break e;for(o=Ut[t+4>>2],r=Ut[t>>2],t=0;k[s>>1]=Ut[(n=t<<2)+r>>2],k[s+2>>1]=Ut[n+o>>2],s=s+4|0,(0|a)!=(0|(t=t+1|0)););break e}if(!a)break e;for(n=Ut[t>>2],t=0;k[s>>1]=Ut[n+(t<<2)>>2],s=s+2|0,(0|a)!=(0|(t=t+1|0)););break e}if(!a)break e;for(r=0;_e[0|s]=Ut[(n=r<<2)+Ut[t>>2]>>2],_e[s+1|0]=Ut[n+Ut[t+4>>2]>>2],_e[s+2|0]=Ut[n+Ut[t+8>>2]>>2],_e[s+3|0]=Ut[n+Ut[t+12>>2]>>2],_e[s+4|0]=Ut[n+Ut[t+16>>2]>>2],_e[s+5|0]=Ut[n+Ut[t+20>>2]>>2],_e[s+6|0]=Ut[n+Ut[t+24>>2]>>2],_e[s+7|0]=Ut[n+Ut[t+28>>2]>>2],s=s+8|0,(0|(r=r+1|0))!=(0|a););break e}if(!a)break e;for(r=0;_e[0|s]=Ut[(n=r<<2)+Ut[t>>2]>>2],_e[s+1|0]=Ut[n+Ut[t+4>>2]>>2],_e[s+2|0]=Ut[n+Ut[t+8>>2]>>2],_e[s+3|0]=Ut[n+Ut[t+12>>2]>>2],_e[s+4|0]=Ut[n+Ut[t+16>>2]>>2],_e[s+5|0]=Ut[n+Ut[t+20>>2]>>2],s=s+6|0,(0|(r=r+1|0))!=(0|a););break e}if(!a)break e;for(r=0;_e[0|s]=Ut[(n=r<<2)+Ut[t>>2]>>2],_e[s+1|0]=Ut[n+Ut[t+4>>2]>>2],_e[s+2|0]=Ut[n+Ut[t+8>>2]>>2],_e[s+3|0]=Ut[n+Ut[t+12>>2]>>2],s=s+4|0,(0|(r=r+1|0))!=(0|a););break e}if(!a)break e;for(n=0;_e[0|s]=Ut[(r=n<<2)+Ut[t>>2]>>2],_e[s+1|0]=Ut[r+Ut[t+4>>2]>>2],s=s+2|0,(0|a)!=(0|(n=n+1|0)););break e}if(!a)break e;for(n=0;_e[0|s]=Ut[Ut[t>>2]+(n<<2)>>2],s=s+1|0,(0|a)!=(0|(n=n+1|0)););break e}switch(r+-1|0){case 3:if(!n|!a)break e;for(o=0;;){for(r=0;Ut[s>>2]=Ut[Ut[(r<<2)+t>>2]+(o<<2)>>2],s=s+4|0,(0|(r=r+1|0))!=(0|n););if((0|(o=o+1|0))==(0|a))break}break e;case 2:if(!n|!a)break e;for(;;){for(r=0;o=Ut[Ut[(r<<2)+t>>2]+(f<<2)>>2],_e[0|s]=o,_e[s+2|0]=o>>>16,_e[s+1|0]=o>>>8,s=s+3|0,(0|(r=r+1|0))!=(0|n););if((0|(f=f+1|0))==(0|a))break}break e;case 1:if(!n|!a)break e;for(o=0;;){for(r=0;k[s>>1]=Ut[Ut[(r<<2)+t>>2]+(o<<2)>>2],s=s+2|0,(0|(r=r+1|0))!=(0|n););if((0|(o=o+1|0))==(0|a))break}break e;case 0:break;default:break e}if(!(!n|!a))for(o=0;;){for(r=0;_e[0|s]=Ut[Ut[(r<<2)+t>>2]+(o<<2)>>2],s=s+1|0,(0|(r=r+1|0))!=(0|n););if((0|(o=o+1|0))==(0|a))break}}if(n=Ut[e+80>>2],Ut[e+80>>2]=t=n+i|0,a=Ut[e+88>>2],t>>>0<n>>>0&&(Ut[(t=e+84|0)>>2]=Ut[t>>2]+1),t=64+(e-(r=64-(63&n)|0)|0)|0,i>>>0<r>>>0)he(t,a,i);else{if(he(t,a,r),fe(n=e- -64|0,e),s=a+r|0,64<=(t=i-r|0)>>>0)for(;r=Xt[s+4|0]|Xt[s+5|0]<<8|(Xt[s+6|0]<<16|Xt[s+7|0]<<24),a=Xt[0|s]|Xt[s+1|0]<<8|(Xt[s+2|0]<<16|Xt[s+3|0]<<24),_e[0|e]=a,_e[e+1|0]=a>>>8,_e[e+2|0]=a>>>16,_e[e+3|0]=a>>>24,_e[e+4|0]=r,_e[e+5|0]=r>>>8,_e[e+6|0]=r>>>16,_e[e+7|0]=r>>>24,r=Xt[s+60|0]|Xt[s+61|0]<<8|(Xt[s+62|0]<<16|Xt[s+63|0]<<24),a=Xt[s+56|0]|Xt[s+57|0]<<8|(Xt[s+58|0]<<16|Xt[s+59|0]<<24),_e[e+56|0]=a,_e[e+57|0]=a>>>8,_e[e+58|0]=a>>>16,_e[e+59|0]=a>>>24,_e[e+60|0]=r,_e[e+61|0]=r>>>8,_e[e+62|0]=r>>>16,_e[e+63|0]=r>>>24,r=Xt[s+52|0]|Xt[s+53|0]<<8|(Xt[s+54|0]<<16|Xt[s+55|0]<<24),a=Xt[s+48|0]|Xt[s+49|0]<<8|(Xt[s+50|0]<<16|Xt[s+51|0]<<24),_e[e+48|0]=a,_e[e+49|0]=a>>>8,_e[e+50|0]=a>>>16,_e[e+51|0]=a>>>24,_e[e+52|0]=r,_e[e+53|0]=r>>>8,_e[e+54|0]=r>>>16,_e[e+55|0]=r>>>24,r=Xt[s+44|0]|Xt[s+45|0]<<8|(Xt[s+46|0]<<16|Xt[s+47|0]<<24),a=Xt[s+40|0]|Xt[s+41|0]<<8|(Xt[s+42|0]<<16|Xt[s+43|0]<<24),_e[e+40|0]=a,_e[e+41|0]=a>>>8,_e[e+42|0]=a>>>16,_e[e+43|0]=a>>>24,_e[e+44|0]=r,_e[e+45|0]=r>>>8,_e[e+46|0]=r>>>16,_e[e+47|0]=r>>>24,r=Xt[s+36|0]|Xt[s+37|0]<<8|(Xt[s+38|0]<<16|Xt[s+39|0]<<24),a=Xt[s+32|0]|Xt[s+33|0]<<8|(Xt[s+34|0]<<16|Xt[s+35|0]<<24),_e[e+32|0]=a,_e[e+33|0]=a>>>8,_e[e+34|0]=a>>>16,_e[e+35|0]=a>>>24,_e[e+36|0]=r,_e[e+37|0]=r>>>8,_e[e+38|0]=r>>>16,_e[e+39|0]=r>>>24,r=Xt[s+28|0]|Xt[s+29|0]<<8|(Xt[s+30|0]<<16|Xt[s+31|0]<<24),a=Xt[s+24|0]|Xt[s+25|0]<<8|(Xt[s+26|0]<<16|Xt[s+27|0]<<24),_e[e+24|0]=a,_e[e+25|0]=a>>>8,_e[e+26|0]=a>>>16,_e[e+27|0]=a>>>24,_e[e+28|0]=r,_e[e+29|0]=r>>>8,_e[e+30|0]=r>>>16,_e[e+31|0]=r>>>24,r=Xt[s+20|0]|Xt[s+21|0]<<8|(Xt[s+22|0]<<16|Xt[s+23|0]<<24),a=Xt[s+16|0]|Xt[s+17|0]<<8|(Xt[s+18|0]<<16|Xt[s+19|0]<<24),_e[e+16|0]=a,_e[e+17|0]=a>>>8,_e[e+18|0]=a>>>16,_e[e+19|0]=a>>>24,_e[e+20|0]=r,_e[e+21|0]=r>>>8,_e[e+22|0]=r>>>16,_e[e+23|0]=r>>>24,r=Xt[s+12|0]|Xt[s+13|0]<<8|(Xt[s+14|0]<<16|Xt[s+15|0]<<24),a=Xt[s+8|0]|Xt[s+9|0]<<8|(Xt[s+10|0]<<16|Xt[s+11|0]<<24),_e[e+8|0]=a,_e[e+9|0]=a>>>8,_e[e+10|0]=a>>>16,_e[e+11|0]=a>>>24,_e[e+12|0]=r,_e[e+13|0]=r>>>8,_e[e+14|0]=r>>>16,_e[e+15|0]=r>>>24,fe(n,e),s=s- -64|0,63<(t=t+-64|0)>>>0;);he(e,s,t)}s=1}return s}function pe(e){return e&&(Ut[2896]=e,1)}function Re(e){var t,n;return Kt[e+20>>2]<=Kt[e+28>>2]||(Vt[Ut[e+36>>2]](e,0,0),Ut[e+20>>2])?((t=Ut[e+4>>2])>>>0<(n=Ut[e+8>>2])>>>0&&Vt[Ut[e+40>>2]](e,t=t-n|0,t>>31,1),Ut[e+28>>2]=0,Ut[e+16>>2]=0,Ut[e+20>>2]=0,Ut[e+4>>2]=0,Ut[e+8>>2]=0):-1}function Ce(e){var t,n,a=0;Ut[e+76>>2],(n=1&Ut[e>>2])||((a=Ut[e+52>>2])&&(Ut[a+56>>2]=Ut[e+56>>2]),(t=Ut[e+56>>2])&&(Ut[t+52>>2]=a),Ut[3023]==(0|e)&&(Ut[3023]=t)),function e(t){var n=0;if(t)return Ut[t+76>>2],Re(t);if(Ut[2794]&&(n=e(Ut[2794])),t=Ut[3023])for(;Kt[t+20>>2]>Kt[t+28>>2]&&(n=Re(t)|n),t=Ut[t+56>>2];);return n}(e),Vt[Ut[e+12>>2]](e),(a=Ut[e+96>>2])&&e0(a),n||e0(e)}function Se(e,t,n){var a=0,r=0,i=0;e:if(n){for(;(0|(a=Xt[0|e]))==(0|(r=Xt[0|t]));)if(t=t+1|0,e=e+1|0,!(n=n+-1|0))break e;i=a-r|0}return i}function o0(e){Ut[e+8>>2]=0,Ut[e+12>>2]=0,Ut[e>>2]=0,Ut[e+4>>2]=3,Ut[e+56>>2]=0,Ut[e+60>>2]=0,Ut[e+48>>2]=0,Ut[e+52>>2]=0,Ut[e+40>>2]=0,Ut[e+44>>2]=0,Ut[e+32>>2]=0,Ut[e+36>>2]=0,Ut[e+24>>2]=0,Ut[e+28>>2]=0,Ut[e+16>>2]=0,Ut[e+20>>2]=0}function Te(e){return e=+b(+e),Yt(e)<2147483648?~~e:-2147483648}function Me(e){var t,n,a,r=0,i=0,s=0,o=0;e:{t:{n:{if(r0(+e),r=0|qt[1],i=0|qt[0],!((0<(0|r)||0<=(0|r)&&!(i>>>0<0))&&1048575<(s=r)>>>0)){if(!(2147483647&r|i))return-1/(e*e);if(-1<(0|r))break n;return(e-e)/0}if(2146435071<s>>>0)break e;if(o=-1023,(r=1072693248)!=(0|s)){r=s;break t}if(i)break t;return 0}r0(0x40000000000000*e),r=0|qt[1],i=0|qt[0],o=-1077}t=((r=r+614242|0)>>>20|0)+o|0,ye(0,0|i),ye(1,1072079006+(1048575&r)|0),a=.6931471803691238*t,n=1.9082149292705877e-10*t,t=(e=+we()-1)*(.5*e),e=a+(e+(n+(a=e/(e+2))*((e=(a*=a)*a)*(e*(.15313837699209373*e+.22222198432149784)+.3999999999940942)+a*(e*(e*(.14798198605116586*e+.1818357216161805)+.2857142874366239)+.6666666666666735)+t)-t))}return e}function Pe(e){var t=0,n=0,a=0;e:{t:if(3&(t=e)){if(!Xt[0|e])return 0;for(;;){if(!(3&(t=t+1|0)))break t;if(!Xt[0|t])break}break e}for(;t=(n=t)+4|0,!((-1^(a=Ut[n>>2]))&a+-16843009&-2139062144););if(!(255&a))return n-e|0;for(;a=Xt[n+1|0],n=t=n+1|0,a;);}return t-e|0}function Be(e,t){return e=((e,t)=>{var n=0,a=0;e:{if(a=255&t){if(3&e)for(;;){if(!(n=Xt[0|e])|(0|n)==(255&t))break e;if(!(3&(e=e+1|0)))break}t:if(!((-1^(n=Ut[e>>2]))&n+-16843009&-2139062144))for(a=Wt(a,16843009);;){if((-1^(n^=a))&n+-16843009&-2139062144)break t;if(n=Ut[e+4>>2],e=e+4|0,n+-16843009&(-1^n)&-2139062144)break}for(;(a=Xt[0|(n=e)])&&(e=n+1|0,(0|a)!=(255&t)););return n}return Pe(e)+e|0}return e})(e,t),Xt[0|e]==(255&t)?e:0}function l0(e,t,n){var a=0;return 1073741823<e>>>0||(e=$t(e?e<<2:1))&&((a=Ut[t>>2])&&e0(a),Ut[t>>2]=e,Ut[n>>2]=e,a=1),a}function c0(e,t){return t&&e?(ke(t,0,e,0),Qt?0:$t(Wt(e,t))):$t(1)}function u0(){var e,t,n,a,r=0;if(a=B(1,8)){if(t=B(1,504),Ut[a>>2]=t){if(e=B(1,6160),Ut[a+4>>2]=e){if(r=B(1,44),Ut[e+56>>2]=r){if(Ut[e+1128>>2]=16,n=$t(Ut[1364]<<1&-16),Ut[e+1120>>2]=n)return Ut[e+252>>2]=0,Ut[e+220>>2]=0,Ut[e+224>>2]=0,Ut[(r=e+3616|0)>>2]=0,Ut[r+4>>2]=0,Ut[(r=e+3608|0)>>2]=0,Ut[r+4>>2]=0,Ut[(r=e+3600|0)>>2]=0,Ut[r+4>>2]=0,Ut[(r=e+3592|0)>>2]=0,Ut[r+4>>2]=0,Ut[e+60>>2]=0,Ut[e+64>>2]=0,Ut[e+68>>2]=0,Ut[e+72>>2]=0,Ut[e+76>>2]=0,Ut[e+80>>2]=0,Ut[e+84>>2]=0,Ut[e+88>>2]=0,Ut[e+92>>2]=0,Ut[e+96>>2]=0,Ut[e+100>>2]=0,Ut[e+104>>2]=0,Ut[e+108>>2]=0,Ut[e+112>>2]=0,Ut[e+116>>2]=0,Ut[e+120>>2]=0,i(e+124|0),i(e+136|0),i(e+148|0),i(e+160|0),i(e+172|0),i(e+184|0),i(e+196|0),i(e+208|0),Ut[e+48>>2]=0,Jt(e+608|(Ut[e+52>>2]=0),512),Ut[e+1124>>2]=0,Ut[e+608>>2]=1,Ut[e+32>>2]=0,Ut[e+24>>2]=0,Ut[e+28>>2]=0,Ut[e+16>>2]=0,Ut[e+20>>2]=0,Ut[e+8>>2]=0,Ut[e+12>>2]=0,Ut[e>>2]=0,Ut[e+4>>2]=0,Ut[t+28>>2]=0,ce(t+32|0),Ut[t>>2]=9,0|a;I(r)}e0(e)}e0(t)}e0(a)}return 0}function Fe(e){var t,n=0;(e|=0)&&(De(e),n=Ut[e+4>>2],(t=Ut[n+1120>>2])&&(e0(t),n=Ut[e+4>>2]),I(Ut[n+56>>2]),r(Ut[e+4>>2]+124|0),r(Ut[e+4>>2]+136|0),r(Ut[e+4>>2]+148|0),r(Ut[e+4>>2]+160|0),r(Ut[e+4>>2]+172|0),r(Ut[e+4>>2]+184|0),r(Ut[e+4>>2]+196|0),r(Ut[e+4>>2]+208|0),e0(Ut[e+4>>2]),e0(Ut[e>>2]),e0(e))}function De(e){var t,n,a,r=0,i=0,i=1;return 9!=Ut[Ut[(e|=0)>>2]>>2]&&(ue((r=Ut[e+4>>2])+3732|0,r+3636|0),e0(Ut[Ut[e+4>>2]+452>>2]),Ut[Ut[e+4>>2]+452>>2]=0,r=Ut[e+4>>2],Ut[r+252>>2]=0,n=Ut[r+56>>2],(a=Ut[n>>2])&&e0(a),Ut[n+36>>2]=0,Ut[n+40>>2]=0,Ut[n>>2]=0,Ut[n+4>>2]=0,Ut[n+8>>2]=0,Ut[n+12>>2]=0,Ut[n+16>>2]=0,i=e+4|(Ut[n+20>>2]=0),r=Ut[e+4>>2],(a=Ut[r+60>>2])&&(e0(a+-16|0),Ut[Ut[i>>2]+60>>2]=0,r=Ut[i>>2]),(a=Ut[r+3592>>2])&&(e0(a),Ut[Ut[i>>2]+92>>2]=0,Ut[Ut[i>>2]+3592>>2]=0,r=Ut[i>>2]),(a=Ut[r- -64>>2])&&(e0(a+-16|0),Ut[Ut[i>>2]- -64>>2]=0,r=Ut[i>>2]),(a=Ut[r+3596>>2])&&(e0(a),Ut[Ut[i>>2]+96>>2]=0,Ut[Ut[i>>2]+3596>>2]=0,r=Ut[i>>2]),(a=Ut[r+68>>2])&&(e0(a+-16|0),Ut[Ut[i>>2]+68>>2]=0,r=Ut[i>>2]),(a=Ut[r+3600>>2])&&(e0(a),Ut[Ut[i>>2]+100>>2]=0,Ut[Ut[i>>2]+3600>>2]=0,r=Ut[i>>2]),(a=Ut[r+72>>2])&&(e0(a+-16|0),Ut[Ut[i>>2]+72>>2]=0,r=Ut[i>>2]),(a=Ut[r+3604>>2])&&(e0(a),Ut[Ut[i>>2]+104>>2]=0,Ut[Ut[i>>2]+3604>>2]=0,r=Ut[i>>2]),(a=Ut[r+76>>2])&&(e0(a+-16|0),Ut[Ut[i>>2]+76>>2]=0,r=Ut[i>>2]),(a=Ut[r+3608>>2])&&(e0(a),Ut[Ut[i>>2]+108>>2]=0,Ut[Ut[i>>2]+3608>>2]=0,r=Ut[i>>2]),(a=Ut[r+80>>2])&&(e0(a+-16|0),Ut[Ut[i>>2]+80>>2]=0,r=Ut[i>>2]),(a=Ut[r+3612>>2])&&(e0(a),Ut[Ut[i>>2]+112>>2]=0,Ut[Ut[i>>2]+3612>>2]=0,r=Ut[i>>2]),(a=Ut[r+84>>2])&&(e0(a+-16|0),Ut[Ut[i>>2]+84>>2]=0,r=Ut[i>>2]),(a=Ut[r+3616>>2])&&(e0(a),Ut[Ut[i>>2]+116>>2]=0,Ut[Ut[i>>2]+3616>>2]=0,r=Ut[i>>2]),(a=Ut[r+88>>2])&&(e0(a+-16|0),Ut[Ut[i>>2]+88>>2]=0,r=Ut[i>>2]),(a=Ut[r+3620>>2])&&(e0(a),Ut[Ut[i>>2]+120>>2]=0,Ut[Ut[i>>2]+3620>>2]=0,r=Ut[i>>2]),Ut[r+220>>2]=0,Ut[r+224>>2]=0,Ut[r>>2]&&((n=(r=Ut[e>>2]+32|0)+368|0)&&((t=Ut[n>>2])&&e0(t),Ut[n>>2]=0,Ut[4+n>>2]=0,Ut[24+n>>2]=0,Ut[16+n>>2]=0,Ut[20+n>>2]=0,Ut[8+n>>2]=0,Ut[12+n>>2]=0),ae(r+8|0),r=Ut[e+4>>2]),(a=Ut[r+52>>2])&&((0|a)!=Ut[1887]&&(Ce(a),r=Ut[i>>2]),Ut[r+52>>2]=0),i=1,Ut[r+3624>>2]&&(i=!Se(r+312|0,r+3732|0,16)),Ut[r+48>>2]=0,Jt(r+608|(Ut[r+3632>>2]=0),512),Ut[r+32>>2]=0,Ut[r+24>>2]=0,Ut[r+28>>2]=0,Ut[r+16>>2]=0,Ut[r+20>>2]=0,Ut[r+8>>2]=0,Ut[r+12>>2]=0,Ut[r>>2]=0,Ut[r+4>>2]=0,r=Ut[e+4>>2],Ut[r+1124>>2]=0,Ut[r+608>>2]=1,r=Ut[e>>2],Ut[r+28>>2]=0,ce(r+32|0),Ut[Ut[e>>2]>>2]=9),0|i}function f0(e,t,n,a,r,i,s,o,l,c){return 0|xe(e|=0,t|=0,n|=0,a|=0,r|=0,i|=0,s|=0,o|=0,l|=0,c|=0,0)}function xe(e,t,n,a,r,i,s,o,l,c,u){var f,d,p,_,m=0,m=5;e:{if(f=Ut[e>>2],9==Ut[f>>2]&&(m=2,!(!t|!s|!l||n&&!a|!r|!i))){if(m=Ut[e+4>>2],Ut[m>>2]=u){if(i0((d=f+32|0)+8|(_=0),Ut[d+4>>2])||((p=d+368|0)&&(Ut[p>>2]=0,Ut[4+p>>2]=0,Ut[24+p>>2]=0,Ut[16+p>>2]=0,Ut[20+p>>2]=0,Ut[8+p>>2]=0,Ut[12+p>>2]=0),Ut[d+396>>2]=-1,Ut[d+400>>2]=-1,Ut[d+408>>2]=0,Ut[d+412>>2]=0,Ut[d+404>>2]=Ut[d>>2],_=1),!_)break e;m=Ut[e+4>>2]}if(o0(m+3524|0),u=Ut[e+4>>2],Ut[u+44>>2]=5,Ut[u+40>>2]=6,Ut[u+36>>2]=5,f=Ut[u+56>>2],p=e,Ut[f+8>>2]=0,Ut[f+12>>2]=0,Ut[f+4>>2]=2048,Ut[f+16>>2]=0,Ut[f+20>>2]=0,d=$t(8192),!((Ut[f>>2]=d)&&(Ut[f+40>>2]=p,Ut[f+36>>2]=7)))return Ut[Ut[e>>2]>>2]=8,3;u=Ut[e+4>>2],Ut[u+48>>2]=c,Ut[u+32>>2]=l,Ut[u+28>>2]=o,Ut[u+24>>2]=s,Ut[u+20>>2]=i,Ut[u+16>>2]=r,Ut[u+12>>2]=a,Ut[u+8>>2]=n,Ut[u+4>>2]=t,Ut[u+3520>>2]=0,Ut[u+248>>2]=0,Ut[u+240>>2]=0,Ut[u+244>>2]=0,Ut[u+228>>2]=0,Ut[u+232>>2]=0,Ut[u+3624>>2]=Ut[Ut[e>>2]+28>>2],Ut[u+3628>>2]=1,Ut[u+3632>>2]=0,m=Le(e)?0:3}return m}return Ut[Ut[e>>2]+4>>2]=4}function Le(e){var t,n=0,a=0,n=Ut[4+(e|=0)>>2];e:if(9!=Ut[Ut[e>>2]>>2]||Ut[n+3628>>2]){if(Ut[n+3624>>2]=0,Ut[n+240>>2]=0,Ut[n+244>>2]=0,Ut[n>>2]&&(le(8+(n=Ut[e>>2]+32|0)|0),oe(n+368|0),Ut[n+408>>2]=0,Ut[n+412>>2]=0,n=Ut[e+4>>2]),n=Ut[n+56>>2],Ut[n+8>>2]=0,Ut[n+12>>2]=0,Ut[n+16>>2]=0,Ut[n+20>>2]=0,a=Ut[e>>2],n=1,Ut[a>>2]=2,n=Ut[e+4>>2],Ut[n>>2]&&(le(8+(t=a+32|0)|0),oe(t+368|0),Ut[t+408>>2]=0,Ut[t+412>>2]=0,Ut[t>>2]&&(Ut[t+404>>2]=1),n=Ut[e+4>>2]),Ut[n+3628>>2])Ut[n+3628>>2]=0;else{if(a=0,Ut[n+52>>2]==Ut[1887])break e;if(t=Ut[n+8>>2]){if(1==(0|Vt[t](e,0,0,Ut[n+48>>2])))break e;n=Ut[e+4>>2]}}Ut[Ut[e>>2]>>2]=0,Ut[n+248>>2]=0,e0(Ut[n+452>>2]),Ut[Ut[e+4>>2]+452>>2]=0,n=Ut[e+4>>2],Ut[n+252>>2]=0,Ut[n+3624>>2]=Ut[Ut[e>>2]+28>>2],Ut[n+228>>2]=0,Ut[n+232>>2]=0,s0(n+3636|0),e=Ut[e+4>>2],Ut[e+6152>>2]=0,Ut[e+6136>>2]=0,Ut[e+6140>>2]=0,a=1}return 0|a}function Ie(e){return Ut[Ut[(e|=0)>>2]>>2]}function Ne(e){e|=0;var t,n=0,a=0;Zt=t=Zt-16|0,n=1;e:{for(;;){t:{switch(Ut[Ut[e>>2]>>2]){case 0:if(Oe(e))continue;n=0;break t;case 1:a=0!=(0|He(e));break e;case 2:if(qe(e))continue;break t;case 4:case 7:break t;case 3:break;default:break e}if(Ve(e,12+t|0)){if(!Ut[12+t>>2])continue}else n=0}break}a=n}return Zt=16+t|0,0|a}function Oe(e){var t,n=0,a=0,r=0,i=0,s=0,o=0;Zt=t=Zt-16|0,i=1;e:{for(;;){n=0;t:{for(;;){if(s=Ut[e+4>>2],Ut[s+3520>>2])r=Xt[s+3590|0],Ut[8+t>>2]=r,Ut[s+3520>>2]=0;else{if(!R(Ut[s+56>>2],8+t|0,8)){a=0;break e}r=Ut[8+t>>2]}if(Xt[a+5409|0]==(0|r)){a=a+1|0,n=1;break t}if(3==((a=0)|n))break e;if(Xt[n+7552|0]!=(0|r))break;if(3==(0|(n=n+1|0))){if(!(R(Ut[Ut[e+4>>2]+56>>2],12+t|0,24)&&R(Ut[Ut[e+4>>2]+56>>2],12+t|0,8)&&(r=Ut[12+t>>2],R(Ut[Ut[e+4>>2]+56>>2],12+t|0,8))&&(s=Ut[12+t>>2],R(Ut[Ut[e+4>>2]+56>>2],12+t|0,8))&&(o=Ut[12+t>>2],R(Ut[Ut[e+4>>2]+56>>2],12+t|0,8))))break e;if(!j(Ut[Ut[e+4>>2]+56>>2],127&Ut[12+t>>2]|o<<7&16256|(127&s|r<<7&16256)<<14))break e}}if(255==(0|r)){if(_e[Ut[e+4>>2]+3588|0]=255,!R(Ut[Ut[e+4>>2]+56>>2],8+t|0,8))break e;if(255==(0|(n=Ut[8+t>>2])))n=Ut[e+4>>2],Ut[n+3520>>2]=1,_e[n+3590|0]=255;else if(248==(-2&n)){_e[Ut[e+4>>2]+3589|0]=n,Ut[Ut[e>>2]>>2]=3,a=1;break e}}n=0,i&&(i=Ut[e+4>>2],n=0,Ut[i+3632>>2]||(Vt[Ut[i+32>>2]](e,0,Ut[i+48>>2]),n=0))}if(i=n,!(a>>>0<4))break}Ut[Ut[e>>2]>>2]=a=1}return Zt=16+t|0,a}function He(e){var t,n,a,r,i,s,o,l=0,c=0,u=0,f=0,d=0,p=0,_=0,m=0,h=0,b=0,v=0,g=0,k=0;Zt=s=Zt-192|0;e:{t:if(R(Ut[Ut[e+4>>2]+56>>2],184+s|0,Ut[1391])){if(t=Ut[184+s>>2],!R(Ut[Ut[(f=e+4|0)>>2]+56>>2],180+s|0,Ut[1392]))break e;if(!R(Ut[Ut[f>>2]+56>>2],176+s|0,Ut[1393]))break e;p=0!=(0|t);n:{a:{r:{i:{switch(0|(c=Ut[180+s>>2])){case 3:break i;case 0:break;default:break r}if(u=Ut[176+s>>2],l=Ut[f>>2],Ut[l+256>>2]=c=0,Ut[l+264>>2]=u,Ut[l+260>>2]=p,!R(d=Ut[l+56>>2],s,l=Ut[1356]))break e;if(Ut[Ut[f>>2]+272>>2]=Ut[s>>2],d=Ut[1357],!R(Ut[Ut[f>>2]+56>>2],s,d))break e;if(Ut[Ut[f>>2]+276>>2]=Ut[s>>2],p=Ut[1358],!R(Ut[Ut[f>>2]+56>>2],s,p))break e;if(Ut[Ut[f>>2]+280>>2]=Ut[s>>2],_=Ut[1359],!R(Ut[Ut[f>>2]+56>>2],s,_))break e;if(Ut[Ut[f>>2]+284>>2]=Ut[s>>2],m=Ut[1360],!R(Ut[Ut[f>>2]+56>>2],s,m))break e;if(Ut[Ut[f>>2]+288>>2]=Ut[s>>2],h=Ut[1361],!R(Ut[Ut[f>>2]+56>>2],s,h))break e;if(Ut[Ut[f>>2]+292>>2]=Ut[s>>2]+1,b=Ut[1362],!R(Ut[Ut[f>>2]+56>>2],s,b))break e;if(Ut[Ut[f>>2]+296>>2]=Ut[s>>2]+1,v=Ut[f>>2],!V(g=Ut[v+56>>2],k=v+304|0,v=Ut[1363]))break e;if(g=Ut[f>>2],!z(Ut[g+56>>2],g+312|0,16))break e;if(!j(Ut[Ut[f>>2]+56>>2],u-(128+(v+(b+(h+(m+(_+(p+(l+d|0)|0)|0)|0)|0)|0)|0)>>>3|0)|0))break t;if(l=Ut[f>>2],Ut[l+248>>2]=1,Se(l+312|0,7555,16)||(Ut[l+3624>>2]=0),Ut[l+3632>>2]|!Ut[l+608>>2])break a;if(!(c=Ut[l+28>>2]))break a;Vt[c](e,l+256|0,Ut[l+48>>2]);break a}l=Ut[f>>2],Ut[l+252>>2]=0,d=Ut[176+s>>2],Ut[l+448>>2]=(d>>>0)/18,Ut[l+440>>2]=d,Ut[l+436>>2]=p,Ut[l+432>>2]=3,l=Ut[f>>2],c=Ut[l+452>>2];i:{if(u=Ut[l+448>>2]){if(ke(u,0,24,0),!Qt){if(l=A(c,Wt(u,24))){Ut[Ut[f>>2]+452>>2]=l;break i}e0(c),l=Ut[f>>2]}Ut[l+452>>2]=0;break n}if(l=A(c,0),!(Ut[Ut[f>>2]+452>>2]=l))break n}if(c=Ut[f>>2],l=0,Ut[c+448>>2]){for(p=Ut[1367],_=Ut[1366],m=Ut[1365],u=0;;){if(!V(Ut[c+56>>2],s,m))break t;if(c=Ut[4+s>>2],l=Wt(u,24),h=Ut[f>>2],b=l+Ut[h+452>>2]|0,Ut[b>>2]=Ut[s>>2],Ut[b+4>>2]=c,!V(Ut[h+56>>2],s,_))break t;if(c=Ut[4+s>>2],h=Ut[f>>2],b=l+Ut[h+452>>2]|0,Ut[b+8>>2]=Ut[s>>2],Ut[b+12>>2]=c,!R(Ut[h+56>>2],188+s|0,p))break t;if(c=Ut[f>>2],Ut[16+(l+Ut[c+452>>2]|0)>>2]=Ut[188+s>>2],!((u=u+1|0)>>>0<(l=Ut[c+448>>2])>>>0))break}l=Wt(l,-18)}if(l=l+d|0){if(!j(Ut[c+56>>2],l))break t;c=Ut[f>>2]}if(Ut[c+252>>2]=1,Ut[c+3632>>2]|!Ut[c+620>>2])break a;if(!(l=Ut[c+28>>2]))break a;Vt[l](e,c+432|0,Ut[c+48>>2]);break a}u=Ut[f>>2],_=Ut[608+(u+(c<<2)|0)>>2],d=Ut[176+s>>2],l=Jt(s,176),Ut[l+8>>2]=d,Ut[l>>2]=c,Ut[l+4>>2]=p,m=!_;r:if(2==(0|c)){if(p=Ut[1364]>>>3|0,!z(Ut[u+56>>2],h=l+16|0,p))break t;if(d>>>0<p>>>0){Ut[Ut[e>>2]>>2]=8,c=0;break e}if(d=d-p|0,u=Ut[f>>2],b=Ut[u+1124>>2]){for(v=Ut[u+1120>>2],c=0;;){if(Se(v+Wt(c,p)|0,h,p)){if((0|b)!=(0|(c=c+1|0)))continue;break r}break}m=0!=(0|_)}}if(m){if(j(Ut[u+56>>2],d))break a;break t}r:{i:{s:{o:{l:{c:{switch(Ut[l+180>>2]){case 1:if(j(Ut[u+56>>2],d))break l;p=0;break r;case 2:if(!d)break c;if(c=$t(d),!(Ut[l+20>>2]=c)){Ut[Ut[e>>2]>>2]=8,p=0;break r}if(z(Ut[u+56>>2],c,d))break l;p=0;break r;case 4:u:if(!(d>>>0<8)){if(!X(Ut[u+56>>2],l+16|(p=0)))break r;if(d=d+-8|0,c=Ut[l+16>>2]){if(d>>>0<c>>>0){Ut[l+16>>2]=0,Ut[l+20>>2]=0;break u}f:{if(-1==(0|c))Ut[l+20>>2]=0;else if(u=$t(c+1|0),Ut[l+20>>2]=u)break f;Ut[Ut[e>>2]>>2]=8;break r}if(!z(Ut[Ut[f>>2]+56>>2],u,c))break r;d=d-c|0,_e[Ut[l+20>>2]+Ut[l+16>>2]|0]=0}else Ut[l+20>>2]=0;if(!X(Ut[Ut[f>>2]+56>>2],l+24|0))break r;if(100001<=(c=Ut[l+24>>2])>>>0){Ut[l+24>>2]=0;break r}if(c){if(u=c0(c,8),!(Ut[l+28>>2]=u))break s;if(Ut[l+24>>2]){Ut[u>>2]=0;f:if(!(d>>>(c=Ut[u+4>>2]=0)<4))for(;;){if(!X(Ut[Ut[f>>2]+56>>2],u))break i;if(d=d+-4|0,_=Ut[l+28>>2],p=Ut[(u=_+(m=c<<3)|0)>>2]){if(d>>>0<p>>>0)break f;d:{if(-1==(0|p))Ut[4+(_+(c<<3)|0)>>2]=0;else if(_=$t(p+1|0),Ut[u+4>>2]=_)break d;Ut[Ut[e>>2]>>2]=8;break i}if(d=d-p|0,Jt(_,Ut[u>>2]),p=z(Ut[Ut[f>>2]+56>>2],Ut[u+4>>2],Ut[u>>2]),_=m+Ut[l+28>>2]|0,u=Ut[_+4>>2],!p){e0(u),Ut[4+(Ut[l+28>>2]+(c<<3)|0)>>2]=0;break f}_e[u+Ut[_>>2]|0]=0}else Ut[u+4>>2]=0;if((c=c+1|0)>>>0>=Kt[l+24>>2])break u;if(u=Ut[l+28>>2]+(c<<3)|0,Ut[u>>2]=0,!(4<=d>>>(Ut[u+4>>2]=0)))break}Ut[l+24>>2]=c}}}if(!d)break l;if(Ut[l+24>>2]||(e0(Ut[(c=l+28|0)>>2]),Ut[c>>2]=0),j(Ut[Ut[f>>2]+56>>2],d))break l;p=0;break r;case 5:if(c=Jt(l+16|(p=0),160),!z(Ut[u+56>>2],c,Ut[1378]>>>3|0))break r;if(!V(Ut[Ut[f>>2]+56>>2],l+152|0,Ut[1379]))break r;if(!R(Ut[Ut[f>>2]+56>>2],l+188|0,Ut[1380]))break r;if(Ut[l+160>>2]=0!=Ut[l+188>>2],!K(Ut[Ut[f>>2]+56>>2],Ut[1381]))break r;if(!R(Ut[Ut[f>>2]+56>>2],l+188|0,Ut[1382]))break r;if(c=Ut[l+188>>2],!(Ut[l+164>>2]=c))break l;if(c=B(c,32),!(Ut[l+168>>2]=c))break o;if(m=Ut[1371],!V(Ut[Ut[f>>2]+56>>2],c,m))break r;for(h=Ut[1373]>>>3|0,b=Ut[1370],v=Ut[1369],_=Ut[1368],g=Ut[1377],n=Ut[1376],a=Ut[1375],r=Ut[1374],i=Ut[1372],d=0;;){if(!R(Ut[Ut[f>>2]+56>>2],l+188|0,i))break r;if(_e[8+(c=(d<<5)+c|0)|0]=Ut[l+188>>2],!z(Ut[Ut[f>>2]+56>>2],c+9|0,h))break r;if(!R(Ut[Ut[f>>2]+56>>2],l+188|0,r))break r;if(_e[c+22|0]=254&Xt[c+22|0]|1&_e[l+188|0],!R(Ut[Ut[f>>2]+56>>2],l+188|0,a))break r;if(_e[0|(u=c+22|0)]=Xt[l+188|0]<<1&2|253&Xt[0|u],!K(Ut[Ut[f>>2]+56>>2],n))break r;if(!R(Ut[Ut[f>>2]+56>>2],l+188|0,g))break r;u=Ut[l+188>>2],_e[c+23|0]=u;u:if(u&=255){if(u=B(u,16),!(Ut[c+24>>2]=u)){Ut[Ut[e>>2]>>2]=8;break r}if(Xt[0|(k=c+23|0)]){if(!V(Ut[Ut[f>>2]+56>>2],u,_))break r;for(o=c+24|0,c=0;;){if(!R(Ut[Ut[f>>2]+56>>2],l+188|0,v))break r;if(_e[8+((c<<4)+u|0)|0]=Ut[l+188>>2],!K(Ut[Ut[f>>2]+56>>2],b))break r;if((c=c+1|0)>>>0>=Xt[0|k])break u;if(u=Ut[o>>2],!V(Ut[Ut[f>>2]+56>>2],u+(c<<4)|0,_))break}break r}}if((d=d+1|0)>>>0>=Kt[l+164>>2])break l;if(c=Ut[l+168>>2],!V(Ut[Ut[f>>2]+56>>2],c+(d<<5)|0,m))break}break r;case 6:u:if(R(Ut[u+56>>2],l+188|0,Ut[1383])&&(Ut[l+16>>2]=Ut[l+188>>2],R(Ut[Ut[f>>2]+56>>2],l+188|0,Ut[1384]))){f:{if(-1==(0|(c=Ut[l+188>>2])))Ut[l+20>>2]=0;else if(u=$t(c+1|0),Ut[l+20>>2]=u)break f;Ut[Ut[e>>2]>>2]=8,p=0;break r}if(c){if(!z(Ut[Ut[f>>2]+56>>2],u,c))break u;u=Ut[l+20>>2],c=Ut[l+188>>2]}else c=0;if(_e[c+u|0]=0,R(Ut[Ut[f>>2]+56>>2],l+188|0,Ut[1385])){f:{if(-1==(0|(c=Ut[l+188>>2])))Ut[l+24>>2]=0;else if(u=$t(c+1|0),Ut[l+24>>2]=u)break f;Ut[Ut[e>>2]>>2]=8,p=0;break r}if(c){if(!z(Ut[Ut[f>>2]+56>>2],u,c))break u;u=Ut[l+24>>2],c=Ut[l+188>>2]}else c=0;if(_e[c+u|0]=0,R(Ut[Ut[f>>2]+56>>2],l+28|0,Ut[1386])&&R(Ut[Ut[f>>2]+56>>2],l+32|0,Ut[1387])&&R(Ut[Ut[f>>2]+56>>2],l+36|0,Ut[1388])&&R(Ut[Ut[f>>2]+56>>2],l+40|0,Ut[1389])&&R(Ut[Ut[f>>2]+56>>2],l+44|0,Ut[1390])){if(u=$t((c=Ut[l+44>>2])||1),!(Ut[l+48>>2]=u)){Ut[Ut[e>>2]>>2]=8,p=0;break r}if(!c)break l;if(z(Ut[Ut[f>>2]+56>>2],u,c))break l}}}p=0;break r;case 0:case 3:break l}u:{if(d){if(c=$t(d),Ut[l+16>>2]=c)break u;Ut[Ut[e>>2]>>2]=8,p=0;break r}Ut[l+16>>2]=0;break l}if(z(Ut[u+56>>2],c,d))break l;p=0;break r}Ut[l+20>>2]=0}if(p=1,c=Ut[f>>2],Ut[c+3632>>2])break r;if(!(u=Ut[c+28>>2]))break r;Vt[u](e,l,Ut[c+48>>2]);break r}Ut[Ut[e>>2]>>2]=8;break r}Ut[l+24>>2]=0,Ut[Ut[e>>2]>>2]=8;break r}Ut[l+24>>2]=c,p=0}r:{switch(Ut[l+180>>2]+-1|0){case 1:if(!(l=Ut[l+20>>2]))break r;e0(l);break r;case 3:if((c=Ut[l+20>>2])&&e0(c),u=Ut[l+24>>2])for(c=0;(d=Ut[4+(Ut[l+28>>2]+(c<<3)|0)>>2])&&(e0(d),u=Ut[l+24>>2]),(c=c+1|0)>>>0<u>>>0;);if(!(l=Ut[l+28>>2]))break r;e0(l);break r;case 4:if(u=Ut[l+164>>2])for(c=0;(d=Ut[24+(Ut[l+168>>2]+(c<<5)|0)>>2])&&(e0(d),u=Ut[l+164>>2]),(c=c+1|0)>>>0<u>>>0;);if(!(l=Ut[l+168>>2]))break r;e0(l);break r;case 5:if((c=Ut[l+20>>2])&&e0(c),(c=Ut[l+24>>2])&&e0(c),!(l=Ut[l+48>>2]))break r;e0(l);break r;case 0:break r}(l=Ut[l+16>>2])&&e0(l)}if(!p)break t}if(c=1,!t)break e;u=Ut[f>>2],!Ut[u>>2]&&(d=Ut[u+12>>2])&&!Vt[d](e,l=u+6136|0,Ut[u+48>>2])&&N(Ut[Ut[f>>2]+56>>2])?(u=Ut[l>>2],f=Ut[Ut[f>>2]+56>>2],f=((Ut[f+8>>2]-Ut[f+16>>2]<<5)+(Ut[f+12>>2]<<3)|0)-Ut[f+20>>2]>>>3|0,d=Ut[l+4>>2]-(u>>>0<f>>>0)|0,Ut[l>>2]=u-f,Ut[l+4>>2]=d):(l=Ut[f>>2],Ut[l+6136>>2]=0,Ut[l+6140>>2]=0),Ut[Ut[e>>2]>>2]=2;break e}Ut[Ut[e>>2]>>2]=8}c=0}return Zt=192+s|0,c}function qe(e){var t,n,a=0,r=0,i=0;Zt=n=Zt-16|0;e:{t:if(r=Ut[e+4>>2],Ut[r+248>>2]&&(a=i=Ut[r+308>>2])|(t=Ut[r+304>>2])&&!((0|a)==(0|(i=Ut[r+244>>2]))&Kt[r+240>>2]<t>>>0|i>>>0<a>>>0))Ut[Ut[e>>2]>>2]=4;else{if(!N(Ut[r+56>>2])&&!R(r=Ut[Ut[e+4>>2]+56>>2],12+n|0,O(r))){a=0;break e}for(r=0;;){if(i=Ut[e+4>>2],Ut[i+3520>>2])a=Xt[i+3590|0],Ut[12+n>>2]=a,Ut[i+3520>>2]=0;else{if(!R(Ut[i+56>>2],12+n|(a=0),8))break e;a=Ut[12+n>>2]}if(255==(0|a)){if(_e[Ut[e+4>>2]+3588|0]=255,!R(Ut[Ut[e+4>>2]+56>>2],12+n|(a=0),8))break e;if(255==(0|(a=Ut[12+n>>2])))a=Ut[e+4>>2],Ut[a+3520>>2]=1,_e[a+3590|0]=255;else if(248==(-2&a)){_e[Ut[e+4>>2]+3589|0]=a,Ut[Ut[e>>2]>>2]=3;break t}}a=r,r=1,a||(a=Ut[e+4>>2],Ut[a+3632>>2])||Vt[Ut[a+32>>2]](e,0,Ut[a+48>>2])}}a=1}return Zt=16+n|0,a}function Ve(e,t){var n,a,r,i,s,o,l,c=0,u=0,f=0,d=0,p=0,_=0,m=0,h=0,b=0,v=0,g=0,k=0,A=0,y=0,w=0;Zt=l=Zt+-64|0,Ut[t>>2]=0,c=Ut[e+4>>2],f=E[1280+(Xt[c+3588|0]<<1)>>1],d=Ut[c+56>>2],Ut[d+24>>2]=E[1280+((Xt[c+3589|0]^f>>>8)<<1)>>1]^f<<8&65280,c=Ut[d+20>>2],Ut[d+28>>2]=Ut[d+16>>2],Ut[d+32>>2]=c,d=Ut[e+4>>2],_e[32+l|0]=Xt[d+3588|0],c=Xt[d+3589|0],Ut[12+l>>2]=2,_e[33+l|0]=c;e:if(R(Ut[d+56>>2],28+l|0,8)){f=e+4|0;t:{n:{a:{if(255!=(0|(d=Ut[28+l>>2]))){if(_e[34+l|0]=d,Ut[12+l>>2]=3,!R(Ut[Ut[f>>2]+56>>2],28+l|0,8))break n;if(255!=(0|(d=Ut[28+l>>2]))){_=c>>>1&1,c=Ut[12+l>>2],_e[c+(32+l|0)|0]=d,Ut[12+l>>2]=c+(d=1),c=Xt[34+l|0];r:{i:{s:{switch((Ut[28+l>>2]=u=c>>>4|0)-1|0){case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:Ut[Ut[f>>2]+1136>>2]=256<<u+-8;break s;case 1:case 2:case 3:case 4:Ut[Ut[f>>2]+1136>>2]=576<<u+-2;break s;case 5:case 6:break i;case 0:break;default:break r}Ut[Ut[f>>2]+1136>>2]=192}u=0}d=_}r:{i:{switch((Ut[28+l>>2]=p=15&c)-1|0){default:if(p=0,_=Ut[f>>2],Ut[_+248>>2])break i;d=1;break r;case 0:Ut[Ut[f>>2]+1140>>2]=88200,p=0;break r;case 1:Ut[Ut[f>>2]+1140>>2]=176400,p=0;break r;case 2:Ut[Ut[f>>2]+1140>>2]=192e3,p=0;break r;case 3:Ut[Ut[f>>2]+1140>>2]=8e3,p=0;break r;case 4:Ut[Ut[f>>2]+1140>>2]=16e3,p=0;break r;case 5:Ut[Ut[f>>2]+1140>>2]=22050,p=0;break r;case 6:Ut[Ut[f>>2]+1140>>2]=24e3,p=0;break r;case 7:Ut[Ut[f>>2]+1140>>2]=32e3,p=0;break r;case 8:Ut[Ut[f>>2]+1140>>2]=44100,p=0;break r;case 9:Ut[Ut[f>>2]+1140>>2]=48e3,p=0;break r;case 10:Ut[Ut[f>>2]+1140>>2]=96e3,p=0;break r;case 11:case 12:case 13:break r;case 14:}d=Ut[f>>2],Ut[d+3632>>2]||Vt[Ut[d+32>>2]](e,1,Ut[d+48>>2]),c=Ut[e>>2],Ut[c>>2]=2;break a}Ut[_+1140>>2]=Ut[_+288>>2]}h=Xt[35+l|0];r:{i:if(8&(Ut[28+l>>2]=m=h>>>4|0)){switch(c=Ut[f>>2],Ut[c+1144>>2]=2,7&m){case _=1:_=2;break i;case 0:break i;case 2:break;default:break r}_=3}else c=Ut[f>>2],Ut[c+1144>>2]=m+1,_=0;Ut[c+1148>>2]=_,_=d}r:{i:{switch((Ut[28+l>>2]=m=h>>>1&7)-(d=1)|0){default:if(!Ut[c+248>>2])break r;Ut[c+1152>>2]=Ut[c+296>>2];break i;case 0:Ut[c+1152>>2]=8;break i;case 1:Ut[c+1152>>2]=12;break i;case 3:Ut[c+1152>>2]=16;break i;case 4:Ut[c+1152>>2]=20;break i;case 2:case 6:break r;case 5:}Ut[c+1152>>2]=24}d=_}if(!(!Ut[c+248>>2]|Ut[c+272>>2]==Ut[c+276>>2])||1&_e[33+l|0]){if(!((e,t,n,a)=>{var r,i,s,o=0,l=0,c=0;r:if(R(e,12+(Zt=s=Zt-16|0)|0,8)){o=Ut[12+s>>2],n&&(c=Ut[a>>2],Ut[a>>2]=c+1,_e[n+c|0]=o);i:{s:{o:{l:{if(128&o){if(!(!(192&o)|32&o)){o&=31,l=1;break l}if(!(!(224&o)|16&o)){o&=15,l=2;break l}if(!(!(240&o)|8&o)){o&=7,l=3;break l}if(!(!(248&o)|4&o)){o&=3,l=4;break l}if(!(!(252&o)|2&o)){o&=1,l=5;break l}if(!(!(254&o)|(l=1)&o)){l=6,o=0;break l}Ut[t>>2]=-1,Ut[4+t>>2]=-1;break r}c=0;break o}if(c=0,!n)for(;;){if(!R(e,12+s|0,8)){l=0;break r}if(128!=(192&(n=Ut[12+s>>2])))break s;if(c=c<<6|o>>>26,o=(n&=63)|o<<6,!(l=l+-1|0))break o}for(;;){if(!R(e,12+s|0,8)){l=0;break r}if(r=Ut[12+s>>2],i=Ut[a>>2],Ut[a>>2]=i+1,128!=(192&(_e[n+i|0]=r)))break s;if(c=c<<6|o>>>26,o=63&r|o<<6,!(l=l+-1|0))break}}Ut[t>>2]=o,Ut[4+t>>2]=c;break i}Ut[t>>2]=-1,Ut[4+t>>2]=-1}l=1}return Zt=16+s|0,l})(Ut[c+56>>2],16+l|0,32+l|0,12+l|0))break n;if(c=_=Ut[20+l>>2],-1==(0|(m=Ut[16+l>>2]))&-1==(0|c)){_=Xt[31+(Ut[12+l>>2]+l|0)|0],d=Ut[f>>2],Ut[d+3520>>2]=1,_e[d+3590|0]=_,Ut[d+3632>>2]||Vt[Ut[d+32>>2]](e,1,Ut[d+48>>2]),c=Ut[e>>2],Ut[c>>2]=2;break a}_=Ut[f>>2],Ut[(b=_+1160|0)>>2]=m,Ut[b+4>>2]=c,Ut[_+1156>>2]=1}else{if(!((e,t,n,a)=>{var r,i,s=0,o=0,l=0,c=0;r:if(R(e,12+(Zt=i=Zt-16|0)|0,8)){s=Ut[12+i>>2],n&&(o=Ut[a>>2],Ut[a>>2]=o+1,_e[n+o|0]=s);i:{s:{o:{l:if(128&s){if(!(192&s)|32&s)if(!(224&s)|16&s)if(!(240&s)|8&s){if(!(248&s)||(l=3,(o=4)&s)){if(!(252&s)|2&s)break o;l=1,o=5}}else l=7,o=3;else l=15,o=2;else l=31,o=1;if(s&=l,!n)for(;;){if(!R(e,12+i|0,8))break r;if(128!=(192&(n=Ut[12+i>>2])))break s;if(s=63&n|s<<6,!(o=o+-1|0))break l}for(;;){if(!R(e,12+i|0,8))break r;if(l=Ut[12+i>>2],r=Ut[a>>2],Ut[a>>2]=r+1,128!=(192&(_e[n+r|0]=l)))break s;if(s=63&l|s<<6,!(o=o+-1|0))break}}Ut[t>>2]=s;break i}Ut[t>>2]=-1;break i}Ut[t>>2]=-1}c=1}return Zt=16+i|0,c})(Ut[c+56>>2],28+l|0,32+l|0,12+l|0))break n;if(-1==(0|(_=Ut[28+l>>2]))){_=Xt[31+(Ut[12+l>>2]+l|0)|0],d=Ut[f>>2],Ut[d+3520>>2]=1,_e[d+3590|0]=_,Ut[d+3632>>2]||Vt[Ut[d+32>>2]](e,1,Ut[d+48>>2]),c=Ut[e>>2],Ut[c>>2]=2;break a}c=Ut[f>>2],Ut[c+1160>>2]=_,Ut[c+1156>>2]=0}if(c=Ut[f>>2],u){if(!R(Ut[c+56>>2],28+l|0,8))break n;if(c=Ut[12+l>>2],_=Ut[28+l>>2],_e[c+(32+l|0)|0]=_,Ut[12+l>>2]=c+1,7==(0|u)){if(!R(Ut[Ut[f>>2]+56>>2],8+l|0,8))break n;_=Ut[12+l>>2],c=Ut[8+l>>2],_e[_+(32+l|0)|0]=c,Ut[12+l>>2]=_+1,_=c|Ut[28+l>>2]<<8,Ut[28+l>>2]=_}c=Ut[f>>2],Ut[c+1136>>2]=_+1}if(p){if(!R(Ut[c+56>>2],28+l|0,8))break n;if(_=Ut[12+l>>2],c=Ut[28+l>>2],_e[_+(32+l|0)|0]=c,Ut[12+l>>2]=_+1,12!=(0|p)){if(!R(Ut[Ut[f>>2]+56>>2],8+l|0,8))break n;_=Ut[12+l>>2],c=Ut[8+l>>2],_e[_+(32+l|0)|0]=c,Ut[12+l>>2]=_+1,u=c|Ut[28+l>>2]<<8,Ut[28+l>>2]=u,13!=(0|p)&&(u=Wt(u,10))}else u=Wt(c,1e3);c=Ut[f>>2],Ut[c+1140>>2]=u}if(!R(Ut[c+56>>2],28+l|0,8))break n;if(_=Xt[28+l|0],u=D(32+l|0,Ut[12+l>>2]),c=Ut[f>>2],(0|u)!=(0|_)){Ut[c+3632>>2]||Vt[Ut[c+32>>2]](e,1,Ut[c+48>>2]),c=Ut[e>>2],Ut[c>>2]=2;break a}Ut[c+232>>2]=0;r:{if(!Ut[c+1156>>2])if(_=Ut[(u=c+1160|0)>>2],Ut[28+l>>2]=_,Ut[c+1156>>2]=1,p=Ut[c+228>>2])y=u,w=ke(p,0,_,0),Ut[y>>2]=w,Ut[u+4>>2]=Qt;else if(Ut[c+248>>2]){if((0|(u=Ut[c+272>>2]))!=Ut[c+276>>2])break r;y=c=c+1160|0,w=ke(u,0,_,0),Ut[y>>2]=w,Ut[c+4>>2]=Qt,_=Ut[f>>2],Ut[_+232>>2]=Ut[_+276>>2]}else _?(y=u=c+1160|0,w=ke(Ut[c+1136>>2],0,_,0),Ut[y>>2]=w,Ut[u+4>>2]=Qt):(Ut[(_=c+1160|0)>>2]=0,Ut[_+4>>2]=0,_=Ut[f>>2],Ut[_+232>>2]=Ut[_+1136>>2]);if(!(d|1&h)){c=Ut[e>>2];break a}c=Ut[f>>2]}Ut[c+3632>>2]?Ut[c+6152>>2]=Ut[c+6152>>2]+1:Vt[Ut[c+32>>2]](e,3,Ut[c+48>>2]),c=Ut[e>>2],Ut[c>>2]=2;break a}}d=Ut[f>>2],Ut[d+3520>>2]=1,_e[d+3590|0]=255,Ut[d+3632>>2]||Vt[Ut[d+32>>2]](e,1,Ut[d+48>>2]),c=Ut[e>>2],Ut[c>>2]=2}if(_=1,2==Ut[c>>2])break e;if(c=Ut[f>>2],d=Ut[c+1144>>2],p=Ut[c+1136>>2],!(Kt[c+224>>2]>=d>>>0&&Kt[c+220>>2]>=p>>>0)){(u=Ut[c+60>>2])&&(e0(u+-16|0),Ut[Ut[f>>2]+60>>2]=0,c=Ut[f>>2]),(u=Ut[c+3592>>2])&&(e0(u),Ut[Ut[f>>2]+92>>2]=0,Ut[Ut[f>>2]+3592>>2]=0,c=Ut[f>>2]),(u=Ut[c- -64>>2])&&(e0(u+-16|0),Ut[Ut[f>>2]- -64>>2]=0,c=Ut[f>>2]),(u=Ut[c+3596>>2])&&(e0(u),Ut[Ut[f>>2]+96>>2]=0,Ut[Ut[f>>2]+3596>>2]=0,c=Ut[f>>2]),(u=Ut[c+68>>2])&&(e0(u+-16|0),Ut[Ut[f>>2]+68>>2]=0,c=Ut[f>>2]),(u=Ut[c+3600>>2])&&(e0(u),Ut[Ut[f>>2]+100>>2]=0,Ut[Ut[f>>2]+3600>>2]=0,c=Ut[f>>2]),(u=Ut[c+72>>2])&&(e0(u+-16|0),Ut[Ut[f>>2]+72>>2]=0,c=Ut[f>>2]),(u=Ut[c+3604>>2])&&(e0(u),Ut[Ut[f>>2]+104>>2]=0,Ut[Ut[f>>2]+3604>>2]=0,c=Ut[f>>2]),(u=Ut[c+76>>2])&&(e0(u+-16|0),Ut[Ut[f>>2]+76>>2]=0,c=Ut[f>>2]),(u=Ut[c+3608>>2])&&(e0(u),Ut[Ut[f>>2]+108>>2]=0,Ut[Ut[f>>2]+3608>>2]=0,c=Ut[f>>2]),(u=Ut[c+80>>2])&&(e0(u+-16|0),Ut[Ut[f>>2]+80>>2]=0,c=Ut[f>>2]),(u=Ut[c+3612>>2])&&(e0(u),Ut[Ut[f>>2]+112>>2]=0,Ut[Ut[f>>2]+3612>>2]=0,c=Ut[f>>2]),(u=Ut[c+84>>2])&&(e0(u+-16|0),Ut[Ut[f>>2]+84>>2]=0,c=Ut[f>>2]),(u=Ut[c+3616>>2])&&(e0(u),Ut[Ut[f>>2]+116>>2]=0,Ut[Ut[f>>2]+3616>>2]=0,c=Ut[f>>2]),(u=Ut[c+88>>2])&&(e0(u+-16|0),Ut[Ut[f>>2]+88>>2]=0,c=Ut[f>>2]),(c=Ut[c+3620>>2])&&(e0(c),Ut[Ut[f>>2]+120>>2]=0,Ut[Ut[f>>2]+3620>>2]=0);a:if(d){if(4294967291<p>>>0)break t;if((1073741823&(c=p+4|0))!=(0|c))break t;for(m=c<<2,u=0;;){if(!(c=$t(m)))break t;if(Ut[c>>2]=0,Ut[c+4>>2]=0,Ut[c+8>>2]=0,Ut[c+12>>2]=0,Ut[60+((h=u<<2)+Ut[f>>2]|0)>>2]=c+16,!l0(p,3592+(c=h+Ut[f>>2]|0)|0,c+92|0))break;if((0|d)==(0|(u=u+1|0)))break a}Ut[Ut[e>>2]>>2]=8;break n}c=Ut[f>>2],Ut[c+224>>2]=d,Ut[c+220>>2]=p,d=Ut[c+1144>>2]}a:{if(d)for(s=-1<<(a=Ut[1412])^-1,r=Ut[1406],i=Ut[1405],o=Ut[1413],d=0;;){u=Ut[c+1152>>2];r:{switch(Ut[c+1148>>2]+-1|0){case 0:u=(1==(0|d))+u|0;break r;case 1:u=!d+u|0;break r;case 2:break;default:break r}u=(1==(0|d))+u|0}if(!R(Ut[c+56>>2],28+l|0,8))break n;if(c=Ut[28+l>>2],Ut[28+l>>2]=254&c,g=1&c){if(!W(Ut[Ut[f>>2]+56>>2],32+l|0))break n;if(c=Ut[f>>2],p=Ut[32+l>>2]+1|0,u>>>0<=(Ut[1464+(c+Wt(d,292)|0)>>2]=p)>>>0)break n;u=u-p|0}else c=Ut[f>>2],Ut[1464+(c+Wt(d,292)|0)>>2]=0;r:if(128&(p=Ut[28+l>>2]))Ut[c+3632>>2]||Vt[Ut[c+32>>2]](e,0,Ut[c+48>>2]),Ut[Ut[e>>2]>>2]=2;else{i:{s:{switch(0|p){case 0:if(p=Ut[60+((d<<2)+c|0)>>2],m=Wt(d,292)+c|0,Ut[m+1176>>2]=0,!q(Ut[c+56>>2],32+l|0,u))break n;if(Ut[m+1180>>2]=Ut[32+l>>2],c=0,u=Ut[f>>2],!Ut[u+1136>>2])break s;for(;Ut[p+(c<<2)>>2]=Ut[32+l>>2],(c=c+1|0)>>>0<Kt[u+1136>>2];);break s;case 2:if(p=(c+1136|0)+Wt(d,292)|0,b=Ut[92+((h=d<<2)+c|0)>>2],Ut[(m=p+44|0)>>2]=b,Ut[p+40>>2]=1,p=0,Ut[c+1136>>2]){for(;;){if(!q(Ut[c+56>>2],32+l|0,u))break n;if(Ut[b+(p<<2)>>2]=Ut[32+l>>2],c=Ut[f>>2],!((p=p+1|0)>>>0<(v=Ut[c+1136>>2])>>>0))break}p=v<<2}he(Ut[60+(c+h|0)>>2],Ut[m>>2],p);break s}if(p>>>0<=15){Ut[c+3632>>2]?Ut[c+6152>>2]=Ut[c+6152>>2]+1:Vt[Ut[c+32>>2]](e,3,Ut[c+48>>2]),Ut[Ut[e>>2]>>2]=2;break r}if(p>>>0<=24){if(m=Wt(d,292)+c|0,Ut[m+1176>>2]=2,v=Ut[92+((b=d<<2)+c|0)>>2],Ut[m+1192>>2]=h=p>>>1&7,Ut[m+1212>>2]=v,p=Ut[c+56>>2],h)for(v=m+1196|0,c=0;;){if(!q(p,32+l|0,u))break n;if(Ut[v+(c<<2)>>2]=Ut[32+l>>2],p=Ut[Ut[f>>2]+56>>2],(0|h)==(0|(c=c+1|0)))break}if(!R(p,16+l|0,i))break n;u=Ut[16+l>>2],Ut[(p=m+1180|0)>>2]=u,c=Ut[f>>2];o:{l:{if(u>>>0<=1){if(!R(Ut[c+56>>2],16+l|0,r))break n;if(c=Ut[f>>2],u=Ut[16+l>>2],Ut[c+1136>>2]>>>u>>>0>=h>>>0)break l;Ut[c+3632>>2]||Vt[Ut[c+32>>2]](e,0,Ut[c+48>>2]),Ut[Ut[e>>2]>>2]=2;break o}Ut[c+3632>>2]?Ut[c+6152>>2]=Ut[c+6152>>2]+1:Vt[Ut[c+32>>2]](e,3,Ut[c+48>>2]),Ut[Ut[e>>2]>>2]=2;break o}if(Ut[m+1184>>2]=u,c=Wt(d,12),Ut[m+1188>>2]=124+(c+Ut[f>>2]|0),(p=Ut[p>>2])>>>0<2&&!Ue(e,h,k=u,124+(c+(u=Ut[e+4>>2])|0)|0,Ut[92+(u+b|0)>>2],1==(0|p)))break n;he(Ut[60+(b+Ut[f>>2]|0)>>2],m+1196|0,c=h<<2),u=Ut[f>>2],((e,t,n,a)=>{var r=0,i=0,s=0,o=0,l=0;l:{c:{switch(0|n){case 4:if((0|t)<1)break c;for(i=Ut[a-12>>2],s=Ut[a-4>>2],n=0;r=Ut[(o=(l=n<<2)+a|0)-8>>2],s=((Ut[e+l>>2]+Wt(r,-6)|0)-Ut[o+-16>>2]|0)+(i+s<<2)|0,Ut[o>>2]=s,i=r,(0|(n=n+1|0))!=(0|t););break c;case 3:if((0|t)<1)break c;for(r=Ut[a-12>>2],i=Ut[a-4>>2],n=0;l=Ut[e+(s=n<<2)>>2]+r|0,r=Ut[(o=s+a|0)-8>>2],i=l+Wt(i-r|0,3)|0,Ut[o>>2]=i,(0|(n=n+1|0))!=(0|t););break c;case 2:if((0|t)<1)break c;for(r=Ut[a-4>>2],n=0;r=(Ut[e+(i=n<<2)>>2]+(r<<1)|0)-Ut[(s=i+a|0)-8>>2]|0,Ut[s>>2]=r,(0|(n=n+1|0))!=(0|t););break c;case 0:break l;case 1:break;default:break c}if(!((0|t)<1))for(r=Ut[a-4>>2],n=0;r=Ut[(i=n<<2)+e>>2]+r|0,Ut[a+i>>2]=r,(0|(n=n+1|0))!=(0|t););}return}he(a,e,t<<2)})(Ut[92+(p=u+b|0)>>2],Ut[u+1136>>2]-h|0,h,c+Ut[p+60>>2]|0)}if(2==Ut[Ut[e>>2]>>2])break r;if(g)break i;break r}if(p>>>0<=63){Ut[c+3632>>2]?Ut[c+6152>>2]=Ut[c+6152>>2]+1:Vt[Ut[c+32>>2]](e,3,Ut[c+48>>2]),Ut[Ut[e>>2]>>2]=2;break r}for(m=Wt(d,292)+c|0,Ut[m+1176>>2]=3,A=Ut[92+((b=d<<2)+c|0)>>2],Ut[m+1192>>2]=h=1+(v=p>>>1&31)|0,Ut[m+1460>>2]=A,p=Ut[c+56>>2],c=0;;){if(!q(p,32+l|0,u))break n;if(Ut[1332+(m+(c<<2)|0)>>2]=Ut[32+l>>2],A=(0|c)!=(0|v),p=Ut[Ut[f>>2]+56>>2],c=c+1|0,!A)break}if(!R(p,16+l|0,a))break n;o:if((0|(c=Ut[16+l>>2]))==(0|s))c=Ut[f>>2],Ut[c+3632>>2]||Vt[Ut[c+32>>2]](e,0,Ut[c+48>>2]),Ut[Ut[e>>2]>>2]=2;else{if(Ut[(n=m+1196|0)>>2]=c+1,!q(Ut[Ut[f>>2]+56>>2],32+l|0,o))break n;if((0|(c=Ut[32+l>>2]))<=-1)c=Ut[f>>2],Ut[c+3632>>2]||Vt[Ut[c+32>>2]](e,0,Ut[c+48>>2]),Ut[Ut[e>>2]>>2]=2;else{for(Ut[(A=m+1200|0)>>2]=c,p=Ut[Ut[f>>2]+56>>2],c=0;;){if(!q(p,32+l|0,Ut[n>>2]))break n;if(Ut[1204+(m+(c<<2)|0)>>2]=Ut[32+l>>2],k=(0|c)!=(0|v),p=Ut[Ut[f>>2]+56>>2],c=c+1|0,!k)break}if(!R(p,16+l|0,i))break n;p=Ut[16+l>>2],Ut[(k=m+1180|0)>>2]=p,c=Ut[f>>2];l:{if(p>>>0<=1){if(!R(Ut[c+56>>2],16+l|0,r))break n;if(c=Ut[f>>2],p=Ut[16+l>>2],Ut[c+1136>>2]>>>p>>>0>v>>>0)break l;Ut[c+3632>>2]||Vt[Ut[c+32>>2]](e,0,Ut[c+48>>2]),Ut[Ut[e>>2]>>2]=2;break o}Ut[c+3632>>2]?Ut[c+6152>>2]=Ut[c+6152>>2]+1:Vt[Ut[c+32>>2]](e,3,Ut[c+48>>2]),Ut[Ut[e>>2]>>2]=2;break o}if(Ut[m+1184>>2]=p,c=Wt(d,12),Ut[m+1188>>2]=124+(c+Ut[f>>2]|0),(v=Ut[k>>2])>>>0<2&&!Ue(e,h,k=p,124+(c+(p=Ut[e+4>>2])|0)|0,Ut[92+(p+b|0)>>2],1==(0|v)))break n;he(Ut[60+(Ut[f>>2]+b|0)>>2],m+1332|0,p=h<<2);l:{if((v=Ut[n>>2])+((31^me(h))+u|0)>>>0<=32){if(c=Ut[f>>2],16<u>>>0|16<v>>>0)break l;Vt[Ut[c+44>>2]](Ut[92+(u=c+b|0)>>2],Ut[c+1136>>2]-h|0,m+1204|0,h,Ut[A>>2],p+Ut[u+60>>2]|0);break o}c=Ut[f>>2],Vt[Ut[c+40>>2]](Ut[92+(u=c+b|0)>>2],Ut[c+1136>>2]-h|0,m+1204|0,h,Ut[A>>2],p+Ut[u+60>>2]|0);break o}Vt[Ut[c+36>>2]](Ut[92+(u=c+b|0)>>2],Ut[c+1136>>2]-h|0,m+1204|0,h,Ut[A>>2],p+Ut[u+60>>2]|0)}}if(!g|2==Ut[Ut[e>>2]>>2])break r;break i}if(!g)break r}if(u=Ut[f>>2],c=Ut[1464+(u+Wt(d,292)|0)>>2],Ut[28+l>>2]=c,Ut[u+1136>>2]&&(p=Ut[60+(u+(d<<2)|0)>>2],Ut[p>>2]=Ut[p>>2]<<c,c=1,!(Kt[u+1136>>2]<2)))for(;Ut[(m=p+(c<<2)|0)>>2]=Ut[m>>2]<<Ut[28+l>>2],(c=c+1|0)>>>0<Kt[u+1136>>2];);}if(2==Ut[Ut[e>>2]>>2])break a;if(c=Ut[f>>2],!((d=d+1|0)>>>0<Kt[c+1144>>2]))break}if(!N(Ut[c+56>>2])){if(Ut[32+l>>2]=0,!R(d=Ut[Ut[f>>2]+56>>2],32+l|0,O(d)))break n;Ut[32+l>>2]&&(d=Ut[f>>2],Ut[d+3632>>2]||Vt[Ut[d+32>>2]](e,0,Ut[d+48>>2]),Ut[Ut[e>>2]>>2]=2)}if(2==Ut[Ut[e>>2]>>2])break e;if(d=(e=>{var t,n,a=0,r=0,i=0,s=0,o=0;if((n=Ut[e+16>>2])>>>0<=(r=Ut[e+28>>2])>>>0)s=r;else if(a=Ut[e+32>>2]){if(Ut[e+28>>2]=s=r+1|0,i=Ut[e+24>>2],a>>>0<=31){for(r=Ut[Ut[e>>2]+(r<<2)>>2];i=E[1280+((r>>>24-a&255^i>>>8)<<1)>>1]^i<<8&65280,t=a>>>0<24,a=o=a+8|0,t;);Ut[e+32>>2]=o}Ut[e+32>>2]=0,Ut[e+24>>2]=i}else s=r;if(a=x(Ut[e>>2]+(s<<2)|0,n-s|0,E[e+24>>1]),Ut[e+28>>2]=0,Ut[e+24>>2]=a,(r=Ut[e+20>>2])&&!(r>>>0<=(i=Ut[e+32>>2])>>>0)){for(s=Ut[Ut[e>>2]+(Ut[e+16>>2]<<2)>>2];a=E[1280+((s>>>24-i&255^a>>>8)<<1)>>1]^a<<8&65280,(i=i+8|0)>>>0<r>>>0;);Ut[e+32>>2]=i,Ut[e+24>>2]=a}return a})(Ut[Ut[f>>2]+56>>2]),!R(Ut[Ut[f>>2]+56>>2],16+l|(_=0),Ut[1404]))break e;r:if((0|d)==Ut[16+l>>2]){i:{s:{switch(d=Ut[f>>2],Ut[d+1148>>2]+-1|0){case 2:break i;case 0:break s;case 1:break;default:break r}if(!Ut[d+1136>>2])break r;for(c=Ut[d- -64>>2],p=Ut[d+60>>2],u=0;Ut[(h=(m=u<<2)+p|0)>>2]=Ut[h>>2]+Ut[c+m>>2],(u=u+1|0)>>>0<Kt[d+1136>>2];);break r}if(!Ut[d+1136>>2])break r;for(c=Ut[d- -64>>2],p=Ut[d+60>>2],u=0;Ut[(h=(m=u<<2)+c|0)>>2]=Ut[p+m>>2]-Ut[h>>2],(u=u+1|0)>>>0<Kt[d+1136>>2];);break r}if(Ut[d+1136>>2])for(h=Ut[d- -64>>2],b=Ut[d+60>>2],u=0;c=(p=u<<2)+b|0,m=1&(p=Ut[(g=p+h|0)>>2])|Ut[c>>2]<<1,Ut[c>>2]=p+m>>1,Ut[g>>2]=m-p>>1,(u=u+1|0)>>>0<Kt[d+1136>>2];);}else if(d=Ut[f>>2],Ut[d+3632>>2]||Vt[Ut[d+32>>2]](e,2,Ut[d+48>>2]),c=Ut[f>>2],Ut[c+1144>>2])for(u=0;Jt(Ut[60+((u<<2)+c|0)>>2],Ut[c+1136>>2]<<2),c=Ut[f>>2],(u=u+1|0)>>>0<Kt[c+1144>>2];);Ut[t>>2]=1,c=Ut[f>>2],(t=Ut[c+232>>2])&&(Ut[c+228>>2]=t),t=Ut[e>>2],p=Ut[c+1144>>2],Ut[t+8>>2]=p,Ut[t+12>>2]=Ut[c+1148>>2],g=Ut[c+1152>>2],Ut[t+16>>2]=g,Ut[t+20>>2]=Ut[c+1140>>2],d=Ut[c+1136>>2],Ut[t+24>>2]=d,m=Ut[(t=c+1160|0)>>2],t=u=Ut[t+4>>2],(v=d+m|0)>>>0<d>>>0&&(t=t+1|0),Ut[c+240>>2]=v,Ut[c+244>>2]=t,h=c+60|0,b=c+1136|0;r:{i:{if(Ut[c+3632>>2]){if(Ut[c+6156>>2]=1,g=Ut[c+6144>>2],d=Ut[c+6148>>2],he(c+3752|0,b,2384),(0|u)==(0|d)&g>>>0<m>>>0|d>>>0<u>>>0|(0|t)==(0|d)&v>>>0<=g>>>0|t>>>0<d>>>0)break r;if(t=Ut[f>>2],f=d=g-m|(Ut[t+3632>>2]=u=0)){if(p)for(;Ut[(m=u<<2)+(32+l|0)>>2]=Ut[60+(c+m|0)>>2]+(f<<2),(0|p)!=(0|(u=u+1|0)););Ut[t+3752>>2]=Ut[t+3752>>2]-f,t=Ut[4+(u=f=c=t+3776|0)>>2],(c=d+Ut[c>>2]|0)>>>0<d>>>0&&(t=t+1|0),Ut[u>>2]=c,Ut[f+4>>2]=t,t=Ut[e+4>>2],t=0|Vt[Ut[t+24>>2]](e,t+3752|0,32+l|0,Ut[t+48>>2])}else t=0|Vt[Ut[t+24>>2]](e,b,h,Ut[t+48>>2])}else{if(Ut[c+248>>2]){if(Ut[c+3624>>2]){if(!de(c+3636|0,h,p,d,g+7>>>3|0))break i;c=Ut[f>>2]}}else Ut[c+3624>>2]=0;t=0|Vt[Ut[c+24>>2]](e,b,h,Ut[c+48>>2])}if(!t)break r}Ut[Ut[e>>2]>>2]=7;break e}Ut[Ut[e>>2]>>2]=2}_=1;break e}_=0;break e}Ut[Ut[e>>2]>>2]=8,_=0}return Zt=64+l|0,_}function Ue(e,t,n,a,r,i){var s,o,l,c=0,u=0,f=0,d=0,p=0;Zt=l=Zt-16|0,c=Ut[Ut[e+4>>2]+1136>>2],s=Ut[(i?5644:5640)>>2],o=Ut[(i?5632:5628)>>2];e:{t:{if(ne(a,6<n>>>0?n:6)){if(u=n?c>>>n|0:c-t|0,p=Ut[1409],!n)break t;for(i=0;;){if(!R(Ut[Ut[e+4>>2]+56>>2],12+l|0,o)){c=0;break e}if(Ut[(f=d<<2)+Ut[a>>2]>>2]=Ut[12+l>>2],Kt[12+l>>2]<s>>>0){if(Ut[f+Ut[a+4>>2]>>2]=c=0,!G(Ut[Ut[e+4>>2]+56>>2],(i<<2)+r|0,f=u-(d?0:t)|0,Ut[12+l>>2]))break e;i=i+f|0}else{if(!R(Ut[Ut[e+4>>2]+56>>2],12+l|0,p)){c=0;break e}if(Ut[f+Ut[a+4>>2]>>2]=Ut[12+l>>2],!(u>>>0<=(c=d?0:t)>>>0))for(;;){if(!q(Ut[Ut[e+4>>2]+56>>2],8+l|0,Ut[12+l>>2])){c=0;break e}if(Ut[(i<<2)+r>>2]=Ut[8+l>>2],i=i+1|0,(0|u)==(0|(c=c+1|0)))break}}if((d=d+(c=1)|0)>>>n)break}break e}Ut[Ut[e>>2]>>2]=8,c=0;break e}if(R(Ut[Ut[e+4>>2]+56>>2],12+l|(c=0),o)){if(Ut[Ut[a>>2]>>2]=Ut[12+l>>2],Kt[12+l>>2]>=s>>>0){if(!R(Ut[Ut[e+4>>2]+56>>2],12+l|0,p))break e;if(Ut[Ut[a+4>>2]>>2]=Ut[12+l>>2],u)for(i=0;;){if(!q(Ut[Ut[e+4>>2]+56>>2],8+l|0,Ut[12+l>>2])){c=0;break e}if(Ut[(i<<2)+r>>2]=Ut[8+l>>2],i=i+1|0,(0|u)==(0|(c=c+1|0)))break}}else if(Ut[Ut[a+4>>2]>>2]=0,!G(Ut[Ut[e+4>>2]+56>>2],r,u,Ut[12+l>>2]))break e;c=1}}return Zt=16+l|0,c}function Xe(e){Ut[e+12>>2]=0,Ut[e+16>>2]=0}function Ke(e,t,n){var a=0,r=0,i=0,s=0;e:if(!(7&(i=Ut[e+16>>2]))){if(i){if((0|(s=Ut[e+12>>2]))==Ut[e+8>>2]&&!((a=(r=i+63>>>5|0)+s|0)>>>0<=s>>>0)){i=Ut[e>>2];t:{if(a=a+((a=1023&r)?1024-a|0:0)|(s=0)){if((0|a)!=(1073741823&a))break e;if(r=A(i,a<<2))break t;return e0(i),0}if(!(r=A(i,0)))break e}Ut[e+8>>2]=a,Ut[e>>2]=r,s=Ut[e+12>>2],i=Ut[e+16>>2]}r=Ut[e>>2],a=Ut[e+4>>2]<<32-i,Ut[r+(s<<2)>>2]=a<<24|a<<8&16711680|a>>>8&65280|a>>>24,a=Ut[e+16>>2]>>>3|0}else r=Ut[e>>2],a=0;Ut[t>>2]=r,Ut[n>>2]=a+(Ut[e+12>>2]<<2),s=1}return s}function je(e,t){var n=0,a=0,r=0,i=0;e:{t:if(t){if(n=Ut[e+8>>2],!((a=Ut[e+12>>2])+t>>>0<n>>>0||(r=a+(31+(Ut[e+16>>2]+t|0)>>>5|0)|0)>>>0<=n>>>0)){i=Ut[e>>2];n:{if(n=r+((n=r-n&1023)?1024-n|0:0)|(a=0)){if((0|n)!=(1073741823&n))break e;if(r=A(i,n<<2))break n;return e0(i),0}if(!(r=A(i,0)))break e}Ut[e+8>>2]=n,Ut[e>>2]=r}if(n=Ut[e+16>>2]){if(r=n,Ut[e+16>>2]=i=r+(a=(n=32-n|0)>>>0<t>>>0?n:t)|0,n=Ut[e+4>>2]<<a,Ut[e+4>>2]=n,32!=(0|i))break t;i=Ut[e+12>>2],Ut[e+12>>2]=i+1,Ut[Ut[e>>2]+(i<<2)>>2]=n<<8&16711680|n<<24|n>>>8&65280|n>>>24,t=t-a|(Ut[e+16>>2]=0)}if(32<=t>>>0)for(n=Ut[e>>2];a=Ut[e+12>>2],Ut[e+12>>2]=a+1,31<(t=t+-32|(Ut[n+(a<<2)>>2]=0))>>>0;);t&&(Ut[e+16>>2]=t,Ut[e+4>>2]=0)}a=1}return a}function t0(e,t,n){var a=0;return n>>>0<=31&&(a=0,t>>>n)?a:_(e,t,n)}function _(e,t,n){var a,r,i=0,s=0,o=0;e:if(!(!e|32<n>>>0)&&(a=Ut[e>>2])&&(o=1,n)){if(r=Ut[e+8>>2],(i=Ut[e+12>>2])+n>>>0<r>>>0)i=a;else if((s=i+(31+(Ut[e+16>>2]+n|0)>>>5|0)|0)>>>0<=r>>>0)i=a;else{t:{if(s=s+((i=s-r&1023)?1024-i|0:0)|(o=0)){if((0|s)!=(1073741823&s))break e;if(i=A(a,s<<2))break t;return e0(a),0}if(!(i=A(a,0)))break e}Ut[e+8>>2]=s,Ut[e>>2]=i}if(n>>>0<(s=32-(a=Ut[e+16>>2])|0)>>>0)return Ut[e+16>>2]=n+a,Ut[e+4>>2]=Ut[e+4>>2]<<n|t,1;if(a)return Ut[e+16>>2]=a=n-s|0,n=Ut[e+12>>2],Ut[e+12>>2]=n+1,i=(n<<2)+i|0,n=Ut[e+4>>2]<<s|t>>>a,Ut[i>>2]=n<<24|n<<8&16711680|n>>>8&65280|n>>>24,Ut[e+4>>2]=t,1;e=Ut[(n=e)+12>>2],Ut[n+12>>2]=e+(o=1),Ut[(e<<2)+i>>2]=t<<8&16711680|t<<24|t>>>8&65280|t>>>24}return o}function ze(e,t,n){return _(e,(n>>>0<32?-1<<n^-1:-1)&t,n)}function We(e,t,n,a){var r=0;if(33<=a>>>0){if(!(n>>>(a=a+-32|0)|0&&a>>>0<=31)&&_(e,n,a))return 0!=(0|_(e,t,32))}else 32!=(0|a)&&t>>>a||(r=_(e,t,a));return r}function Ge(e,t){return _(e,255&t,8)&&_(e,t>>>8&255,8)&&_(e,t>>>16&255,8)?0!=(0|_(e,t>>>24|0,8)):0}function Ye(e,t,n){var a,r=0,i=0,s=Ut[e+8>>2];e:{if(!(1+((r=Ut[e+12>>2])+(n>>>2|0)|0)>>>0<s>>>0||(i=r+(31+(Ut[e+16>>2]+(n<<3)|0)>>>5|0)|0)>>>0<=s>>>0)){a=Ut[e>>2];t:{if(s=i+((s=i-s&1023)?1024-s|0:0)|(r=0)){if((0|s)!=(1073741823&s))break e;if(i=A(a,s<<2))break t;return e0(a),0}if(!(i=A(a,0)))break e}Ut[e+8>>2]=s,Ut[e>>2]=i}if(r=1,n){r=0;t:{for(;;){if(!_(e,Xt[t+r|0],8))break t;if((0|(r=r+1|0))==(0|n))break}return 1}r=0}}return r}function Ze(e,t){return t>>>0<=31?_(e,1,t+1|0):je(e,t)&&0!=(0|_(e,1,1))}function Qe(e,t,n,a){var r,i,s,o,l=0,c=0,u=0,f=0,d=0,l=1;e:if(n){for(i=a+1|0,s=-1<<a,o=-1>>>31-a|0;;){if(l=i+(u=(r=(u=Ut[t>>2])<<1^u>>31)>>>a|0)|0,!(c=Ut[e+16>>2])||31<(f=l+c|0)>>>0){if(d=Ut[e+8>>2],!(1+((f=Ut[e+12>>2])+(c+u|0)|0)>>>0<d>>>0||(l=f+(31+(l+c|0)>>>5|0)|0)>>>0<=d>>>0)){f=Ut[e>>2];t:{if(c=l+((c=l-d&1023)?1024-c|0:0)|0){if(((l=0)|c)!=(1073741823&c))break e;if(d=A(f,c<<2))break t;return e0(f),0}if(!(d=A(f,l=0)))break e}Ut[e+8>>2]=c,Ut[e>>2]=d}t:if(u){if(l=Ut[e+16>>2]){if(c=Ut[e+4>>2],u>>>0<(f=32-l|0)>>>0){Ut[e+16>>2]=l+u,Ut[e+4>>2]=c<<u;break t}Ut[e+4>>2]=l=c<<f,c=Ut[e+12>>2],Ut[e+12>>2]=c+1,Ut[Ut[e>>2]+(c<<2)>>2]=l<<8&16711680|l<<24|l>>>8&65280|l>>>24,u=u-f|(Ut[e+16>>2]=0)}if(32<=u>>>0)for(l=Ut[e>>2];c=Ut[e+12>>2],Ut[e+12>>2]=c+1,31<(u=u+-32|(Ut[l+(c<<2)>>2]=0))>>>0;);u&&(Ut[e+16>>2]=u,Ut[e+4>>2]=0)}u=(r|s)&o,l=Ut[e+4>>2],i>>>0<(c=32-(f=Ut[e+16>>2])|0)>>>0?(Ut[e+16>>2]=f+i,Ut[e+4>>2]=u|l<<i):(Ut[e+16>>2]=f=i-c|0,r=Ut[e+12>>2],Ut[e+12>>2]=r+1,Ut[Ut[e>>2]+(r<<2)>>2]=(l=l<<c|u>>>f)<<24|l<<8&16711680|l>>>8&65280|l>>>24,Ut[e+4>>2]=u)}else Ut[e+16>>2]=f,Ut[e+4>>2]=(r|s)&o|Ut[e+4>>2]<<l;if(t=t+4|0,!(n=n+-1|0))break}l=1}return l}function Je(e){Ut[e>>2]=0,Ut[e+4>>2]=0}function $e(e,t,n,a,r,i,s,o,l){var c,u,f,d,p,_,m,h=0,b=0;Zt=d=Zt-96|0;e:{t:{if(Ut[e+384>>2]){Ut[72+d>>2]=0,Ut[76+d>>2]=0,Ut[(b=c=80+d|0)>>2]=0,Ut[b+4>>2]=0,Ut[88+d>>2]=0,Ut[92+d>>2]=0,Ut[64+d>>2]=0,Ut[68+d>>2]=0,h=Ut[e+396>>2],(f=(b=a)+(u=Ut[e+392>>2])|0)>>>0<u>>>0&&(h=h+1|0),Ut[c>>2]=f,Ut[4+c>>2]=h;n:{if(Ut[e+388>>2]){if(38!=(0|n))break n;_e[0|d]=Xt[7536],n=Ut[2721],n=Xt[0|n]|Xt[n+1|0]<<8|(Xt[n+2|0]<<16|Xt[n+3|0]<<24),_e[5+d|0]=1,_e[6+d|0]=0,_e[1+d|0]=n,_e[2+d|0]=n>>>8,_e[3+d|0]=n>>>16,_e[4+d|0]=n>>>24,h=Ut[e+4>>2],n=Xt[5409]|Xt[5410]<<8|(Xt[5411]<<16|Xt[5412]<<24),_e[9+d|0]=n,_e[10+d|0]=n>>>8,_e[11+d|0]=n>>>16,_e[12+d|0]=n>>>24,_e[8+d|0]=h,_e[7+d|0]=h>>>8,n=Xt[t+34|0]|Xt[t+35|0]<<8|(Xt[t+36|0]<<16|Xt[t+37|0]<<24),h=Xt[t+30|0]|Xt[t+31|0]<<8|(Xt[t+32|0]<<16|Xt[t+33|0]<<24),_e[43+d|0]=h,_e[44+d|0]=h>>>8,_e[45+d|0]=h>>>16,_e[46+d|0]=h>>>24,_e[47+d|0]=n,_e[48+d|0]=n>>>8,_e[49+d|0]=n>>>16,_e[50+d|0]=n>>>24,n=Xt[t+28|0]|Xt[t+29|0]<<8|(Xt[t+30|0]<<16|Xt[t+31|0]<<24),h=Xt[t+24|0]|Xt[t+25|0]<<8|(Xt[t+26|0]<<16|Xt[t+27|0]<<24),_e[37+d|0]=h,_e[38+d|0]=h>>>8,_e[39+d|0]=h>>>16,_e[40+d|0]=h>>>24,_e[41+d|0]=n,_e[42+d|0]=n>>>8,_e[43+d|0]=n>>>16,_e[44+d|0]=n>>>24,n=Xt[t+20|0]|Xt[t+21|0]<<8|(Xt[t+22|0]<<16|Xt[t+23|0]<<24),h=Xt[t+16|0]|Xt[t+17|0]<<8|(Xt[t+18|0]<<16|Xt[t+19|0]<<24),_e[29+d|0]=h,_e[30+d|0]=h>>>8,_e[31+d|0]=h>>>16,_e[32+d|0]=h>>>24,_e[33+d|0]=n,_e[34+d|0]=n>>>8,_e[35+d|0]=n>>>16,_e[36+d|0]=n>>>24,n=Xt[t+12|0]|Xt[t+13|0]<<8|(Xt[t+14|0]<<16|Xt[t+15|0]<<24),h=Xt[t+8|0]|Xt[t+9|0]<<8|(Xt[t+10|0]<<16|Xt[t+11|0]<<24),_e[21+d|0]=h,_e[22+d|0]=h>>>8,_e[23+d|0]=h>>>16,_e[24+d|0]=h>>>24,_e[25+d|0]=n,_e[26+d|0]=n>>>8,_e[27+d|0]=n>>>16,_e[28+d|0]=n>>>24,n=Xt[t+4|0]|Xt[t+5|0]<<8|(Xt[t+6|0]<<16|Xt[t+7|0]<<24),t=Xt[0|t]|Xt[t+1|0]<<8|(Xt[t+2|0]<<16|Xt[t+3|0]<<24),_e[13+d|0]=t,_e[14+d|0]=t>>>8,_e[15+d|0]=t>>>16,_e[16+d|0]=t>>>24,_e[17+d|0]=n,_e[18+d|0]=n>>>8,_e[19+d|0]=n>>>16,_e[20+d|0]=n>>>24,Ut[68+d>>2]=51,Ut[72+d>>2]=1,Ut[64+d>>2]=d,Ut[e+388>>2]=0}else Ut[68+d>>2]=n,Ut[64+d>>2]=t;if(i&&(Ut[76+d>>2]=1),p=t=e+8|0,_=64+d|0,Ut[8+(Zt=m=Zt-16|0)>>2]=Ut[_>>2],Ut[12+m>>2]=Ut[_+4>>2],p=((e,t,n,a,r)=>{var i,s,o,l,c,u=0,f=0,d=0,p=0,_=0,f=-1;a:{r:if(e&&(p=Ut[e>>2])){if(!t)return 0;for(;;){if((0|(d=Ut[4+((u<<3)+t|0)>>2]))<0|(2147483647-d|0)<(0|_))break r;if(_=d+_|0,1==(0|(u=u+1|0)))break}if((u=Ut[e+12>>2])&&(d=Ut[e+8>>2]-u|0,(Ut[e+8>>2]=d)&&L(p,u+p|0,d),Ut[e+12>>2]=0),((u=Ut[e+4>>2])-_|0)<=Ut[e+8>>2]){if((2147483647-_|0)<(0|u))break a;if(!(p=A(Ut[e>>2],u=(0|(u=u+_|0))<2147482623?u+1024|0:u)))break a;Ut[e>>2]=p,Ut[e+4>>2]=u}if(!ie(e,s=1+(p=(0|_)/255|0)|0)){for(f=Ut[e+8>>2],u=0;he(d=Ut[e>>2]+f|0,Ut[(f=(u<<3)+t|0)>>2],Ut[f+4>>2]),f=Ut[e+8>>2]+Ut[f+4>>2]|0,Ut[e+8>>2]=f,1!=(0|(u=u+1|0)););if(o=d=Ut[e+16>>2],l=t=Ut[e+28>>2],(0|_)<=254)f=Ut[e+20>>2],u=0;else{for(f=Ut[e+20>>2],u=0;Ut[d+((i=t+u|0)<<2)>>2]=255,c=Ut[e+356>>2],Ut[(i=(i<<3)+f|0)>>2]=Ut[e+352>>2],Ut[4+i>>2]=c,(0|p)!=(0|(u=u+1|0)););u=p}Ut[o+((u=l+u|0)<<2)>>2]=_-Wt(p,255),Ut[(u=(u<<3)+f|0)>>2]=a,Ut[u+4>>2]=r,Ut[e+352>>2]=a,Ut[e+356>>2]=r,Ut[(a=d+(t<<2)|0)>>2]=256|Ut[a>>2],Ut[e+28>>2]=t+s,t=Ut[e+348>>2],(a=Ut[e+344>>2]+1|0)>>>0<1&&(t=t+1|0),Ut[e+344>>2]=a,Ut[e+348>>2]=t,f=0,n&&(Ut[e+328>>2]=1)}}return f}return(t=Ut[e>>2])&&e0(t),(t=Ut[e+16>>2])&&e0(t),(t=Ut[e+20>>2])&&e0(t),Jt(e,360),-1})(p,8+m|0,Ut[_+12>>2],Ut[_+16>>2],Ut[_+20>>2]),Zt=16+m|0,!p){if(n=e+368|0,!a)for(;;){if(!se(t,n,1))break t;if(Vt[s](o,Ut[e+368>>2],Ut[e+372>>2],0,r,l))break n;if(Vt[s](o,Ut[e+376>>2],Ut[e+380>>2],0,r,l))break n}for(;;){if(!((e,t)=>{var n,a=0,r=0;if(!(!e|!Ut[e>>2])){a=Ut[e+28>>2];a:{r:{if(Ut[(n=e)+328>>2]){if(a)break r;r=0;break a}if(r=0,Ut[e+332>>2]|!a)break a}r=1}a=se(n,t,r)}return a})(t,n))break t;if(Vt[s](o,Ut[e+368>>2],Ut[e+372>>2],0,r,l))break n;if(Vt[s](o,Ut[e+376>>2],Ut[e+380>>2],0,r,l))break}}}s=1;break e}if(a|r|4!=(0|n)|(Xt[0|t]|Xt[t+(s=1)|0]<<8|(Xt[t+2|0]<<16|Xt[t+3|0]<<24))!=(Xt[5409]|Xt[5410]<<8|(Xt[5411]<<16|Xt[5412]<<24)))break e;Ut[e+384>>2]=1,b=a}n=Ut[(a=t=e)+396>>2],(e=b+Ut[t+392>>2]|0)>>>0<b>>>0&&(n=n+1|0),Ut[a+392>>2]=e,Ut[t+396>>2]=n,s=0}return Zt=96+d|0,s}function et(e){Ut[e>>2]=0,Ut[e+4>>2]=0,Ut[e+8>>2]=0,Ut[e+12>>2]=0}function tt(e){var t;(t=Ut[e>>2])&&e0(t),(t=Ut[e+8>>2])&&e0(t),Ut[e>>2]=0,Ut[e+4>>2]=0,Ut[e+8>>2]=0,Ut[e+12>>2]=0}function nt(e,t,n,a,r,i,s){var o,l=0,c=0;Zt=o=Zt-16|0;e:if(r){switch(0|Vt[r](e,t,n,s)){case 1:Ut[Ut[e>>2]>>2]=5;break e;case 0:break;default:break e}if(r=$t(282),Ut[a>>2]=r){for(l=27;;){Ut[12+o>>2]=l,t=5;t:{switch(0|Vt[i](e,r,12+o|0,s)){case 1:if(t=Ut[12+o>>2])break t;t=2;default:Ut[Ut[e>>2]>>2]=t;break e;case 3:break e;case 0:}t=Ut[12+o>>2]}if(r=t+r|0,!(l=l-t|0))break}if(t=Ut[a>>2],Ut[a+4>>2]=Xt[t+26|0]+27,1&_e[t+5|0]|1399285583!=(Xt[0|t]|Xt[t+1|0]<<8|(Xt[t+2|0]<<16|Xt[t+3|0]<<24))|(0!=(Xt[t+6|0]|Xt[t+7|0]<<8|(Xt[t+8|0]<<16|Xt[t+9|0]<<24))|0!=(Xt[t+10|0]|Xt[t+11|0]<<8|(Xt[t+12|0]<<16|Xt[t+13|0]<<24)))||!(l=Xt[t+26|0]))Ut[Ut[e>>2]>>2]=2;else{for(r=t+27|0;;){Ut[12+o>>2]=l,t=5;t:{switch(0|Vt[i](e,r,12+o|0,s)){case 1:if(t=Ut[12+o>>2])break t;t=2;default:Ut[Ut[e>>2]>>2]=t;break e;case 3:break e;case 0:}t=Ut[12+o>>2]}if(r=t+r|0,!(l=l-t|0))break}t=Ut[a>>2];t:{if(1!=((r=0)|(n=Xt[t+26|0])))for(n=n+-1|0;;){if(255!=Xt[27+(t+r|0)|0]){Ut[Ut[e>>2]>>2]=2;break t}if(!((r=r+1|0)>>>0<n>>>0))break}if(r=Xt[27+(t+r|0)|0]+Wt(r,255)|0,l=$t((Ut[a+12>>2]=r)||1),Ut[a+8>>2]=l){if(n=o,r){for(;;){Ut[12+o>>2]=r,t=5;n:{switch(0|Vt[i](e,l,12+o|0,s)){case 1:if(t=Ut[12+o>>2])break n;t=2;default:Ut[Ut[e>>2]>>2]=t;break t;case 3:break t;case 0:}t=Ut[12+o>>2]}if(l=t+l|0,!(r=r-t|0))break}t=Ut[a>>2]}if(Ut[n+12>>2]=Xt[t+22|0]|Xt[t+23|0]<<8|(Xt[t+24|0]<<16|Xt[t+25|0]<<24),re(a),t=Ut[a>>2],Ut[12+o>>2]==(Xt[t+22|0]|Xt[t+23|0]<<8|(Xt[t+24|0]<<16|Xt[t+25|0]<<24))){c=1;break e}Ut[Ut[e>>2]>>2]=2}else Ut[Ut[e>>2]>>2]=8}}}else Ut[Ut[e>>2]>>2]=8}return Zt=16+o|0,c}function at(e,t,n,a,r,i,s){e:{t:if(r){switch(0|Vt[r](e,t,n,s)){case 1:break e;case 0:break;default:break t}if(re(a),Vt[i](e,Ut[a>>2],Ut[a+4>>2],0,0,s))break e;if(!Vt[i](e,Ut[a+8>>2],Ut[a+12>>2],0,0,s))return 1;Ut[Ut[e>>2]>>2]=5}return 0}return Ut[Ut[e>>2]>>2]=5,0}function d0(e,t){var n=0,a=0;e:if(!(!(n=Xt[0|e])|(0|n)!=(0|(a=Xt[0|t]))))for(;;){if(a=Xt[t+1|0],!(n=Xt[e+1|0]))break e;if(t=t+1|0,e=e+1|0,(0|n)!=(0|a))break}return n-a|0}function rt(e,t){var n,a,r,i=1-(r=1-(a=.5*(n=e*e)))-a;return n*(n*(n*(2480158728947673e-20*n-.001388888888887411)+.0416666666666666)+(a=n*n)*a*(n*(-11359647557788195e-27*n+2.087572321298175e-9)-2.7557314351390663e-7))-e*t+i+r}function p0(e,t){return 1024<=(0|t)?(e*=898846567431158e293,t=(0|t)<2047?t+-1023|0:(e*=898846567431158e293,((0|t)<3069?t:3069)+-2046|0)):-1023<(0|t)||(e*=22250738585072014e-324,t=-2045<(0|t)?t+1022|0:(e*=22250738585072014e-324,(-3066<(0|t)?t:-3066)+2044|0)),ye(0,0),ye(1,t+1023<<20),e*+we()}function it(e,t){var n;return e-((n=e*e)*(.5*t-(e*=n)*(n*n*n*(1.58969099521155e-10*n-2.5050760253406863e-8)+(n*(27557313707070068e-22*n-.0001984126982985795)+.00833333333332249)))-t+.16666666666666632*e)}function n0(e){var t,n,a=0;Zt=t=Zt-16|0,r0(+e),n=0|qt[1],qt[0];e:if((n&=2147483647)>>>0<=1072243195)a=1,n>>>0<1044816030||(a=rt(e,0));else if(a=e-e,!(2146435072<=n>>>0)){switch(3&((e,t)=>{var n,a,r,i=0,s=0,o=0,l=0,c=0,u=0;Zt=r=Zt-48|0,r0(+e),l=0|qt[1],s=0|qt[0];t:{n:{a:{if((c=2147483647&(l=o=l))>>>0<=1074752122){if(598523==(1048575&l))break a;if(c>>>0<=1073928572){if(0<(0|o)||0<=(0|o)&&!(s>>>0<0)){zt[t>>3]=i=(e+=-1.5707963267341256)+-6077100506506192e-26,zt[t+8>>3]=e-i-6077100506506192e-26,s=1;break t}zt[t>>3]=i=(e+=1.5707963267341256)+6077100506506192e-26,zt[t+8>>3]=e-i+6077100506506192e-26,s=-1;break t}if(0<(0|o)||0<=(0|o)&&!(s>>>0<0)){zt[t>>3]=i=(e+=-3.1415926534682512)+-1.2154201013012384e-10,zt[t+8>>3]=e-i-1.2154201013012384e-10,s=2;break t}zt[t>>3]=i=(e+=3.1415926534682512)+1.2154201013012384e-10,zt[t+8>>3]=e-i+1.2154201013012384e-10,s=-2;break t}if(c>>>0<=1075594811){if(c>>>0<=1075183036){if(1074977148==(0|c))break a;if(0<(0|o)||0<=(0|o)&&!(s>>>0<0)){zt[t>>3]=i=(e+=-4.712388980202377)+-1.8231301519518578e-10,zt[t+8>>3]=e-i-1.8231301519518578e-10,s=3;break t}zt[t>>3]=i=(e+=4.712388980202377)+1.8231301519518578e-10,zt[t+8>>3]=e-i+1.8231301519518578e-10,s=-3;break t}if(1075388923==(0|c))break a;if(0<(0|o)||0<=(0|o)&&!(s>>>0<0)){zt[t>>3]=i=(e+=-6.2831853069365025)+-2.430840202602477e-10,zt[t+8>>3]=e-i-2.430840202602477e-10,s=4;break t}zt[t>>3]=i=(e+=6.2831853069365025)+2.430840202602477e-10,zt[t+8>>3]=e-i+2.430840202602477e-10,s=-4;break t}if(1094263290<c>>>0)break n}r0(zt[t>>3]=e=(i=e+-1.5707963267341256*(n=.6366197723675814*e+6755399441055744-6755399441055744))-(u=6077100506506192e-26*n)),s=0|qt[1],qt[0],l=((o=c>>>20|0)-(s>>>20&2047)|0)<17,s=Yt(n)<2147483648?~~n:-2147483648,l||(u=i,l=o,r0(zt[t>>3]=e=(i-=e=6077100506303966e-26*n)-(u=20222662487959506e-37*n-(u-i-e))),o=0|qt[1],qt[0],(l-(o>>>20&2047)|0)<50)||(u=i,zt[t>>3]=e=(i-=e=20222662487111665e-37*n)-(u=84784276603689e-45*n-(u-i-e))),zt[t+8>>3]=i-e-u;break t}if(2146435072<=c>>>0)zt[t>>3]=e-=e,zt[t+8>>3]=e,s=0;else{for(ye(0,0|s),ye(1,1048575&o|1096810496),e=+we(),s=0,l=1;a=(16+r|0)+(s<<3)|0,s=Yt(e)<2147483648?~~e:-2147483648,e=16777216*(e-(zt[a>>3]=i=0|s)),a=(s=1)&l,l=0,a;);if(0!=(zt[32+r>>3]=e))s=2;else for(l=1;l=(s=l)+-1|0,0==zt[(16+r|0)+(s<<3)>>3];);s=((e,t,n,a)=>{var r,i,s,o,l,c,u,f=0,d=0,p=0,_=0,m=0,h=0,b=0,v=0,g=0,k=0,A=0;if(Zt=u=Zt-560|0,h=n+Wt(i=0<(0|(d=(n+-3|0)/24|0))?d:0,-24)|0,0<=((r=Ut[1901])+(m=a+-1|0)|0))for(d=a+r|0,n=i-m|0;zt[(320+u|0)+(p<<3)>>3]=(0|n)<0?0:+Ut[7616+(n<<2)>>2],n=n+1|0,(0|d)!=(0|(p=p+1|0)););for(v=h+-24|0,p=(d=0)<(0|r)?r:0,b=(0|a)<1;;){if(b)f=0;else for(_=d+m|0,f=n=0;f+=zt[(n<<3)+e>>3]*zt[(320+u|0)+(_-n<<3)>>3],(0|a)!=(0|(n=n+1|0)););if(zt[(d<<3)+u>>3]=f,n=(0|d)==(0|p),d=d+1|0,n)break}l=47-h|0,s=48-h|0,c=h+-25|0,d=r;n:{for(;;){if(f=zt[(d<<3)+u>>3],!(m=((n=0)|(p=d))<1))for(;b=(480+u|0)+(n<<2)|0,g=f,_=Yt(f*=5.960464477539063e-8)<2147483648?~~f:-2147483648,_=Yt(g+=-16777216*(f=0|_))<2147483648?~~g:-2147483648,Ut[b>>2]=_,f=zt[((p=p+-1|0)<<3)+u>>3]+f,(0|d)!=(0|(n=n+1|0)););f=p0(f,v),f=(f+=-8*y(.125*f))-(0|(b=Yt(f)<2147483648?~~f:-2147483648));a:{r:{i:{if(A=(0|v)<1){if(v)break i;_=Ut[476+((d<<2)+u|0)>>2]>>23}else b=(n=(_=Ut[(p=476+((d<<2)+u|0)|0)>>2])>>s)+b|0,_=(Ut[(k=p)>>2]=p=_-(n<<s)|0)>>l;if((0|_)<1)break a;break r}if(_=2,!(.5<=f)){_=0;break a}}if(p=n=0,!m)for(;o=Ut[(k=(480+u|0)+(n<<2)|0)>>2],m=16777215,p=p||(m=16777216,o)?(Ut[k>>2]=m-o,1):0,(0|d)!=(0|(n=n+1|0)););r:if(!A){switch(0|c){case 0:Ut[(n=476+((d<<2)+u|0)|0)>>2]=8388607&Ut[n>>2];break r;case 1:break;default:break r}Ut[(n=476+((d<<2)+u|0)|0)>>2]=4194303&Ut[n>>2]}b=b+1|0,2==(0|_)&&(f=1-f,_=2,p)&&(f-=p0(1,v))}if(0!=f)break;if(!(((p=0)|(n=d))<=(0|r))){for(;p=Ut[(480+u|0)+((n=n+-1|0)<<2)>>2]|p,(0|r)<(0|n););if(p){for(h=v;h=h+-24|0,!Ut[(480+u|0)+((d=d+-1|0)<<2)>>2];);break n}}for(n=1;n=(p=n)+1|0,!Ut[(480+u|0)+(r-p<<2)>>2];);for(p=d+p|0;;){if(zt[(320+u|0)+((m=a+d|0)<<3)>>3]=Ut[7616+(i+(d=d+1|0)<<2)>>2],1<=((f=n=0)|a))for(;f+=zt[(n<<3)+e>>3]*zt[(320+u|0)+(m-n<<3)>>3],(0|a)!=(0|(n=n+1|0)););if(zt[(d<<3)+u>>3]=f,!((0|d)<(0|p)))break}d=p}16777216<=(f=p0(f,0-v|0))?(a=(480+u|0)+(d<<2)|0,g=f,n=Yt(f*=5.960464477539063e-8)<2147483648?~~f:-2147483648,e=Yt(f=g+-16777216*(0|n))<2147483648?~~f:-2147483648,Ut[a>>2]=e,d=d+1|0):(n=Yt(f)<2147483648?~~f:-2147483648,h=v),Ut[(480+u|0)+(d<<2)>>2]=n}if(f=p0(1,h),!((0|d)<=-1)){for(n=d;zt[(n<<3)+u>>3]=f*+Ut[(480+u|0)+(n<<2)>>2],f*=5.960464477539063e-8,e=0<(0|n),n=n+-1|0,e;);if(!(((m=0)|d)<0))for(e=0<(0|r)?r:0,p=d;;){for(a=e>>>0<m>>>0?e:m,h=d-p|0,f=n=0;f+=zt[10384+(n<<3)>>3]*zt[(n+p<<3)+u>>3],v=(0|n)!=(0|a),n=n+1|0,v;);if(zt[(160+u|0)+(h<<3)>>3]=f,p=p+-1|0,n=(0|d)!=(0|m),m=m+1|0,!n)break}}if((f=0)<=(0|d))for(n=d;f+=zt[(160+u|0)+(n<<3)>>3],e=0<(0|n),n=n+-1|0,e;);if(zt[t>>3]=_?-f:f,f=zt[160+u>>3]-f,(n=1)<=(0|d))for(;f+=zt[(160+u|0)+(n<<3)>>3],e=(0|n)!=(0|d),n=n+1|0,e;);return zt[8+t>>3]=_?-f:f,Zt=560+u|0,7&b})(16+r|0,r,(c>>>20|0)-1046|0,s+1|0),e=zt[r>>3],(0|o)<-1||(0|o)<=-1?(zt[t>>3]=-e,zt[t+8>>3]=-zt[8+r>>3],s=0-s|0):(zt[t>>3]=e,o=Ut[12+r>>2],Ut[t+8>>2]=Ut[8+r>>2],Ut[t+12>>2]=o)}}return Zt=48+r|0,s})(e,t)){case 0:a=rt(zt[t>>3],zt[8+t>>3]);break e;case 1:a=-it(zt[t>>3],zt[8+t>>3]);break e;case 2:a=-rt(zt[t>>3],zt[8+t>>3]);break e}a=it(zt[t>>3],zt[8+t>>3])}return Zt=16+t|0,a}function _0(e,t){var n,a,r,i=0;if(Gt(0),1<=(0|t))for(n=t+-1|0;a=(i<<2)+e|0,r=Gt(.5-.5*n0(6.283185307179586*(0|i)/n)),jt[a>>2]=r,(0|(i=i+1|0))!=(0|t););}function m0(e,t){var n,a,r,i,s,o,l,c,u,f=0,d=0,p=0,_=0,m=0,h=0,b=0,d=Pe(Ut[2720]);e:if(t0(t,Ut[e+4>>2],Ut[1391])&&t0(t,Ut[e>>2],Ut[1392])&&(f=Ut[e+8>>2],!((f=4==Ut[e>>2]?(f+d|0)-Ut[e+16>>2]|0:f)>>>(p=Ut[1393])))&&t0(t,f,p)){t:{n:{a:{r:{i:{s:{switch(Ut[e>>2]){case 3:if(!Ut[e+16>>2])break t;p=Ut[1367],m=Ut[1366],h=Ut[1365],f=0;break s;case 0:if(!t0(t,Ut[e+16>>2],Ut[1356]))break e;if(!t0(t,Ut[e+20>>2],Ut[1357]))break e;if(!t0(t,Ut[e+24>>2],Ut[1358]))break e;if(!t0(t,Ut[e+28>>2],Ut[1359]))break e;if(!t0(t,Ut[e+32>>2],Ut[1360]))break e;if(!t0(t,Ut[e+36>>2]+-1|0,Ut[1361]))break e;if(!t0(t,Ut[e+40>>2]+-1|0,Ut[1362]))break e;if(!We(t,Ut[e+48>>2],Ut[e+52>>2],Ut[1363]))break e;if(Ye(t,e+56|0,16))break t;break e;case 1:if(je(t,Ut[e+8>>2]<<3))break t;break e;case 6:break a;case 5:break r;case 4:break i;case 2:break;default:break n}if(!Ye(t,e+16|0,f=Ut[1364]>>>3|0))break e;if(Ye(t,Ut[e+20>>2],Ut[e+8>>2]-f|0))break t;break e}for(;;){if(_=(d=Wt(f,24))+Ut[e+20>>2]|0,!We(t,Ut[_>>2],Ut[_+4>>2],h))break e;if(_=d+Ut[e+20>>2]|0,!We(t,Ut[_+8>>2],Ut[_+12>>2],m))break e;if(!t0(t,Ut[16+(d+Ut[e+20>>2]|0)>>2],p))break e;if(!((f=f+1|0)>>>0<Kt[e+16>>2]))break}break t}if(!Ge(t,d))break e;if(!Ye(t,Ut[2720],d))break e;if(!Ge(t,Ut[e+24>>2]))break e;if(!Ut[e+24>>2])break t;for(f=0;;){if(!Ge(t,Ut[(d=f<<3)+Ut[e+28>>2]>>2]))break e;if(d=d+Ut[e+28>>2]|0,!Ye(t,Ut[d+4>>2],Ut[d>>2]))break e;if(!((f=f+1|0)>>>0<Kt[e+24>>2]))break}break t}if(!Ye(t,e+16|0,Ut[1378]>>>3|0))break e;if(!We(t,Ut[e+152>>2],Ut[e+156>>2],Ut[1379]))break e;if(!t0(t,0!=Ut[e+160>>2],Ut[1380]))break e;if(!je(t,Ut[1381]))break e;if(!t0(t,Ut[e+164>>2],Ut[1382]))break e;if(!Ut[e+164>>2])break t;for(m=Ut[1373]>>>3|0,h=Ut[1370],_=Ut[1369],a=Ut[1368],r=Ut[1377],i=Ut[1376],s=Ut[1375],o=Ut[1374],l=Ut[1372],c=Ut[1371],d=0;;){if(f=Ut[e+168>>2]+(d<<5)|0,!We(t,Ut[f>>2],Ut[f+4>>2],c))break e;if(!t0(t,Xt[f+8|0],l))break e;if(!Ye(t,f+9|0,m))break e;if(!t0(t,1&_e[f+22|0],o))break e;if(!t0(t,Xt[f+22|0]>>>1&1,s))break e;if(!je(t,i))break e;if(!t0(t,Xt[f+23|0],r))break e;r:if(Xt[0|(n=f+23|0)]){for(u=f+24|0,f=0;;){if(p=Ut[u>>2]+(f<<4)|0,!We(t,Ut[p>>2],Ut[p+4>>2],a))return;if(!t0(t,Xt[p+8|0],_))return;if(!je(t,h))break;if((f=f+1|0)>>>0>=Xt[0|n])break r}return}if(!((d=d+1|0)>>>0<Kt[e+164>>2]))break}break t}if(!t0(t,Ut[e+16>>2],Ut[1383]))break e;if(!t0(t,f=Pe(Ut[e+20>>2]),Ut[1384]))break e;if(!Ye(t,Ut[e+20>>2],f))break e;if(!t0(t,f=Pe(Ut[e+24>>2]),Ut[1385]))break e;if(!Ye(t,Ut[e+24>>2],f))break e;if(!t0(t,Ut[e+28>>2],Ut[1386]))break e;if(!t0(t,Ut[e+32>>2],Ut[1387]))break e;if(!t0(t,Ut[e+36>>2],Ut[1388]))break e;if(!t0(t,Ut[e+40>>2],Ut[1389]))break e;if(!t0(t,Ut[e+44>>2],Ut[1390]))break e;if(Ye(t,Ut[e+48>>2],Ut[e+44>>2]))break t;break e}if(!Ye(t,Ut[e+16>>2],Ut[e+8>>2]))break e}b=1}return b}function st(e,t){var n,a,r,i,s,o=0,l=0,c=0,u=0,f=0,d=0,p=0;Zt=n=Zt-16|0;e:if(t0(t,Ut[1394],Ut[1395])&&t0(t,0,Ut[1396])&&t0(t,0!=Ut[e+20>>2],Ut[1397])){d=16,p=1,l=t;t:{n:{a:{r:{i:{s:{o:{l:{c:{if((0|(o=Ut[e>>2]))<=2047){if((0|o)<=575){if(c=1,192==(0|o))break t;if(256==(0|o))break s;if(512!=(0|o))break n;c=9;break t}if(576==(0|o))break c;if(1024==(0|o))break i;if(1152!=(0|o))break n;c=3;break t}if((0|o)<=4607){if(2048==(0|o))break r;if(2304==(0|o))break l;if(4096!=(0|o))break n;c=12;break t}if((0|o)<=16383){if(4608==(0|o))break o;if(8192!=(0|o))break n;c=13;break t}if(16384==(0|o))break a;if(32768!=(0|o))break n;c=15;break t}c=2;break t}c=4;break t}c=5;break t}c=8;break t}c=10;break t}c=11;break t}c=14;break t}d=(o=o>>>0<257)?8:16,p=0,c=o?6:7}if(t0(l,c,Ut[1398])){t:{n:{a:{r:{i:{s:{o:{l:{if((0|(o=Ut[e+4>>2]))<=44099){if((0|o)<=22049){if(8e3==(0|o))break l;if(16e3!=(0|o))break n;l=5;break t}if(22050==(0|o))break o;if(24e3==(0|o))break s;if(32e3!=(0|o))break n;l=8;break t}if((0|o)<=95999){if(44100==(0|o))break i;if(48e3==(0|o))break r;if(l=1,88200==(0|o))break t;break n}if(96e3==(0|o))break a;if(192e3!=(0|o)){if(176400!=(0|o))break n;l=2;break t}l=3;break t}l=4;break t}l=6;break t}l=7;break t}l=9;break t}l=10;break t}l=11;break t}u=(o>>>0)%1e3|0,o>>>0<=255e3&&(f=l=12,!u)||(f=l=(o>>>0)%10?o>>>0<65536?13:0:14)}if(u=0,t0(t,l,Ut[1399])){t:{switch(Ut[e+12>>2]){case 0:l=Ut[e+8>>2]+-1|0;break t;case 1:l=8;break t;case 2:l=9;break t;case 3:break;default:break t}l=10}if(t0(t,l,Ut[1400])&&t0(l=t,o=(o=a0(Ut[e+16>>2]+-8|0,30))>>>0<=4?Ut[10464+(o<<2)>>2]:0,Ut[1401])&&t0(t,0,Ut[1402])){t:{if(!Ut[e+20>>2]){if(((e,t)=>{if(0<=(0|t)){if(t>>>0<=127)return _(e,t,8);if(t>>>0<=2047)return _(e,t>>>6|192,8)&_(e,63&t|128,8)&1;if(t>>>0<=65535)return _(e,t>>>12|224,8)&_(e,t>>>6&63|128,8)&_(e,63&t|128,8)&1;if(t>>>0<=2097151)return _(e,t>>>18|240,8)&_(e,t>>>12&63|128,8)&_(e,t>>>6&63|128,8)&_(e,63&t|128,8)&1;if(t>>>0<=67108863)return _(e,t>>>24|248,8)&_(e,t>>>18&63|128,8)&_(e,t>>>12&63|128,8)&_(e,t>>>6&63|128,8)&_(e,63&t|128,8)&1;e=_(e,t>>>30|252,8)&_(e,t>>>24&63|128,8)&_(e,t>>>18&63|128,8)&_(e,t>>>12&63|128,8)&_(e,t>>>6&63|128,8)&_(e,63&t|128,8)&1}else e=0;return e})(t,Ut[e+24>>2]))break t;break e}if(!((e,t,n)=>{if(15==(0|n)|n>>>0<15){if(!n&t>>>0<=127|n>>>0<0)return _(e,t,8);if(!n&t>>>0<=2047|n>>>0<0)return _(e,(63&n)<<26|t>>>6|192,8)&_(e,63&t|128,8)&1;if(!n&t>>>0<=65535|n>>>0<0)return _(e,(4095&n)<<20|t>>>12|224,8)&_(e,t>>>6&63|128,8)&_(e,63&t|128,8)&1;if(!n&t>>>0<=2097151|n>>>0<0)return _(e,(262143&n)<<14|t>>>18|240,8)&_(e,t>>>12&63|128,8)&_(e,t>>>6&63|128,8)&_(e,63&t|128,8)&1;if(!n&t>>>0<=67108863|n>>>0<0)return _(e,(16777215&n)<<8|t>>>24|248,8)&_(e,t>>>18&63|128,8)&_(e,t>>>12&63|128,8)&_(e,t>>>6&63|128,8)&_(e,63&t|128,8)&1;if(!n&t>>>0<=2147483647|n>>>0<0)return _(e,(1073741823&n)<<2|t>>>30|252,8)&_(e,t>>>24&63|128,8)&_(e,t>>>18&63|128,8)&_(e,t>>>12&63|128,8)&_(e,t>>>6&63|128,8)&_(e,63&t|128,8)&1;e=_(e,254,8)&_(e,(1073741823&n)<<2|t>>>30|128,8)&_(e,t>>>24&63|128,8)&_(e,t>>>18&63|128,8)&_(e,t>>>12&63|128,8)&_(e,t>>>6&63|128,8)&_(e,63&t|128,8)&1}else e=0;return e})(t,Ut[e+24>>2],Ut[e+28>>2]))break e}if(p||t0(t,Ut[e>>2]+-1|0,d)){t:{switch(f+-12|0){case 0:if(t0(t,Kt[e+4>>2]/1e3|0,8))break t;break e;case 1:if(t0(t,Ut[e+4>>2],16))break t;break e;case 2:break;default:break t}if(!t0(t,Kt[e+4>>2]/10|0,16))break e}r=15+n|0,Ke(t,12+(Zt=a=Zt-16|(s=0))|(s=0),8+a|0)&&(i=D(Ut[12+a>>2],Ut[8+a>>2]),_e[0|r]=i,s=1),Zt=16+a|0,s&&(u=0!=(0|t0(t,Xt[15+n|0],Ut[1403])))}}}}}return Zt=16+n|0,u}function ot(e,t,n,a,r,i,s,o){var l,c,u,f,d=0,p=0,_=0,m=Ut[(o?5644:5640)>>2],h=Ut[(o?5632:5628)>>2];e:{t:{if(!s){if(!Ut[i>>2]){if(!t0(e,Ut[r>>2],h))break t;if(Qe(e,t,n,Ut[r>>2]))break e;break t}if(!t0(e,m,h))break t;if(!t0(e,Ut[i>>2],Ut[1409]))break t;if(!n)break e;for(o=0;;){if(ze(e,Ut[(o<<2)+t>>2],Ut[i>>2])){if((0|(o=o+1|0))!=(0|n))continue;break e}break}return}for(u=n+a>>>s|0,f=Ut[1409],n=0;;){n=(o=n)+(l=u-(p?0:a)|0)|0;n:{if(!Ut[(d=(c=p<<2)+i|0)>>2]){if(!t0(e,Ut[(d=r+c|(_=0))>>2],h))break t;if(Qe(e,(o<<2)+t|0,l,Ut[d>>2]))break n;break t}if(_=0,!t0(e,m,h))break t;if(!t0(e,Ut[d>>2],f))break t;if(!(n>>>0<=o>>>0))for(;;){if(!ze(e,Ut[(o<<2)+t>>2],Ut[d>>2]))break t;if((0|(o=o+1|0))==(0|n))break}}if((p=p+(_=1)|0)>>>s)break}}return _}return 1}function d(e,t,n){var a,r=0,i=0;if(n){e:if(r=Xt[0|e]){for(;!((0|(a=Xt[0|t]))!=(0|r)||!(n=n+-1|0)|!a);)if(t=t+1|0,r=Xt[e+1|0],e=e+1|0,!r)break e;i=r}return(255&i)-Xt[0|t]|0}}function lt(e){var t,n,a,r;Ut[e+112>>2]=0,Ut[e+116>>2]=0,n=(t=(a=Ut[e+8>>2])-(r=Ut[e+4>>2])|0)>>31,Ut[e+120>>2]=t,1|((0|(Ut[e+124>>2]=n))<0||(0|n)<=0&&!(0<t>>>0)?1:0)?Ut[e+104>>2]=a:Ut[e+104>>2]=r}function ve(e){var t,n,a,r,i,s,o=0,l=0,c=0,u=0,f=0,c=l=Ut[e+116>>2];return l|(f=Ut[e+112>>2])&&((0|c)<(0|(l=Ut[e+124>>2]))||(0|c)<=(0|l)&&!(Kt[e+120>>2]<f>>>0))||!(-1<(0|(Zt=i=Zt-16|(s=0),r=Xt[(n=t=e)+74|0],_e[n+74|0]=r+(s=-1)|r,Kt[n+20>>2]>Kt[n+28>>2]&&Vt[Ut[n+36>>2]](n,0,0),Ut[n+28>>2]=0,Ut[n+16>>2]=0,Ut[n+20>>2]=0,(4&(r=Ut[n>>2])?(Ut[n>>2]=32|r,1):(a=Ut[n+44>>2]+Ut[n+48>>2]|0,Ut[n+8>>2]=a,Ut[n+4>>2]=a,r<<27>>31))||1==(0|Vt[Ut[t+32>>2]](t,15+i|0,1))&&(s=Xt[15+i|0]),Zt=16+i|0,f=s)))?(Ut[e+104>>2]=0,-1):(l=Ut[e+8>>2],(u=c=Ut[e+116>>2])|(o=Ut[e+112>>2])&&(c=(-1^Ut[e+124>>2])+u|0,(o=(u=-1^Ut[e+120>>2])+o|0)>>>0<u>>>0&&(c=c+1|0),a=(u=o)>>>0<(n=l-(o=Ut[e+4>>2])|0)>>>0?0:1,!((0|(n>>=31))<(0|c)||(0|n)<=(0|c)&&a))?Ut[e+104>>2]=u+o:Ut[e+104>>2]=l,l?(u=(o=1+((o=l)-(l=Ut[(c=e)+4>>2])|0)|0)+Ut[e+120>>2]|0,e=Ut[e+124>>2]+(o>>31)|0,Ut[c+120>>2]=u,Ut[c+124>>2]=u>>>0<o>>>0?e+1|0:e):l=Ut[e+4>>2],Xt[0|(e=l+-1|0)]!=(0|f)&&(_e[0|e]=f),f)}function ct(e,t){var n,a,r,i,s=0,o=0;Zt=r=Zt-16|0,a=n=e,i=t?(be(r,o=(s=t>>31)+t^s,0,0,0,(s=me(o))+81|0),s=(65536^Ut[12+r>>2])+(16414-s<<16)|0,t=-2147483648&t|(s=(o=0+Ut[8+r>>2]|0)>>>0<0?s+1|0:s),s=Ut[4+r>>2],Ut[r>>2]):t=0,Ut[a>>2]=i,Ut[n+4>>2]=s,Ut[e+8>>2]=o,Ut[e+12>>2]=t,Zt=16+r|0}function ge(e,t,n,a,r,i,s,o,l){var c,u,f,d,p,_,m,h,b,v,I,N,O,H,q,g,k,A,V,y,w=0,E=0,R=0,C=0,S=0,T=0,M=0,P=0,B=0,F=0,D=0,x=0,L=0;Zt=g=Zt-96|0,T=n,P=(131071&(E=s))<<15|i>>>17,D=(E=c=o)<<15|s>>>17,S=-2147483648&(r^l),M=a,L=C=E=65535&r,x=(131071&(E=k=w=65535&l))<<15|o>>>17,v=l>>>16&32767;e:{if(!((I=r>>>16&32767)-1>>>0<=32765&&v-1>>>(B=0)<32766)){if(!(!(E=a)&2147418112==(0|(w=R=2147483647&r))?!(t|n):2147418112==(0|w)&a>>>0<0|w>>>0<2147418112)){F=a,S=32768|r;break e}if(!(!(a=o)&2147418112==(0|(r=R=2147483647&l))?!(i|s):2147418112==(0|r)&a>>>0<0|r>>>0<2147418112)){F=o,S=32768|l,t=i,n=s;break e}if(!(t|E|2147418112^w|n)){if(!(a|i|r|s)){S=2147450880,n=t=0;break e}S|=2147418112,n=t=0;break e}if(!(a|i|2147418112^r|s)){if(a=t|E,r=n|w,n=t=0,!(a|r)){S=2147450880;break e}S|=2147418112;break e}if(!(t|E|n|w)){n=t=0;break e}if(!(a|i|r|s)){n=t=0;break e}65535==((a=0)|w)|w>>>0<65535&&(w=t,l=n,o=(a=!(C|M))<<6,E=me(a?t:M)+32|0,be(80+g|0,w,l,M,C,(t=o+(32==(0|(t=me(a?n:C)))?E:t)|0)-15|0),M=Ut[88+g>>2],T=Ut[84+g>>2],L=Ut[92+g>>2],a=16-t|0,t=Ut[80+g>>2]),B=a,65535<r>>>0||(r=(n=!(c|k))<<6,o=me(n?i:c)+32|0,be(64+g|0,i,s,c,k,(l=n=r+(32==(0|(n=me(n?s:k)))?o:n)|0)-15|0),n=i=Ut[76+g>>2],r=o=Ut[72+g>>2],D=(E=Ut[68+g>>2])>>>17|(r<<=15),P=(131071&(r=E))<<15|(i=Ut[64+g>>2])>>>17,x=(131071&n)<<15|o>>>17,B=16+(a-l|0)|0)}if(l=ke(a=P,0,t,0),A=n=Qt,i=ke(d=i<<15&-32768,0,T,0),R=Qt+n|0,R=(r=i+l|0)>>>0<i>>>0?R+1|0:R,n=r,s=ke(d,i=0,t,0),w=Qt+n|0,_=(0|n)==(0|(s=w=(r=i+s|0)>>>0<s>>>0?w+1|0:w))&(P=r)>>>0<i>>>0|w>>>0<n>>>0,N=ke(a,0,T,0),m=Qt,i=ke(d,0,f=M,0),C=Qt+m|0,C=(r=i+N|0)>>>0<i>>>0?C+1|0:C,O=r,o=ke(D,0,t,0),i=Qt+C|0,o=k=i=(y=r=r+o|0)>>>0<o>>>0?i+1|0:i,w=(i=(0|R)==(0|A)&n>>>0<l>>>0|R>>>0<A>>>0)+o|0,r=w=(A=n=(r=R)+y|0)>>>0<r>>>0?w+1|0:w,o=n,H=ke(a,0,M,0),h=Qt,i=ke(n=d,0,d=65536|L,0),w=Qt+h|0,w=(n=i+H|0)>>>0<i>>>0?w+1|0:w,q=n,E=ke(T,0,D,0),i=(u=w)+Qt|0,i=(n=n+E|0)>>>0<E>>>0?i+1|0:i,b=n,n=ke(p=2147483647&x|-2147483648,0,t,0),E=(c=i)+Qt|0,n=(V=t=b+n|0)>>>0<n>>>0?E+1|0:E,w=r+t|0,i=x=w=(t=(i=0)+o|0)>>>0<i>>>0?w+1|0:w,l=i=(o=(L=t)+_|0)>>>0<t>>>0?i+1|0:i,M=(B+(v+I|0)|0)-16383|0,i=ke(f,0,D,0),t=Qt,E=ke(a,R=0,d,0),w=Qt+t|0,w=(a=E+i|0)>>>0<E>>>0?w+1|0:w,E=B=a,w=(0|t)==(0|(a=w))&E>>>0<i>>>0|a>>>0<t>>>0,t=(i=ke(p,0,T,0))+E|0,E=Qt+a|0,E=t>>>0<i>>>0?E+1|0:E,i=T=t,E=i=w+(a=(0|a)==(0|(t=E))&i>>>0<B>>>0|t>>>0<a>>>0)|0,i=R=i>>>0<a>>>0?1:R,_=E,E=(a=t)+(w=(C=(E=((w=0)|C)==(0|k)&y>>>0<O>>>0|k>>>0<C>>>0)+((0|C)==(0|m)&O>>>0<N>>>0|C>>>0<m>>>0)|0)>>>0<E>>>0?1:w)|0,(E=_+(t=(0|t)==(0|(a=E=(w=B=C=(R=C)+T|0)>>>0<R>>>0?E+1|0:E))&w>>>0<T>>>0|a>>>0<t>>>0)|0)>>>0<t>>>0&&(i=i+1|0),t=E,E=ke(p,0,d,0),w=Qt+i|0,w=(t=t+E|0)>>>0<E>>>0?w+1|0:w,R=t,C=ke(p,0,f,0),i=Qt,T=ke(D,0,d,0),E=Qt+i|0,E=(t=T+C|0)>>>0<T>>>0?E+1|0:E,T=t,E=(0|i)==(0|(t=E))&T>>>0<C>>>0|t>>>0<i>>>0,i=t+R|0,R=w+E|0,E=i>>>0<t>>>0?R+1|0:R,f=i,w=a+T|0,i=C=t=(R=0)+B|0,(i=f+(a=(0|a)==(0|(t=w=t>>>0<R>>>0?w+1|0:w))&i>>>0<B>>>0|t>>>0<a>>>0)|0)>>>0<a>>>0&&(E=E+1|0),T=i,(u=(i=((w=0)|u)==(0|c)&b>>>0<q>>>0|c>>>0<u>>>0)+((0|u)==(0|h)&q>>>0<H>>>0|u>>>0<h>>>0)|0)>>>0<i>>>0&&(w=1),R=(i=u+((0|n)==(0|c)&V>>>0<b>>>0|n>>>0<c>>>0)|0)+t|0,R=(n=(a=n)+C|0)>>>0<a>>>0?R+1|0:R,a=u=n,w=E=(a=(t=(0|t)==(0|(n=R))&a>>>0<C>>>0|n>>>0<t>>>0)+T|0)>>>0<t>>>0?E+1|0:E,E=a,R=(t=n)+(i=(r=(a=((i=0)|r)==(0|x)&L>>>0<A>>>0|x>>>0<r>>>0)+((0|r)==(0|k)&A>>>0<y>>>0|r>>>0<k>>>0)|0)>>>0<a>>>0?1:i)|0,(n=E+(t=(0|n)==(0|(r=R=(a=r+u|0)>>>0<r>>>0?R+1|0:R))&(t=a)>>>0<u>>>0|r>>>0<n>>>0)|0)>>>0<t>>>0&&(w=w+1|0),t=n,65536&(n=w)?M=M+1|0:(C=s>>>31|0,w=n<<1|t>>>31,t=t<<1|r>>>31,n=w,w=r<<1|a>>>31,a=a<<1|l>>>31,r=w,P=(E=P)<<1,s=w=s<<1|E>>>31,E=l<<1|o>>>31,o=o<<1|C,l=E),32767<=(0|M))S|=2147418112,n=t=0;else{t:{if((0|M)<=0){if((i=1-M|0)>>>0<=127){be(48+g|0,P,s,o,l,E=M+127|0),be(32+g|0,a,r,t,n,E),U(16+g|0,P,s,o,l,i),U(g,a,r,t,n,i),P=0!=(Ut[48+g>>2]|Ut[56+g>>2])|0!=(Ut[52+g>>2]|Ut[60+g>>2])|(Ut[32+g>>2]|Ut[16+g>>2]),s=Ut[36+g>>2]|Ut[20+g>>2],o=Ut[40+g>>2]|Ut[24+g>>2],l=Ut[44+g>>2]|Ut[28+g>>2],a=Ut[g>>2],r=Ut[4+g>>2],n=Ut[12+g>>2],t=Ut[8+g>>2];break t}n=t=0;break e}n=65535&n|M<<16}F|=t,S|=n,(!o&-2147483648==(0|l)?!(s|P):-1<(0|l))?o|P|-2147483648^l|s?(t=a,n=r):(C=S,w=r,(n=(t=1&a)+a|0)>>>0<t>>>0&&(w=w+1|0),t=n,F=r=(a=(0|r)==(0|(n=w))&t>>>0<a>>>0|n>>>0<r>>>0)+F|0,S=C=r>>>0<a>>>0?C+1|0:C):(R=S,F=r=(a=(0|(C=r))==(0|(n=C=(t=a+1|0)>>>0<1?C+1|0:C))&t>>>0<a>>>0|n>>>0<r>>>0)+F|0,S=R=r>>>0<a>>>0?R+1|0:R)}}Ut[e>>2]=t,Ut[e+4>>2]=n,Ut[e+8>>2]=F,Ut[e+12>>2]=S,Zt=96+g|0}function ut(e,t,n,a,r,i,s,o,l){var c,u,f,d=0,p=0,_=0,m=0,h=0,b=0,v=0;Zt=c=Zt-112|0,_=o,h=2147483647&l,p=n+-1|0,v=-1==(0|(m=d=t+-1|0))&-1==(0|(p=-1!=(0|d)?p+1|0:p)),d=b=2147483647&r,p=(d=(m=(u=a)+(p=(0|n)==(0|p)&m>>>0<t>>>0|p>>>0<n>>>0)|0)>>>0<p>>>0?d+1|0:d)+-1|0;e:{if((-1==(0|(d=m=m+-1|0))&2147418111==(0|(p=-1!=(0|d)?p+1|0:p))?v:2147418111<p>>>0)||(p=s+-1|0,v=-1!=(0|(m=d=i+-1|0))|-1!=(0|(p=-1!=(0|d)?p+1|0:p)),d=h,d=((m=(p=(0|s)==(0|p)&m>>>0<i>>>0|p>>>0<s>>>0)+_|0)>>>0<p>>>0?d+1|0:d)+-1|0,!(-1==(0|(p=m+-1|0))&2147418111==(0|(d=-1!=(0|p)?d+1|0:d))?v:2147418111==(0|d)&-1!=(0|p)|d>>>0<2147418111))){if(!(!u&2147418112==(0|b)?!(t|n):2147418112==(0|b)&u>>>0<0|b>>>0<2147418112)){o=a,l=32768|r,i=t,s=n;break e}if(!(!_&2147418112==(0|h)?!(i|s):2147418112==(0|h)&_>>>0<0|h>>>0<2147418112)){l|=32768;break e}if(!(t|u|2147418112^b|n)){o=(a=!(t^i|(d=a)^o|n^s|r^l^-2147483648))?0:d,l=a?2147450880:r,i=a?0:t,s=a?0:n;break e}if(!(i|_|2147418112^h|s))break e;if(!(t|u|n|b)){if(i|_|s|h)break e;i&=t,s&=n,o&=a,l&=r;break e}if(!(i|_|s|h)){i=t,s=n,o=a,l=r;break e}}if(b=(d=p=(0|_)==(0|u)&(0|h)==(0|b)?(0|n)==(0|s)&t>>>0<i>>>0|n>>>0<s>>>0:(0|h)==(0|b)&u>>>0<_>>>0|b>>>0<h>>>0)?i:t,h=d?s:n,m=d?o:a,d=65535&(u=_=d?l:r),a=p?a:o,v=(f=r=p?r:l)>>>16&32767,(_=_>>>16&32767)||(o=(r=!(d|m))<<6,l=me(r?b:m)+32|0,be(96+c|0,b,h,m,d,(r=o+(32==(0|(r=me(r?h:d)))?l:r)|0)-15|0),m=Ut[104+c>>2],b=Ut[96+c>>2],h=Ut[100+c>>2],_=16-r|0,d=Ut[108+c>>2]),i=p?t:i,s=p?n:s,t=a,n=65535&f,t=v?n:(r=(a=!((o=t)|n))<<6,l=me(a?i:t)+32|0,be(80+c|0,i,s,o,n,(t=r+(32==(0|(t=me(a?s:n)))?l:t)|0)-15|0),v=16-t|0,i=Ut[80+c>>2],s=Ut[84+c>>2],a=Ut[88+c>>2],Ut[92+c>>2]),o=(n=a)<<3|s>>>29,l=524288|(p=t<<3|n>>>29),r=(t=m)<<3|h>>>29,m=a=d<<3|t>>>29,p=u^f,n=d=s<<3|(t=i)>>>29,a=t<<=3,(i=_-v|0)&&(a=127<i>>>0?(d=l=o=0,1):(be(64+c|0,t,n,o,l,128-i|0),U(48+c|0,t,n,o,l,i),o=Ut[56+c>>2],l=Ut[60+c>>2],d=Ut[52+c>>2],Ut[48+c>>2]|(0!=(Ut[64+c>>2]|Ut[72+c>>2])|0!=(Ut[68+c>>2]|Ut[76+c>>2])))),s=d,m|=524288,d=h<<3|(t=b)>>>29,n=t<<3,(0|p)<-1||(0|p)<=-1){if(!((t=n-(h=a)|0)|(i=(b=r-o|0)-(a=(0|s)==(0|d)&n>>>0<a>>>0|d>>>0<s>>>0)|0)|(n=d-((n>>>0<h>>>0)+s|0)|0)|(s=(m-((r>>>0<o>>>0)+l|0)|0)-(b>>>0<a>>>0)|0))){l=o=s=i=0;break e}524287<s>>>0||(o=t,r=(a=!(i|s))<<6,l=me(a?t:i)+32|0,be(32+c|0,o,n,i,s,t=(r+(32==(0|(t=me(a?n:s)))?l:t)|0)-12|0),_=_-t|0,i=Ut[40+c>>2],s=Ut[44+c>>2],t=Ut[32+c>>2],n=Ut[36+c>>2])}else p=s+d|0,(n=(t=a)+n|0)>>>0<t>>>0&&(p=p+1|0),t=n,s=(0|s)==(0|(n=p))&t>>>0<a>>>0|n>>>0<s>>>0,p=l+m|0,(a=r+o|0)>>>0<r>>>0&&(p=p+1|0),r=s+(i=a)|0,a=p,a=r>>>0<i>>>0?a+1|0:a,i=r,1048576&(s=a)&&(t=1&t|(1&n)<<31|t>>>1,n=i<<31|n>>>1,_=_+1|0,i=(1&s)<<31|i>>>1,s=s>>>1|0);d=-2147483648&u,32767<=((o=0)|_)?(l=2147418112|d,s=i=0):((r=0)<(0|_)?r=_:(be(16+c|0,t,n,i,s,_+127|0),U(c,t,n,i,s,1-_|0),t=Ut[c>>2]|(0!=(Ut[16+c>>2]|Ut[24+c>>2])|0!=(Ut[20+c>>2]|Ut[28+c>>2])),n=Ut[4+c>>2],i=Ut[8+c>>2],s=Ut[12+c>>2]),o=o|(7&s)<<29|i>>>3,r=d|s>>>3&65535|r<<16,i=d=i<<29,s=(7&n)<<29|t>>>3|(a=0),d=r,p=a=n>>>3|i,(n=(t=4<(r=7&t)>>>0)+s|0)>>>0<t>>>0&&(p=p+1|0),t=n,(i=(a=(0|a)==(0|(n=p))&t>>>0<s>>>0|n>>>0<a>>>0)+o|0)>>>0<a>>>0&&(d=d+1|0),a=(r=4==(0|r))?1&t:0,l=d,d=n+(r=0)|0,(n=(o=i)+(t=(0|r)==(0|(s=d=(n=t+a|0)>>>0<t>>>0?d+1|0:d))&(t=i=n)>>>0<a>>>0|d>>>0<r>>>0)|0)>>>0<t>>>0&&(l=l+1|0),o=n)}Ut[e>>2]=i,Ut[e+4>>2]=s,Ut[e+8>>2]=o,Ut[e+12>>2]=l,Zt=112+c|0}function ft(e,t){var n,a=0,r=0,i=0,s=0,o=0,l=0;Zt=n=Zt-16|0,r0(+t),i=(a=o=2147483647&(t=0|qt[1]))-1048576|0,a=2145386495==(0|(i=(r=s=0|qt[0])>>>0<0?i+1|0:i))|i>>>0<2145386495?(o=r<<28,i=(15&a)<<28|r>>>4,a=1006632960+(a>>>4|0)|0,(r=i)>>>0<0?a+1|0:a):2146435072==(0|a)&0<=r>>>0|2146435072<a>>>0?(o=s<<28,r=(15&(a=t))<<28|(i=s)>>>4,2147418112|(s=a>>>4|0)):a|r?(be(n,r,i=a,0,0,(a=1==(0|a)&r>>>0<0|a>>>0<1?me(s)+32|0:me(a))+49|0),l=Ut[n>>2],o=Ut[4+n>>2],r=Ut[8+n>>2],65536^Ut[12+n>>2]|15372-a<<16):r=o=0,Ut[e>>2]=l,Ut[e+4>>2]=o,Ut[e+8>>2]=r,Ut[e+12>>2]=-2147483648&t|a,Zt=16+n|0}function dt(e,t,n,a,r,i,s,o){var l,c,u=0,f=0,u=1,d=l=2147483647&a;e:if(!(!n&2147418112==(0|l)?e|t:2147418112==(0|l)&0<n>>>0|2147418112<l>>>0)&&!(!(l=s)&2147418112==(0|(f=c=2147483647&o))?r|i:2147418112==(0|c)&0<s>>>0|2147418112<c>>>0)){if(!(e|r|l|n|t|i|d|f))return 0;if(0<(0|(c=a&o))||0<=(0|c)&&!((n&s)>>>0<0)){if(u=-1,(0|n)==(0|s)&(0|a)==(0|o)?(0|t)==(0|i)&e>>>0<r>>>0|t>>>0<i>>>0:(0|a)<(0|o)||(0|a)<=(0|o)&&!(s>>>0<=n>>>0))break e;return 0!=(e^r|n^s)|0!=(t^i|a^o)}u=((0|n)==(0|s)&(0|a)==(0|o)?(0|t)==(0|i)&r>>>0<e>>>0|i>>>0<t>>>0:(0|o)<(0|a)||(0|o)<=(0|a)&&!(n>>>0<=s>>>0))?-1:0!=(e^r|n^s)|0!=(t^i|a^o)}return u}function pt(e,t,n,a,r){var i,s,o=0,l=0,o=-1,c=i=2147483647&a;e:if(!((!n&2147418112==(0|i)?e|t:2147418112==(0|i)&0<n>>>0|2147418112<i>>>0)||2147418112!=(0|(l=i=2147483647&r))&&2147418112<i>>>0)){if(!(e|n|t|c|l))return 0;if(0<(0|(s=a&r))||0<=(0|s)){if(!n&(0|a)==(0|r)?!t&e>>>0<0|t>>>0<0:(0|a)<(0|r)||(0|a)<=(0|r)&&!(0<=n>>>0))break e;return 0!=(e|n)|0!=(t|a^r)}(!n&(0|a)==(0|r)?!t&0<e>>>0|0<t>>>0:(0|r)<(0|a)||(0|r)<=(0|a)&&!(n>>>0<=0))||(o=0!=(e|n)|0!=(t|a^r))}return o}function _t(e,t,n,a,r,i,s,o,l){Ut[e>>2]=t,Ut[e+4>>2]=n,Ut[e+8>>2]=a,Ut[e+12>>2]=65535&r|(l>>>16&32768|r>>>16&32767)<<16}function mt(e,t){var n,a,r,i=0,s=0,o=0;Zt=r=Zt-16|0,a=n=e,i=t?(be(r,i=t,0,0,0,112-(t=31^me(t))|0),t=(65536^Ut[12+r>>2])+(t+16383<<16)|0,(s=0+Ut[8+r>>2]|0)>>>0<o>>>0&&(t=t+1|0),o=Ut[4+r>>2],Ut[r>>2]):t=0,Ut[a>>2]=i,Ut[n+4>>2]=o,Ut[e+8>>2]=s,Ut[e+12>>2]=t,Zt=16+r|0}function ht(e,t,n,a,r,i,s,o,l){var c;ut(Zt=c=Zt-16|0,t,n,a,r,i,s,o,-2147483648^l),t=Ut[4+c>>2],Ut[e>>2]=Ut[c>>2],Ut[e+4>>2]=t,t=Ut[12+c>>2],Ut[e+8>>2]=Ut[8+c>>2],Ut[e+12>>2]=t,Zt=16+c|0}function bt(e,t,n,a,r,i){var s;Zt=s=Zt-80|0,16384<=(0|i)?(ge(32+s|0,t,n,a,r,0,0,0,2147352576),a=Ut[40+s>>2],r=Ut[44+s>>2],t=Ut[32+s>>2],n=Ut[36+s>>2],(0|i)<32767?i=i+-16383|0:(ge(16+s|0,t,n,a,r,0,0,0,2147352576),i=((0|i)<49149?i:49149)+-32766|0,a=Ut[24+s>>2],r=Ut[28+s>>2],t=Ut[16+s>>2],n=Ut[20+s>>2])):-16383<(0|i)||(ge(64+s|0,t,n,a,r,0,0,0,65536),a=Ut[72+s>>2],r=Ut[76+s>>2],t=Ut[64+s>>2],n=Ut[68+s>>2],-32765<(0|i)?i=i+16382|0:(ge(48+s|0,t,n,a,r,0,0,0,65536),i=(-49146<(0|i)?i:-49146)+32764|0,a=Ut[56+s>>2],r=Ut[60+s>>2],t=Ut[48+s>>2],n=Ut[52+s>>2])),ge(s,t,n,a,r,0,0,0,i+16383<<16),t=Ut[12+s>>2],Ut[e+8>>2]=Ut[8+s>>2],Ut[e+12>>2]=t,t=Ut[4+s>>2],Ut[e>>2]=Ut[s>>2],Ut[e+4>>2]=t,Zt=80+s|0}function vt(e,t,n,a,r){var i,s,o=ke(t,n,0,0),l=Qt,c=ke(0,0,a,r),l=Qt+l|0,u=(o=o+c|0)+(i=ke(r,0,n,0))|0,o=Qt+(o>>>0<c>>>0?1+l|0:l)|0;l=ke(a,0,t,0),s=Qt,c=ke(n,0,a,0),n=u>>>0<i>>>0?1+o|0:o,(u=(o=(a=s+c|0)>>>0<c>>>0?Qt+1|0:Qt)+u|0)>>>0<o>>>0&&(n=n+1|0),t=ke(t,0,r,0)+a|0,r=Qt,(r=u+(a=t>>>0<a>>>0?r+1|0:r)|0)>>>0<a>>>0&&(n=n+1|0),Ut[e+8>>2]=r,Ut[e+12>>2]=n,Ut[e>>2]=l,Ut[e+4>>2]=t}function gt(e,t,n,a,r,i,s,o,l){var c,u,f,I,N,d,O,p,_,m,h,b=0,v=0,g=0,k=0,A=0,y=0,w=0,E=0,R=0,C=0,S=0,T=0,M=0,P=0,B=0,F=0,D=0,x=0,L=0,H=0;Zt=_=Zt-192|0,D=o,x=65535&l,w=a,A=65535&r,F=-2147483648&(r^l),E=l>>>16&32767;e:{t:{if(!((c=r>>>16&32767)-1>>>0<=32765&&E+-1>>>0<32766)){if(!(!(b=a)&2147418112==(0|(g=v=2147483647&r))?!(t|n):2147418112==(0|v)&b>>>0<0|v>>>0<2147418112)){L=a,F=32768|r;break t}if(!(!(a=o)&2147418112==(0|(r=v=2147483647&l))?!(i|s):2147418112==(0|v)&a>>>0<0|v>>>0<2147418112)){L=o,F=32768|l,t=i,n=s;break t}if(!(t|b|2147418112^g|n)){if(!(a|i|2147418112^r|s)){n=t=0,F=2147450880;break t}F|=2147418112,n=t=0;break t}if(!(a|i|2147418112^r|s)){n=t=0;break t}if(!(t|b|n|g))break e;if(!(a|i|r|s)){F|=2147418112,n=t=0;break t}65535==((v=0)|g)|g>>>0<65535&&(l=t,o=(a=!(A|w))<<6,b=me(a?t:w)+32|0,be(176+_|0,l,n,w,A,(t=o+(32==(0|(t=me(a?n:A)))?b:t)|0)-15|0),v=16-t|0,w=Ut[184+_>>2],A=Ut[188+_>>2],n=Ut[180+_>>2],t=Ut[176+_>>2]),65535<r>>>0||(r=(a=!(D|x))<<6,o=me(a?i:D)+32|0,be(160+_|0,i,s,D,x,(a=r+(32==(0|(a=me(a?s:x)))?o:a)|0)-15|0),v=(a+v|0)-16|0,D=Ut[168+_>>2],x=Ut[172+_>>2],i=Ut[160+_>>2],s=Ut[164+_>>2])}k=(h=r=65536|x)<<15|(a=N=D)>>>17,vt(144+_|0,a=a<<15|s>>>17,b=r=k,o=-102865788-a|0,l=1963258675-(b+(4192101508<a>>>0)|0)|0),vt(128+_|0,0-(b=Ut[152+_>>2])|0,0-(Ut[156+_>>2]+(0<b>>>0)|0)|0,o,l),vt(112+_|0,l=(o=Ut[136+_>>2])<<1|Ut[132+_>>2]>>>31,o=Ut[140+_>>2]<<1|o>>>31,a,r),vt(96+_|0,l,b=o,0-(o=Ut[120+_>>2])|0,0-(Ut[124+_>>2]+(0<o>>>0)|0)|0),o=Ut[104+_>>2],g=Ut[108+_>>2]<<1|o>>>31,vt(80+_|0,l=o<<1|Ut[100+_>>2]>>>31,g,a,r),vt(64+_|0,l,g,0-(o=Ut[88+_>>2])|0,0-(Ut[92+_>>2]+(0<o>>>0)|0)|0),vt(48+_|0,l=(o=Ut[72+_>>2])<<1|Ut[68+_>>2]>>>31,o=Ut[76+_>>2]<<1|o>>>31,a,r),vt(32+_|0,l,b=o,0-(o=Ut[56+_>>2])|0,0-(Ut[60+_>>2]+(0<o>>>0)|0)|0),o=Ut[40+_>>2],g=Ut[44+_>>2]<<1|o>>>31,vt(16+_|0,l=o<<1|Ut[36+_>>2]>>>31,g,a,r),vt(_,l,g,0-(o=Ut[24+_>>2])|0,0-(Ut[28+_>>2]+(0<o>>>0)|0)|0),H=(c-E|0)+v|0,o=Ut[8+_>>2],v=(b=Ut[12+_>>2]<<1|o>>>31)-1|0,-1!=(0|(l=(Ut[4+_>>2]>>>31|o<<1)-1|0))&&(v=v+1|0),k=ke(o=l,S=b=0,C=r,g=0),c=r=Qt,o=ke(T=v,E=0,b=a,0),v=Qt+r|0,v=(a=o+k|0)>>>0<o>>>0?v+1|0:v,o=a,a=v,y=ke(l,S,b,y),b=(v=o)+Qt|0,b=(r=0+y|0)>>>0<y>>>0?b+1|0:b,y=r,b=(0|v)==(0|(r=b))&y>>>0<M>>>0|b>>>0<v>>>0,v=(0|a)==(0|c)&v>>>0<k>>>0|a>>>0<c>>>0,o=a,a=ke(T,E,C,g)+a|0,g=v+Qt|0,g=a>>>0<o>>>0?g+1|0:g,a=b+(o=a)|0,b=g,o=(m=a)>>>0<o>>>0?b+1|0:b,C=ke(l,S,P=(131071&(a=s))<<15|i>>>17,0),M=a=Qt,g=ke(T,E,R=(v=i)<<15&-32768,0),v=Qt+a|0,a=v=(b=g+C|0)>>>0<g>>>0?v+1|0:v,u=ke(l,S,R,0),v=b+Qt|0,v=(0|b)==(0|(v=(R=0+u|0)>>>0<u>>>0?v+1|0:v))&R>>>0<0|v>>>0<b>>>0,b=(0|a)==(0|M)&b>>>0<C>>>0|a>>>0<M>>>0,k=a,a=ke(T,E,P,B)+a|0,g=b+Qt|0,g=a>>>0<k>>>0?g+1|0:g,b=(k=(a=v+(b=a)|0)>>>0<b>>>0?g+1|0:g)+r|0,b=(a=y+(v=a)|0)>>>0<v>>>0?b+1|0:b,v=o,b=v=(r=(a=(0|r)==(0|(C=b))&(c=a)>>>0<y>>>0|b>>>0<r>>>0)+m|0)>>>0<a>>>0?v+1|0:v,(r=r+(a=0!=(0|c)|0!=(0|C))|0)>>>0<a>>>0&&(b=b+1|0),o=ke(r=0-(v=r)|0,y=0,l,S),M=a=Qt,R=ke(T,E,r,y),m=r=Qt,y=ke(l,S,P=0-((0<v>>>0)+b|0)|0,b=0),v=Qt+r|0,v=(k=y+R|0)>>>0<y>>>0?v+1|0:v,g=a+(r=k)|0,g=(0|M)==(0|(a=g=(y=0+o|0)>>>0<B>>>0?g+1|0:g))&(k=y)>>>0<o>>>0|a>>>0<M>>>0,k=(0|v)==(0|m)&r>>>0<R>>>0|v>>>0<m>>>0,r=ke(T,E,P,b)+v|0,b=k+Qt|0,b=r>>>0<v>>>0?b+1|0:b,P=r=g+(o=r)|0,o=b=r>>>0<o>>>0?b+1|0:b,r=0-c|0,m=ke(B=0-((0<c>>>0)+C|0)|0,0,l,S),R=Qt,b=ke(C=r,0,T,E),v=Qt+R|0,r=(g=r=b+m|0)>>>0<b>>>0?v+1|0:v,C=ke(l,S,C,0),v=(b=g)+Qt|0,v=(0|b)==(0|(v=(l=0+C|0)>>>0<C>>>0?v+1|0:v))&l>>>0<0|v>>>0<b>>>0,b=(0|r)==(0|R)&b>>>0<m>>>0|r>>>0<R>>>0,l=r,r=ke(B,0,T,E)+r|0,k=b+Qt|0,b=k=r>>>0<l>>>0?k+1|0:k,b=(b=(r=v+(l=r)|0)>>>0<l>>>0?b+1|0:b)+a|0,b=(r=y+(l=r)|0)>>>0<l>>>0?b+1|0:b,l=r,v=o,b=v=(o=(a=(0|a)==(0|(r=b))&l>>>0<y>>>0|b>>>0<a>>>0)+P|0)>>>0<a>>>0?v+1|0:v,k=a=o,g=r+-1|0,v=o=a=l+-2|0,v=(b=(l=k+(r=(0|r)==(0|(a=g=a>>>0<4294967294?g+1|0:g))&v>>>0<l>>>0|a>>>0<r>>>0)|0)>>>0<r>>>0?b+1|0:b)+-1|0,v=-1!=(0|(r=l+-1|0))?v+1|0:v,k=ke(E=r,T=l=0,R=(b=w)<<2|n>>>30,P=0),g=y=l=Qt,b=ke(B=(1073741823&(l=n))<<2|t>>>30,l=0,u=v,l),g=Qt+g|0,M=(0|y)==(0|(C=g=(r=b+k|0)>>>0<b>>>0?g+1|0:g))&(b=r)>>>0<k>>>0|g>>>0<y>>>0,k=g,r=ke(m=a,y=g=0,f=-262145&((1073741823&A)<<2|w>>>30)|262144,v=0),k=Qt+k|0,(b=(a=(0|C)==(0|(r=k=(a=r+b|0)>>>0<r>>>0?k+1|0:k))&(w=a)>>>0<b>>>0|r>>>0<C>>>0)+M|0)>>>0<a>>>0&&(v=1),a=(g=ke(u,l,f,0))+b|0,b=Qt+v|0,v=a>>>0<g>>>0?b+1|0:b,g=ke(E,T,f,0),b=Qt,n=a,A=ke(R,P,u,l),k=Qt+b|0,k=(a=A+g|0)>>>0<A>>>0?k+1|0:k,A=a,v=v+(k=(0|b)==(0|(a=k))&A>>>0<g>>>0|a>>>0<b>>>0)|0,k=(b=g=n+a|0)>>>0<a>>>0?v+1|0:v,n=b,g=r+A|0,b=A=a=(v=0)+w|0,(b=n+(r=(0|r)==(0|(a=g=a>>>0<v>>>0?g+1|0:g))&b>>>0<w>>>0|a>>>0<r>>>0)|0)>>>0<r>>>0&&(k=k+1|0),d=b,r=A,v=a,w=ke(B,0,m,y),g=Qt,M=ke(C=o,0,R,P),b=Qt+g|0,S=o=M+w|0,w=(0|g)==(0|(o=b=o>>>0<M>>>0?b+1|0:b))&S>>>0<w>>>0|b>>>0<g>>>0,g=b,O=r,p=w,w=ke(E,T,I=t<<2&-4,n=b=0),g=Qt+g|0,g=(r=w+S|0)>>>0<w>>>0?g+1|0:g,w=M=r,v=(b=(g=p+(o=(0|o)==(0|(r=g))&w>>>0<S>>>0|r>>>0<o>>>0)|0)>>>0<o>>>0?1:b)+v|0,v=(o=O+g|0)>>>0<g>>>0?v+1|0:v,w=o,g=k,(b=(a=(0|a)==(0|(o=v))&w>>>0<A>>>0|v>>>0<a>>>0)+d|0)>>>0<a>>>0&&(g=g+1|0),O=b,A=w,S=o,d=ke(u,l,I,n),u=Qt,l=ke(f,0,C,0),k=Qt+u|0,k=(a=l+d|0)>>>0<l>>>0?k+1|0:k,f=a,b=ke(R,P,m,y),v=(l=k)+Qt|0,v=(a=a+b|0)>>>0<b>>>0?v+1|0:v,R=a,k=ke(E,T,B,0),b=Qt+v|0,b=(E=a=a+k|0)>>>0<k>>>0?b+1|0:b,k=g,v=((v=l=(b=((T=0)|(a=b))==(0|v)&E>>>0<R>>>0|b>>>0<v>>>0)+((g=(0|l)==(0|u)&f>>>0<d>>>0|l>>>0<u>>>0)+((0|l)==(0|v)&R>>>0<f>>>0|v>>>0<l>>>0)|0)|0)|T)+S|0,P=l=(o=(0|o)==(0|(A=v=(l=(b=0|a)+A|0)>>>0<b>>>0?v+1|0:v))&(S=l)>>>0<w>>>0|v>>>0<o>>>0)+O|0,l=k=l>>>0<o>>>0?k+1|0:k,k=S,w=A,T=M,m=ke(m,y,I,n),y=Qt,b=ke(B,0,C,0),g=Qt+y|0,v=g=(o=b+m|0)>>>0<b>>>0?g+1|0:g,b=((g=0)|(c=v))==(0|y)&o>>>0<m>>>0|v>>>0<y>>>0,o=v+T|0,v=(b|g)+r|0,v=o>>>0<c>>>0?v+1|0:v,b=c=o,M=k,r=b=(0|r)==(0|(o=v))&b>>>0<T>>>0|v>>>0<r>>>0,b=v+E|0,k=(g=(r=r+(a=((k=0)|o)==(0|(b=(a=k+c|0)>>>0<k>>>0?b+1|0:b))&a>>>0<c>>>0|b>>>0<o>>>0)|0)>>>0<a>>>0?1:g)+w|0,b=l,(r=(a=(0|A)==(0|(l=k=(o=a=M+r|0)>>>0<r>>>0?k+1|0:k))&a>>>0<S>>>0|l>>>0<A>>>0)+P|0)>>>0<a>>>0&&(b=b+1|0),a=r,t=131071==(0|(r=b))|b>>>0<131071?(b=t<<17,w=(t=R=T=0)-(n=0!=(0|(v=ke(o,T,A=i,R)))|0!=(0|(g=Qt)))|0,f=b-(t>>>0<n>>>0)|0,c=0-v|0,y=0-((0<v>>>0)+g|0)|0,P=ke(l,n=0,A,R),B=t=Qt,v=ke(o,T,s,E=0),g=Qt+t|0,g=(b=v+P|0)>>>0<v>>>0?g+1|0:g,S=w-(b=((C=0)|(M=v=t=b))==(0|y)&c>>>0<(b=C)>>>0|y>>>0<v>>>0)|0,f=f-(w>>>0<b>>>0)|0,b=ke(a,0,A,R),v=Qt,A=ke(o,T,D,0),k=Qt+v|0,k=(b=A+b|0)>>>0<A>>>0?k+1|0:k,A=ke(l,n,s,E),v=Qt+k|0,k=v=(b=A+b|0)>>>0<A>>>0?v+1|0:v,v=(v=(0|g)==(0|B)&t>>>0<P>>>0|g>>>0<B>>>0)+k|0,v=(t=g+b|0)>>>0<g>>>0?v+1|0:v,g=t,t=v,b=ke(o,l,h,0),A=Qt,w=g,v=(g=ke(i,s,r,0))+b|0,b=Qt+A|0,b=v>>>0<g>>>0?b+1|0:b,g=(k=ke(a,r,s,E))+v|0,b=t+(b=n=(b=ke(l,n,D,x))+g|0)|(v=0),w=S-(t=n=w+v|0)|0,n=f-((S>>>0<t>>>0)+(t>>>0<v>>>0?b+1|0:b)|0)|0,H=H+-1|0,D=c-C|0,y-((c>>>0<C>>>0)+M|0)|0):(E=l>>>1|0,k=t<<16,o=(1&l)<<31|o>>>1,l=l>>>1|(v=a<<31),A=n-(b=(B=g=0)!=(0|(t=ke(o,B,i,0)))|0!=(0|(v=Qt)))|0,p=k-(n>>>0<b>>>0)|0,S=0-t|0,k=T=0-((0<t>>>0)+v|0)|0,C=ke(o,B,s,y=0),d=t=Qt,I=r<<31|a>>>1|g,E=ke(v=M=E|a<<31,0,i,0),b=Qt+t|0,t=b=(n=E+C|0)>>>0<E>>>0?b+1|0:b,P=A-(b=((R=0)|(m=b=n))==(0|k)&S>>>0<R>>>0|k>>>0<b>>>0)|0,p=p-(A>>>0<b>>>0)|0,v=ke(s,y,v,g),g=Qt,A=k=(b=r)>>>1|0,b=(k=ke(E=(1&b)<<31|a>>>1,0,i,0))+v|0,v=Qt+g|0,v=b>>>0<k>>>0?v+1|0:v,g=(k=ke(o,B,D,0))+b|0,b=Qt+v|0,g=(v=g)>>>0<k>>>0?b+1|0:b,g=(b=(0|t)==(0|d)&n>>>0<C>>>0|t>>>0<d>>>0)+g|0,t=(b=t=(n=t)+v|0)>>>0<n>>>0?g+1|0:g,n=ke(o,l,h,0),v=Qt,g=b,a=ke(i,s,r>>>1|0,0),b=Qt+v|0,b=(n=a+n|0)>>>0<a>>>0?b+1|0:b,n=(a=ke(s,y,E,A))+n|0,b=Qt+b|0,v=t+(b=n=(a=ke(M,I,D,x))+n|0)|(a=0),w=P-(t=n=g+a|0)|0,n=p-((P>>>0<t>>>0)+(t>>>0<a>>>0?v+1|0:v)|0)|0,a=E,r=A,D=S-R|0,T-((S>>>0<R>>>0)+m|0)|0),16384<=(0|H)?(F|=2147418112,n=t=0):(g=H+16383|0,(0|H)<=-16383?!g&&(g=l,s=(0|s)==(0|(k=t<<1|(A=D)>>>31))&i>>>0<(b=A<<1)>>>0|s>>>0<k>>>0,b=65535&r,k=n<<1|(i=w)>>>31,(n=(t=(0|(r=n=i<<1|t>>>31))==(0|N)&(0|(t=k))==(0|h)?s:(0|h)==(0|t)&N>>>0<r>>>0|h>>>0<t>>>0)+o|0)>>>0<t>>>0&&(g=g+1|0),t=n,65536&(a=b=(r=a+((0|l)==(0|(n=g))&(r=t)>>>0<o>>>0|g>>>0<l>>>0)|0)>>>0<a>>>0?b+1|0:b))?(L|=r,F|=a):n=t=0:(v=l,s=(0|s)==(0|(b=t<<1|(A=D)>>>31))&i>>>0<=(A<<=1)>>>0|s>>>0<b>>>0,b=n<<1|(i=w)>>>31,(n=(t=(0|(n=i<<1|t>>>31))==(0|N)&(0|b)==(0|h)?s:(0|h)==(0|b)&N>>>0<=n>>>0|h>>>0<b>>>0)+o|0)>>>0<t>>>0&&(v=v+1|0),t=n,a=((0|l)==(0|(n=v))&t>>>0<o>>>0|v>>>0<l>>>0)+(i=a)|0,v=g<<16|(r&=65535),L|=a,F|=a>>>0<i>>>0?v+1|0:v))}return Ut[e>>2]=t,Ut[e+4>>2]=n,Ut[e+8>>2]=L,Ut[e+12>>2]=F,Zt=192+_|0}Ut[e>>2]=0,Ut[e+4>>2]=0,Ut[e+8>>2]=(t=!(a|i|r|s))?0:L,Ut[e+12>>2]=t?2147450880:F,Zt=192+_|0}function kt(e,t,n,a,r,i,s,o,l){var c,u,f,d=0,p=0,_=0,m=0,h=0,b=0,v=0,g=0,k=0,A=0;Zt=f=Zt-128|0;e:if(dt(i,s,o,l,0,0,0,0)&&(d=((e,t,n,a)=>{var r=0,i=65535&l;t:{if(32767!=(0|(a=l>>>16&32767))){if(r=4,a)break t;return e|n|t|i?3:2}r=!(e|n|t|i)}return r})(i,s,o),32767!=(0|(h=32767&(A=r>>>16|0))))&&d)if((0|dt(t,n,m=a,_=p=65535&r|h<<16,i,s,b=o,d=65535&l|(k=l>>>16&32767)<<16))<=0)l=dt(t,n,m,_,i,s,b,d)?(o=t,n):(ge(112+f|0,t,n,a,r,0,0,0,0),a=Ut[120+f>>2],r=Ut[124+f>>2],o=Ut[112+f>>2],Ut[116+f>>2]);else{if(o=h?(l=n,t):(ge(96+f|0,t,n,m,_,0,0,0,1081540608),_=o=Ut[108+f>>2],m=Ut[104+f>>2],h=(o>>>16|0)-120|0,l=Ut[100+f>>2],Ut[96+f>>2]),k||(ge(80+f|0,i,s,b,d,0,0,0,1081540608),d=i=Ut[92+f>>2],b=Ut[88+f>>2],k=(d>>>16|0)-120|0,s=Ut[84+f>>2],i=Ut[80+f>>2]),c=65535&d|65536,g=(b=m-(p=u=b)|0)-(d=(0|s)==(0|l)&o>>>0<i>>>0|l>>>0<s>>>0)|0,v=-1<(0|(p=((_=65535&_|65536)-(c+(m>>>0<p>>>0)|0)|0)-(b>>>0<d>>>0)|0))?1:0,b=o-i|0,d=l-((o>>>0<i>>>0)+s|0)|0,(0|k)<(0|h)){for(;;){if(1&v){if(!(b|g|d|p)){ge(32+f|0,t,n,a,r,0,0,0,0),a=Ut[40+f>>2],r=Ut[44+f>>2],o=Ut[32+f>>2],l=Ut[36+f>>2];break e}g=(o=g)<<1,p=v=p<<1|o>>>31,o=d>>>31|(v=0)}else g=(d=l)>>>31|(p=0),b=o,v=_<<1|(o=m)>>>31,o<<=1;if(p=(p=(_=p|v)-(((l=m=o|g)>>>0<(o=u)>>>0)+c|0)|0)-((g=l-o|0)>>>0<(d=(0|s)==(0|(l=v=d<<1|(o=b)>>>31))&(o<<=1)>>>0<i>>>0|l>>>0<s>>>0)>>>0)|0,g=g-d|0,v=-1<(0|p)?1:0,b=o-i|0,d=l-((o>>>0<i>>>0)+s|0)|0,!((0|k)<(0|(h=h+-1|0))))break}h=k}if(!v||(o=b)|(m=g)|(l=d)|(_=p)){if(65535==(0|_)|_>>>0<65535)for(;a=l>>>31|0,h=h+-1|(t=0),p=l<<1|o>>>31,o<<=1,l=p,65536==(0|(_=t|=v=_<<1|(n=m)>>>31))&(m=n<<1|a)>>>0<0|t>>>0<65536;);t=32768&A,(0|h)<=0?(ge(64+f|0,o,l,m,65535&_|(t|h+120)<<16,0,0,0,1065811968),a=Ut[72+f>>2],r=Ut[76+f>>2],o=Ut[64+f>>2],l=Ut[68+f>>2]):(a=m,r=65535&_|(t|h)<<16)}else ge(48+f|0,t,n,a,r,0,0,0,0),a=Ut[56+f>>2],r=Ut[60+f>>2],o=Ut[48+f>>2],l=Ut[52+f>>2]}else ge(16+f|0,t,n,a,r,i,s,o,l),gt(f,r=Ut[16+f>>2],a=Ut[20+f>>2],n=Ut[24+f>>2],t=Ut[28+f>>2],r,a,n,t),a=Ut[8+f>>2],r=Ut[12+f>>2],o=Ut[f>>2],l=Ut[4+f>>2];Ut[e>>2]=o,Ut[e+4>>2]=l,Ut[e+8>>2]=a,Ut[e+12>>2]=r,Zt=128+f|0}function At(I,e){var t,N,n,O,H,q,a,V,U,X,K,r=0,i=0,s=0,j=0,z=0,W=0;for(Zt=n=Zt-48|0,t=e+4|0,j=Ut[2644],N=Ut[2641];32==(0|(r=(r=Ut[e+4>>2])>>>0<Kt[e+104>>2]?(Ut[t>>2]=r+1,Xt[0|r]):ve(e)))|r+-9>>>0<5;);s=1;e:{switch(r+-43|0){case 0:case 2:break;default:break e}s=45==(0|r)?-1:1,r=(r=Ut[e+4>>2])>>>0<Kt[e+104>>2]?(Ut[t>>2]=r+1,Xt[0|r]):ve(e)}e:{t:{n:{for(;_e[i+10484|0]==(32|r);)if(6<i>>>0||(r=(r=Ut[e+4>>2])>>>0<Kt[e+104>>2]?(Ut[t>>2]=r+1,Xt[0|r]):ve(e)),8==(0|(i=i+1|0)))break n;if(3!=(0|i)){if(8==(0|i))break n;if(i>>>0<4)break t;if(8==(0|i))break n}if((e=Ut[e+104>>2])&&(Ut[t>>2]=Ut[t>>2]+-1),!(i>>>0<4))for(;e&&(Ut[t>>2]=Ut[t>>2]+-1),3<(i=i+-1|0)>>>0;);}O=n,H=Gt(Gt(0|s)*Gt(Ee)),Zt=q=Zt-16|(K=X=U=V=a=0),Ae[0]=H,a=(a=2147483647&(H=qt[0]))-8388608>>>0<=2130706431?(a=1065353216+((V=a)>>>7|0)|0,(U=V<<=25)>>>0<0?a+1|0:a):2139095040<=a>>>0?(U=(a=H)<<25,2147418112|(V=a>>>7|0)):a?(be(q,V=a,0,0,0,(a=me(a))+81|0),X=Ut[q>>2],K=Ut[4+q>>2],U=Ut[8+q>>2],65536^Ut[12+q>>2]|16265-a<<16):0,Ut[O>>2]=X,Ut[O+4>>2]=K,Ut[O+8>>2]=U,Ut[O+12>>2]=-2147483648&H|a,Zt=16+q|0,s=Ut[8+n>>2],r=Ut[12+n>>2],z=Ut[n>>2],W=Ut[4+n>>2];break e}t:{n:{a:if(!i){for(i=0;;){if(_e[i+10493|0]!=(32|r))break a;if(1<i>>>0||(r=(r=Ut[e+4>>2])>>>0<Kt[e+104>>2]?(Ut[t>>2]=r+1,Xt[0|r]):ve(e)),3==(0|(i=i+1|0)))break}break n}switch(0|i){case 0:if(48==(0|r)){if(88==(-33&(i=(i=Ut[e+4>>2])>>>0<Kt[e+104>>2]?(Ut[t>>2]=i+1,Xt[0|i]):ve(e)))){var o,G,Y,Z=16+n|0,l=e,c=N,u=j,f=s,d=0,p=0,_=0,m=0,h=0,b=0,v=0,g=0,Q=0,J=0,$=0,ee=0,te=0,ne=0,ae=0,re=0,ie=0;Zt=o=Zt-432|0,p=(d=Ut[l+4>>2])>>>0<Kt[l+104>>2]?(Ut[l+4>>2]=d+1,Xt[0|d]):ve(l);a:{r:{for(;;){if(48!=(0|p)){if(46!=(0|p))break a;if((d=Ut[l+4>>2])>>>0>=Kt[l+104>>2])break;Ut[l+4>>2]=d+1,p=Xt[0|d];break r}p=(d=Ut[l+4>>2])>>>0<Kt[l+104>>2]?(Ut[l+4>>2]=d+1,Xt[0|d]):ve(l),re=1}p=ve(l)}if(ae=1,48==(0|p)){for(;g=g+-1|0,-1!=(0|(ee=ee+-1|0))&&(g=g+1|0),48==(0|(p=(d=Ut[l+4>>2])>>>0<Kt[l+104>>2]?(Ut[l+4>>2]=d+1,Xt[0|d]):ve(l))););re=1}}for(v=1073676288,d=0;;){a:{G=32|p;r:{if(!((Y=p+-48|0)>>>0<10)){if(5<G-97>>>0&&46!=(0|p))break a;if(46==(0|p)){if(ae)break a;ae=1,ee=m,g=d;break r}}p=57<(0|p)?G-87|0:Y,(0|d)<0||(0|d)<=0&&!(7<m>>>0)?Q=p+(Q<<4)|0:(0|d)<0||(0|d)<=0&&!(28<m>>>0)?(ct(48+o|0,p),ge(32+o|0,te,ne,_,v,0,0,0,1073414144),ge(16+o|0,te=Ut[32+o>>2],ne=Ut[36+o>>2],_=Ut[40+o>>2],v=Ut[44+o>>2],Ut[48+o>>2],Ut[52+o>>2],Ut[56+o>>2],Ut[60+o>>2]),ut(o,h,b,J,$,Ut[16+o>>2],Ut[20+o>>2],Ut[24+o>>2],Ut[28+o>>2]),J=Ut[8+o>>2],$=Ut[12+o>>2],h=Ut[o>>2],b=Ut[4+o>>2]):!p|ie||(ge(80+o|0,te,ne,_,v,0,0,0,1073610752),ut(64+o|0,h,b,J,$,Ut[80+o>>2],Ut[84+o>>2],Ut[88+o>>2],Ut[92+o>>2]),J=Ut[72+o>>2],$=Ut[76+o>>2],ie=1,h=Ut[64+o>>2],b=Ut[68+o>>2]),(m=m+1|0)>>>0<1&&(d=d+1|0),re=1}p=(p=Ut[l+4>>2])>>>0<Kt[l+104>>2]?(Ut[l+4>>2]=p+1,Xt[0|p]):ve(l);continue}break}if(re){if((0|d)<0||(0|d)<=0&&!(7<m>>>0))for(_=m,v=d;Q<<=4,8!=(0|(_=_+1|0))|(v=_>>>0<1?v+1|0:v););if(80==(-33&p)&&(_=yt(l))|-2147483648!=(0|(v=p=Qt))||(v=_=0,Ut[l+104>>2]&&(Ut[l+4>>2]=Ut[l+4>>2]+-1)),Q)if(d=(ae?g:d)<<2|(l=ae?ee:m)>>>30,g=(l=_+(l<<2)|0)-32|0,d=d+v|0,l=(l>>>0<_>>>0?d+1|0:d)+-1|0,0<(0|(d=(m=g)>>>0<4294967264?l+1|0:l))||0<=(0|d)&&!(m>>>0<=0-u>>>0))Ut[2896]=68,ct(160+o|0,f),ge(144+o|0,Ut[160+o>>2],Ut[164+o>>2],Ut[168+o>>2],Ut[172+o>>2],-1,-1,-1,2147418111),ge(128+o|0,Ut[144+o>>2],Ut[148+o>>2],Ut[152+o>>2],Ut[156+o>>2],-1,-1,-1,2147418111),h=Ut[128+o>>2],b=Ut[132+o>>2],c=Ut[136+o>>2],l=Ut[140+o>>2];else if(p=m>>>0<(l=u+-226|0)>>>0?0:1,(0|(l>>=31))<(0|d)||(0|l)<=(0|d)&&p){if(-1<(0|Q))for(;ut(416+o|0,h,b,J,$,0,0,0,-1073807360),ut(400+o|0,h,b,J,$,(_=(0|(l=pt(h,b,J,$,1073610752)))<0)?h:Ut[416+o>>2],_?b:Ut[420+o>>2],_?J:Ut[424+o>>2],_?$:Ut[428+o>>2]),d=d+-1|0,-1!=(0|(m=m+-1|0))&&(d=d+1|0),J=Ut[408+o>>2],$=Ut[412+o>>2],h=Ut[400+o>>2],b=Ut[404+o>>2],-1<(0|(Q=Q<<1|-1<(0|l))););v=(p=c)>>>0<=(_=l=32+(m-u|0)|0)>>>0?0:1,c=d-((u>>31)+(m>>>0<u>>>0)|0)|0,c=113<=(0|(l=(0|(l=l>>>0<32?c+1|0:c))<0||(0|l)<=0&&v?0<(0|_)?_:0:p))?(ct(384+o|0,f),ee=Ut[392+o>>2],g=Ut[396+o>>2],te=Ut[384+o>>2],ne=Ut[388+o>>2],u=f=d=0):(ft(352+o|0,p0(1,144-l|0)),ct(336+o|0,f),te=Ut[336+o>>2],ne=Ut[340+o>>2],ee=Ut[344+o>>2],g=Ut[348+o>>2],_t(368+o|0,Ut[352+o>>2],Ut[356+o>>2],Ut[360+o>>2],Ut[364+o>>2],0,0,0,g),d=Ut[376+o>>2],f=Ut[380+o>>2],u=Ut[372+o>>2],Ut[368+o>>2]),mt(320+o|0,(l=!(1&Q)&0!=(0|dt(h,b,J,$,0,0,0,0))&(0|l)<32)+Q|0),ge(304+o|0,te,ne,ee,g,Ut[320+o>>2],Ut[324+o>>2],Ut[328+o>>2],Ut[332+o>>2]),ut(272+o|0,Ut[304+o>>2],Ut[308+o>>2],Ut[312+o>>2],Ut[316+o>>2],c,u,d,f),ge(288+o|0,l?0:h,l?0:b,l?0:J,l?0:$,te,ne,ee,g),ut(256+o|0,Ut[288+o>>2],Ut[292+o>>2],Ut[296+o>>2],Ut[300+o>>2],Ut[272+o>>2],Ut[276+o>>2],Ut[280+o>>2],Ut[284+o>>2]),ht(240+o|0,Ut[256+o>>2],Ut[260+o>>2],Ut[264+o>>2],Ut[268+o>>2],c,u,d,f),dt(l=Ut[240+o>>2],c=Ut[244+o>>2],u=Ut[248+o>>2],f=Ut[252+o>>2],0,0,0,0)||(Ut[2896]=68),bt(224+o|0,l,c,u,f,m),h=Ut[224+o>>2],b=Ut[228+o>>2],c=Ut[232+o>>2],l=Ut[236+o>>2]}else Ut[2896]=68,ct(208+o|0,f),ge(192+o|0,Ut[208+o>>2],Ut[212+o>>2],Ut[216+o>>2],Ut[220+o>>2],0,0,0,65536),ge(176+o|0,Ut[192+o>>2],Ut[196+o>>2],Ut[200+o>>2],Ut[204+o>>2],0,0,0,65536),h=Ut[176+o>>2],b=Ut[180+o>>2],c=Ut[184+o>>2],l=Ut[188+o>>2];else ft(112+o|0,0*(0|f)),h=Ut[112+o>>2],b=Ut[116+o>>2],c=Ut[120+o>>2],l=Ut[124+o>>2]}else Ut[l+104>>2]&&(c=Ut[l+4>>2],Ut[l+4>>2]=c+-1,Ut[l+4>>2]=c+-2,ae)&&(Ut[l+4>>2]=c+-3),ft(96+o|0,0*(0|f)),h=Ut[96+o>>2],b=Ut[100+o>>2],c=Ut[104+o>>2],l=Ut[108+o>>2];Ut[Z>>2]=h,Ut[4+Z>>2]=b,Ut[8+Z>>2]=c,Ut[12+Z>>2]=l,Zt=432+o|0,s=Ut[24+n>>2],r=Ut[28+n>>2],z=Ut[16+n>>2],W=Ut[20+n>>2];break e}Ut[e+104>>2]&&(Ut[t>>2]=Ut[t>>2]+-1)}var k,se,oe,le,u=32+n|0,A=e,y=r,ce=N,ue=j,fe=s,w=0,E=0,R=0,C=0,S=0,T=0,M=0,P=0,B=0,F=0,D=0,x=0,L=0,de=0,pe=0;Zt=k=Zt-8976|0,oe=0-(se=ce+ue|0)|0;a:{r:{for(;;){if(48!=(0|y)){if(46!=(0|y))break a;if((y=Ut[A+4>>2])>>>0>=Kt[A+104>>2])break;Ut[A+4>>2]=y+1,y=Xt[0|y];break r}y=(y=Ut[A+4>>2])>>>0<Kt[A+104>>2]?(Ut[A+4>>2]=y+(R=1),Xt[0|y]):(R=1,ve(A))}y=ve(A)}if(P=1,48==(0|y)){for(;w=w+-1|0,-1!=(0|(E=E+-1|0))&&(w=w+1|0),48==(0|(y=(y=Ut[A+4>>2])>>>0<Kt[A+104>>2]?(Ut[A+4>>2]=y+1,Xt[0|y]):ve(A))););R=1}}a:{r:{i:{s:{o:{if((T=46==((Ut[784+k>>2]=0)|y))|(M=y+-48|0)>>>0<=9)for(;;){l:{if(1&T){if(!P){E=C,w=S,P=1;break l}R=!R;break o}(C=C+1|0)>>>0<1&&(S=S+1|0),(0|B)<=2044?(de=48==(0|y)?de:C,Ut[(R=(784+k|0)+(B<<2)|0)>>2]=D?(Wt(Ut[R>>2],10)+y|0)-48|0:M,D=(y=9==(0|(M=D+(R=1)|0)))?0:M,B=y+B|0):48!=(0|y)&&(Ut[8960+k>>2]=1|Ut[8960+k>>2],de=18396)}if(!((T=46==(0|(y=(y=Ut[A+4>>2])>>>0<Kt[A+104>>2]?(Ut[A+4>>2]=y+1,Xt[0|y]):ve(A))))|(M=y+-48|0)>>>0<10))break}if(E=P?E:C,w=P?w:S,!(!R|69!=(-33&y))){if((T=yt(A))|-2147483648!=(0|(F=y=Qt))||(F=T=0,Ut[A+104>>2]&&(Ut[A+4>>2]=Ut[A+4>>2]+-1)),!R)break i;w=w+F|0,(E=E+T|0)>>>0<T>>>0&&(w=w+1|0);break r}if(R=!R,(0|y)<0)break s}Ut[A+104>>2]&&(Ut[A+4>>2]=Ut[A+4>>2]+-1)}if(!R)break r}Ut[2896]=28,S=C=0,lt(A),A=y=0;break a}if(A=Ut[784+k>>2])if((0|E)!=(0|C)|(0|w)!=(0|S)|(0<(0|S)||0<=(0|S)&&!(C>>>0<=9)?1:0)|(A>>>ce|0?(0|ce)<=30:0))if(0<(0|w)||0<=(0|w)&&!(E>>>0<=(0|ue)/-2>>>0))Ut[2896]=68,ct(96+k|0,fe),ge(80+k|0,Ut[96+k>>2],Ut[100+k>>2],Ut[104+k>>2],Ut[108+k>>2],-1,-1,-1,2147418111),ge(64+k|0,Ut[80+k>>2],Ut[84+k>>2],Ut[88+k>>2],Ut[92+k>>2],-1,-1,-1,2147418111),C=Ut[64+k>>2],S=Ut[68+k>>2],y=Ut[72+k>>2],A=Ut[76+k>>2];else if(y=(A=ue+-226|0)>>>0<=E>>>0?0:1,(0|w)<(0|(A>>=31))||(0|w)<=(0|A)&&y)Ut[2896]=68,ct(144+k|0,fe),ge(128+k|0,Ut[144+k>>2],Ut[148+k>>2],Ut[152+k>>2],Ut[156+k>>2],0,0,0,65536),ge(112+k|0,Ut[128+k>>2],Ut[132+k>>2],Ut[136+k>>2],Ut[140+k>>2],0,0,0,65536),C=Ut[112+k>>2],S=Ut[116+k>>2],y=Ut[120+k>>2],A=Ut[124+k>>2];else{if(D){if((0|D)<=8){for(A=Ut[(y=(784+k|0)+(B<<2)|0)>>2];A=Wt(A,10),9!=(0|(D=D+1|0)););Ut[y>>2]=A}B=B+1|0}if(!((0|(P=E))<(0|de)|9<=(0|de)|17<(0|E))){if(9==(0|P)){ct(192+k|0,fe),mt(176+k|0,Ut[784+k>>2]),ge(160+k|0,Ut[192+k>>2],Ut[196+k>>2],Ut[200+k>>2],Ut[204+k>>2],Ut[176+k>>2],Ut[180+k>>2],Ut[184+k>>2],Ut[188+k>>2]),C=Ut[160+k>>2],S=Ut[164+k>>2],y=Ut[168+k>>2],A=Ut[172+k>>2];break a}if((0|P)<=8){ct(272+k|0,fe),mt(256+k|0,Ut[784+k>>2]),ge(240+k|0,Ut[272+k>>2],Ut[276+k>>2],Ut[280+k>>2],Ut[284+k>>2],Ut[256+k>>2],Ut[260+k>>2],Ut[264+k>>2],Ut[268+k>>2]),ct(224+k|0,Ut[10560+(0-P<<2)>>2]),gt(208+k|0,Ut[240+k>>2],Ut[244+k>>2],Ut[248+k>>2],Ut[252+k>>2],Ut[224+k>>2],Ut[228+k>>2],Ut[232+k>>2],Ut[236+k>>2]),C=Ut[208+k>>2],S=Ut[212+k>>2],y=Ut[216+k>>2],A=Ut[220+k>>2];break a}if(A=27+(Wt(P,-3)+ce|0)|0,!((y=Ut[784+k>>2])>>>A|0&&(0|A)<=30)){ct(352+k|0,fe),mt(336+k|0,y),ge(320+k|0,Ut[352+k>>2],Ut[356+k>>2],Ut[360+k>>2],Ut[364+k>>2],Ut[336+k>>2],Ut[340+k>>2],Ut[344+k>>2],Ut[348+k>>2]),ct(304+k|0,Ut[10488+(P<<2)>>2]),ge(288+k|0,Ut[320+k>>2],Ut[324+k>>2],Ut[328+k>>2],Ut[332+k>>2],Ut[304+k>>2],Ut[308+k>>2],Ut[312+k>>2],Ut[316+k>>2]),C=Ut[288+k>>2],S=Ut[292+k>>2],y=Ut[296+k>>2],A=Ut[300+k>>2];break a}}for(;!Ut[(784+k|0)+((B=(y=B)+-1|0)<<2)>>2];);if(A=((D=0)|P)%9|0){if(M=-1<(0|P)?A:A+9|0,y){for(C=1e9/(0|(E=Ut[10560+(0-M<<2)>>2]))|0,R=A=T=0;w=T+(F=((B=Ut[(S=(784+k|0)+(A<<2)|0)>>2])>>>0)/(E>>>0)|0)|0,R=(w=!(Ut[S>>2]=w)&(0|A)==(0|R))?R+1&2047:R,P=w?P+-9|0:P,T=Wt(C,B-Wt(E,F)|0),(0|y)!=(0|(A=A+1|0)););T&&(Ut[(784+k|0)+(y<<2)>>2]=T,y=y+1|0)}else y=R=0;P=9+(P-M|0)|0}else R=0;for(;;){S=(784+k|0)+(R<<2)|0;r:{for(;;){if(36!=(0|P)|10384593<=Kt[S>>2]&&36<=(0|P))break r;for(B=y+2047|0,T=0,M=y;y=M,w=(A=Ut[(M=(784+k|0)+((C=2047&B)<<2)|0)>>2])>>>3|0,!(w=(E=(A<<=29)+T|0)>>>0<A>>>0?w+1|0:w)&E>>>(A=0)<1000000001|w>>>0<0||(E=E-ke(A=Dt(E,w,1e9),Qt,1e9,0)|0),T=A,Ut[M>>2]=E,M=(0|C)!=(y+-1&2047)||(0|R)==(0|C)||E?y:C,B=C+-1|0,(0|R)!=(0|C););if(D=D+-29|0,T)break}(0|M)==(0|(R=R+-1&2047))&&(Ut[(A=(784+k|0)+((M+2046&2047)<<2)|0)>>2]=Ut[A>>2]|Ut[(784+k|0)+((y=M+-1&2047)<<2)>>2]),P=P+9|0,Ut[(784+k|0)+(R<<2)>>2]=T;continue}break}r:{i:for(;;){for(E=y+1&2047,C=(784+k|0)+((y+-1&2047)<<2)|0;;){w=45<(0|P)?9:1;s:{for(;;){M=R,A=0;o:{for(;;){if((0|(R=A+M&2047))!=(0|y)&&!((R=Ut[(784+k|0)+(R<<2)>>2])>>>0<(S=Ut[10512+(A<<2)>>2])>>>0)){if(S>>>0<R>>>0)break o;if(4!=(0|(A=A+1|0)))continue}break}if(36==(0|P)){for(S=C=A=w=E=0;(0|(R=A+M&2047))==(0|y)&&(Ut[780+(((y=y+1&2047)<<2)+k|0)>>2]=0),ge(768+k|0,E,w,C,S,0,0,1342177280,1075633366),mt(752+k|0,Ut[(784+k|0)+(R<<2)>>2]),ut(736+k|0,Ut[768+k>>2],Ut[772+k>>2],Ut[776+k>>2],Ut[780+k>>2],Ut[752+k>>2],Ut[756+k>>2],Ut[760+k>>2],Ut[764+k>>2]),C=Ut[744+k>>2],S=Ut[748+k>>2],E=Ut[736+k>>2],w=Ut[740+k>>2],4!=(0|(A=A+1|0)););if(ct(720+k|0,fe),ge(704+k|0,E,w,C,S,Ut[720+k>>2],Ut[724+k>>2],Ut[728+k>>2],Ut[732+k>>2]),C=Ut[712+k>>2],S=Ut[716+k>>2],w=E=0,T=Ut[704+k>>2],F=Ut[708+k>>2],(0|(A=(de=(0|(ue=(pe=D+113|0)-ue|0))<(0|ce))?0<(0|ue)?ue:0:ce))<=112)break s;ce=R=B=P=0;break r}}if(D=w+D|0,(0|(R=y))!=(0|M))break}for(S=1e9>>>w|0,T=-1<<w^-1,A=0,R=M;F=Ut[(B=(784+k|0)+(M<<2)|0)>>2],R=(A=!(Ut[B>>2]=A=A+(F>>>w|0)|0)&(0|R)==(0|M))?R+1&2047:R,P=A?P+-9|0:P,A=Wt(S,T&F),(0|(M=M+1&2047))!=(0|y););if(!A)continue;if((0|E)!=(0|R)){Ut[(784+k|0)+(y<<2)>>2]=A,y=E;continue i}Ut[C>>2]=1|Ut[C>>2],R=E;continue}break}break}ft(656+k|0,p0(1,225-A|0)),_t(688+k|0,Ut[656+k>>2],Ut[660+k>>2],Ut[664+k>>2],Ut[668+k>>2],0,0,0,S),R=Ut[696+k>>2],ce=Ut[700+k>>2],P=Ut[688+k>>2],B=Ut[692+k>>2],ft(640+k|0,p0(1,113-A|0)),kt(672+k|0,T,F,C,S,Ut[640+k>>2],Ut[644+k>>2],Ut[648+k>>2],Ut[652+k>>2]),ht(624+k|0,T,F,C,S,E=Ut[672+k>>2],w=Ut[676+k>>2],x=Ut[680+k>>2],L=Ut[684+k>>2]),ut(608+k|0,P,B,R,ce,Ut[624+k>>2],Ut[628+k>>2],Ut[632+k>>2],Ut[636+k>>2]),C=Ut[616+k>>2],S=Ut[620+k>>2],T=Ut[608+k>>2],F=Ut[612+k>>2]}(0|(le=M+4&2047))==(0|y)||((le=Ut[(784+k|0)+(le<<2)>>2])>>>0<=499999999?(M+5&2047)==(0|y)&&!le||(ft(496+k|0,.25*(0|fe)),ut(480+k|0,E,w,x,L,Ut[496+k>>2],Ut[500+k>>2],Ut[504+k>>2],Ut[508+k>>2]),x=Ut[488+k>>2],L=Ut[492+k>>2],E=Ut[480+k>>2],w=Ut[484+k>>2]):w=5e8!=(0|le)?(ft(592+k|0,.75*(0|fe)),ut(576+k|0,E,w,x,L,Ut[592+k>>2],Ut[596+k>>2],Ut[600+k>>2],Ut[604+k>>2]),x=Ut[584+k>>2],L=Ut[588+k>>2],E=Ut[576+k>>2],Ut[580+k>>2]):(le=0|fe,(M+5&2047)==(0|y)?(ft(528+k|0,.5*le),ut(512+k|0,E,w,x,L,Ut[528+k>>2],Ut[532+k>>2],Ut[536+k>>2],Ut[540+k>>2]),x=Ut[520+k>>2],L=Ut[524+k>>2],E=Ut[512+k>>2],Ut[516+k>>2]):(ft(560+k|0,.75*le),ut(544+k|0,E,w,x,L,Ut[560+k>>2],Ut[564+k>>2],Ut[568+k>>2],Ut[572+k>>2]),x=Ut[552+k>>2],L=Ut[556+k>>2],E=Ut[544+k>>2],Ut[548+k>>2])),111<(0|A))||(kt(464+k|0,E,w,x,L,0,0,0,1073676288),dt(Ut[464+k>>2],Ut[468+k>>2],Ut[472+k>>2],Ut[476+k>>2],0,0,0,0))||(ut(448+k|0,E,w,x,L,0,0,0,1073676288),x=Ut[456+k>>2],L=Ut[460+k>>2],E=Ut[448+k>>2],w=Ut[452+k>>2]),ut(432+k|0,T,F,C,S,E,w,x,L),ht(416+k|0,Ut[432+k>>2],Ut[436+k>>2],Ut[440+k>>2],Ut[444+k>>2],P,B,R,ce),C=Ut[424+k>>2],S=Ut[428+k>>2],T=Ut[416+k>>2],F=Ut[420+k>>2],(2147483647&pe)<=(-2-se|0)||(Ut[8+(y=400+k|0)>>2]=C,Ut[y+12>>2]=2147483647&S,ge(384+k|0,Ut[y>>2]=T,Ut[y+4>>2]=F,C,S,0,0,0,1073610752),C=(y=(0|(ce=pt(Ut[400+k>>2],Ut[404+k>>2],Ut[408+k>>2],Ut[412+k>>2],1081081856)))<0)?C:Ut[392+k>>2],S=y?S:Ut[396+k>>2],T=y?T:Ut[384+k>>2],F=y?F:Ut[388+k>>2],D=(-1<(0|ce))+D|0,le=!(de&(y|(0|A)!=(0|ue))&0!=(0|dt(E,w,x,L,0,0,0,0))),(D+110|0)<=(0|oe)&&le)||(Ut[2896]=68),bt(368+k|0,T,F,C,S,D),C=Ut[368+k>>2],S=Ut[372+k>>2],y=Ut[376+k>>2],A=Ut[380+k>>2]}else ct(48+k|0,fe),mt(32+k|0,A),ge(16+k|0,Ut[48+k>>2],Ut[52+k>>2],Ut[56+k>>2],Ut[60+k>>2],Ut[32+k>>2],Ut[36+k>>2],Ut[40+k>>2],Ut[44+k>>2]),C=Ut[16+k>>2],S=Ut[20+k>>2],y=Ut[24+k>>2],A=Ut[28+k>>2];else ft(k,0*(0|fe)),C=Ut[k>>2],S=Ut[4+k>>2],y=Ut[8+k>>2],A=Ut[12+k>>2]}Ut[u>>2]=C,Ut[u+4>>2]=S,Ut[u+8>>2]=y,Ut[u+12>>2]=A,Zt=8976+k|0,s=Ut[40+n>>2],r=Ut[44+n>>2],z=Ut[32+n>>2],W=Ut[36+n>>2];break e;case 3:break n}Ut[e+104>>2]&&(Ut[t>>2]=Ut[t>>2]+-1);break t}if(40!=(0|(r=(i=Ut[e+4>>2])>>>0<Kt[e+104>>2]?(Ut[t>>2]=i+1,Xt[0|i]):ve(e)))){if(s=0,r=2147450880,!Ut[e+104>>2])break e;Ut[t>>2]=Ut[t>>2]+-1;break e}for(i=1;!(26<=(j=(r=Ut[e+4>>2])>>>0<Kt[e+104>>2]?(Ut[t>>2]=r+1,Xt[0|r]):ve(e))+-97>>>0)||j+-48>>>0<10|j+-65>>>0<26|95==(0|j);)i=i+1|0;if(r=2147450880,41==((s=0)|j))break e;if((e=Ut[e+104>>2])&&(Ut[t>>2]=Ut[t>>2]+-1),!i)break e;for(;i=i+-1|0,e&&(Ut[t>>2]=Ut[t>>2]+-1),i;);break e}Ut[2896]=28,lt(e),r=s=0}Ut[I>>2]=z,Ut[I+4>>2]=W,Ut[I+8>>2]=s,Ut[I+12>>2]=r,Zt=48+n|0}function yt(e){var t=0,n=0,a=0,r=0,i=0;e:{t:{switch((n=(a=Ut[e+4>>2])>>>0<Kt[e+104>>2]?(Ut[e+4>>2]=a+1,Xt[0|a]):ve(e))+-43|0){case 0:case 2:break t}t=n+-48|0;break e}i=45==(0|n),(t=(n=(a=Ut[e+4>>2])>>>0<Kt[e+104>>2]?(Ut[e+4>>2]=a+1,Xt[0|a]):ve(e))+-48|0)>>>0<10|!Ut[e+104>>2]||(Ut[e+4>>2]=Ut[e+4>>2]+-1)}if(t>>>0<10){for(t=0;t=Wt(t,10)+n|0,r=(n=(a=Ut[e+4>>2])>>>0<Kt[e+104>>2]?(Ut[e+4>>2]=a+1,Xt[0|a]):ve(e))+-48|0,(0|(t=t+-48|0))<214748364&&r>>>0<=9;);a=t,t>>=31;e:if(!(10<=r>>>0))for(;;){if(a=(t=ke(a,t,10,0))+n|0,n=Qt,r=a>>>0<t>>>0?n+1|0:n,n=(t=Ut[e+4>>2])>>>0<Kt[e+104>>2]?(Ut[e+4>>2]=t+1,Xt[0|t]):ve(e),t=r+-1|0,(a=a+-48|0)>>>0<4294967248&&(t=t+1|0),9<(r=n+-48|0)>>>0)break e;if(!((0|t)<21474836||(0|t)<=21474836&&!(2061584302<=a>>>0)))break}if(r>>>0<10)for(;(n=(n=Ut[e+4>>2])>>>0<Kt[e+104>>2]?(Ut[e+4>>2]=n+1,Xt[0|n]):ve(e))+-48>>>0<10;);Ut[e+104>>2]&&(Ut[e+4>>2]=Ut[e+4>>2]+-1),e=a,a=i?0-e|0:e,t=i?0-(t+(0<e>>>0)|0)|0:t}else if(a=0,t=-2147483648,Ut[e+104>>2])return Ut[e+4>>2]=Ut[e+4>>2]+-1,Qt=-2147483648,0;return Qt=t,a}function wt(e){var t,n,a,r,i,s,o,l,c,u=Zt=l=Zt-16|0;return Jt(16+(Zt=r=Zt-160|0)|0,144),Ut[92+r>>2]=-1,Ut[60+r>>2]=e,Ut[24+r>>2]=-1,Ut[20+r>>2]=e,lt(16+r|0),At(r,16+r|0),e=Ut[8+r>>2],n=Ut[12+r>>2],t=Ut[4+r>>2],Ut[u>>2]=Ut[r>>2],Ut[u+4>>2]=t,Ut[u+8>>2]=e,Ut[u+12>>2]=n,Zt=160+r|0,t=Ut[l>>2],e=Ut[4+l>>2],u=Ut[8+l>>2],n=Ut[12+l>>2],Zt=a=Zt-32|(s=i=r=0),r=(o=2147483647&n)-1006698496|0,i=r=(c=i=s=u)>>>0<0?r+1|0:r,r=o-1140785152|0,(0|(r=s>>>0<0?r+1|0:r))==(0|i)&c>>>0<s>>>0|i>>>0<r>>>0?(r=n<<4|u>>>28,u=u<<4|e>>>28,134217728==(0|(s=e&=268435455))&1<=t>>>0|134217728<e>>>0?(r=r+1073741824|0,(t=u+1|0)>>>0<1&&(r=r+1|0),i=t):(r=r-(((i=u)>>>0<0)+-1073741824|0)|0,t|134217728^s||((t=i+(1&i)|0)>>>0<i>>>0&&(r=r+1|0),i=t))):(!s&2147418112==(0|o)?!(t|e):2147418112==(0|o)&s>>>0<0|o>>>0<2147418112)?(r=2146435072,1140785151<o>>>(i=0)||(s=o>>>16|(r=0))>>>0<15249||(be(16+a|0,t,e,u,r=65535&n|65536,s+-15233|0),U(a,t,e,u,r,15361-s|0),u=Ut[4+a>>2],t=Ut[8+a>>2],r=Ut[12+a>>2]<<4|t>>>28,i=t<<4|u>>>28,134217728==(0|(u=t=268435455&u))&1<=(e=Ut[a>>2]|(0!=(Ut[16+a>>2]|Ut[24+a>>2])|0!=(Ut[20+a>>2]|Ut[28+a>>2])))>>>0|134217728<t>>>0?((t=i+1|0)>>>0<1&&(r=r+1|0),i=t):e|134217728^u||((t=i+(1&i)|0)>>>0<i>>>0&&(r=r+1|0),i=t))):(i=u<<4|e>>>28,r=524287&(n<<4|u>>>28)|2146959360),Zt=32+a|0,ye(0,0|i),ye(1,-2147483648&n|r),c=+we(),Zt=16+l|0,c}function Et(e,t){var n=0,a=0,r=0,i=Gt(0),s=Gt(0),o=0,l=0,c=Gt(0),u=0,f=0,n=Ut[e>>2];if(1==Ut[n>>2]){for(Ut[n+40>>2]=0;;){e:{t:{n:{a:{r:{i:{s:{o:{l:{c:{u:{f:{d:{p:{if(!(f=8!=(0|(r=(u=Be(t,59))?u-t|0:Pe(t))))){if(d(10584,t,8))break p;Ut[n+40>>2]=a+1,Ut[44+((a<<4)+n|0)>>2]=0;break e}switch(r+-6|0){case 1:break u;case 0:break f;case 20:break d;case 7:break;default:break c}if(o=1,d(10593,t,13))break l;Ut[n+40>>2]=a+1,Ut[44+((a<<4)+n|0)>>2]=1;break e}if(o=0,d(10607,t,8))break l;Ut[n+40>>2]=a+1,Ut[44+((a<<4)+n|0)>>2]=2;break e}if(o=0,d(10616,t,26))break l;Ut[n+40>>2]=a+1,Ut[44+((a<<4)+n|0)>>2]=3;break e}if(d(10643,t,6))break e;Ut[n+40>>2]=a+1,Ut[44+((a<<4)+n|0)>>2]=4;break e}if(d(10650,t,7))break o;Ut[n+40>>2]=a+1,Ut[44+((a<<4)+n|0)>>2]=5;break e}if(r>>>(o=0)<8)break s}if(d(10658,t,6))break i;if((s=Gt(wt(t+6|0)))>Gt(0)^1|s<=Gt(.5)^1)break e;t=Ut[e>>2],jt[48+((Ut[t+40>>2]<<4)+t|0)>>2]=s,t=Ut[e>>2],r=Ut[t+40>>2],Ut[t+40>>2]=r+1,Ut[44+(t+(r<<4)|0)>>2]=6;break e}if(d(10665,t,7))break r;Ut[n+40>>2]=a+1,Ut[44+((a<<4)+n|0)>>2]=7;break e}switch(r+-4|0){case 0:break;case 1:break n;default:break e}if(d(10673,t,4))break e;Ut[n+40>>2]=a+1,Ut[44+((a<<4)+n|0)>>2]=8;break e}if(!o)break a;if(d(10678,t,13))break a;Ut[n+40>>2]=a+1,Ut[44+((a<<4)+n|0)>>2]=9;break e}if(d(10692,t,7))break e;Ut[n+40>>2]=a+1,Ut[44+((a<<4)+n|0)>>2]=10;break e}if(9==(0|r)&&!d(10700,t,9)){Ut[n+40>>2]=a+1,Ut[44+((a<<4)+n|0)>>2]=11;break e}if(!f){if(!d(10710,t,8)){Ut[n+40>>2]=a+1,Ut[44+((a<<4)+n|0)>>2]=12;break e}if(d(10719,t,6))break e;break t}if(!d(10719,t,6))break t;if(r>>>0<16)break e;if(!d(10726,t,14)){if(l=wt(t+14|0),r=Yt(l)<2147483648?~~l:-2147483648,a=Be(t,47),i=Gt(.10000000149011612),a&&(n=a+1|0,i=Gt(.9900000095367432),Gt(wt(n))<Gt(.9900000095367432))&&(i=Gt(wt(n))),t=Be(a?a+1|0:t,47),s=Gt(.20000000298023224),t&&(s=Gt(wt(t+1|0))),t=Ut[e>>2],n=Ut[t+40>>2],(0|r)<=1){jt[48+((n<<4)+t|0)>>2]=s,t=Ut[e>>2],r=Ut[t+40>>2],Ut[t+40>>2]=r+1,Ut[44+(t+(r<<4)|0)>>2]=13;break e}if(31<n+r>>>0)break e;for(c=Gt(Gt(Gt(1)/Gt(Gt(1)-i))+Gt(-1)),i=Gt(c+Gt(0|r)),a=0;jt[48+((n<<4)+t|0)>>2]=s,t=Ut[e>>2],jt[52+((Ut[t+40>>2]<<4)+t|0)>>2]=Gt(0|a)/i,t=Ut[e>>2],jt[56+((Ut[t+40>>2]<<4)+t|0)>>2]=Gt(c+Gt(0|(a=a+1|0)))/i,t=Ut[e>>2],o=Ut[t+40>>2],Ut[t+40>>2]=n=o+1|0,Ut[44+((o<<4)+t|0)>>2]=14,(0|a)!=(0|r););break e}if(r>>>0<17)break e;if(d(10741,t,15))break e;if(l=wt(t+15|0),r=Yt(l)<2147483648?~~l:-2147483648,s=Gt(.20000000298023224),a=Be(t,47),i=Gt(.20000000298023224),a&&(n=a+1|0,i=Gt(.9900000095367432),Gt(wt(n))<Gt(.9900000095367432))&&(i=Gt(wt(n))),(t=Be(a?a+1|0:t,47))&&(s=Gt(wt(t+1|0))),t=Ut[e>>2],n=Ut[t+40>>2],(0|r)<=1){jt[48+((n<<4)+t|0)>>2]=s,t=Ut[e>>2],r=Ut[t+40>>2],Ut[t+40>>2]=r+1,Ut[44+(t+(r<<4)|0)>>2]=13;break e}if(31<n+r>>>0)break e;for(c=Gt(Gt(Gt(1)/Gt(Gt(1)-i))+Gt(-1)),i=Gt(c+Gt(0|r)),a=0;jt[48+((n<<4)+t|0)>>2]=s,t=Ut[e>>2],jt[52+((Ut[t+40>>2]<<4)+t|0)>>2]=Gt(0|a)/i,t=Ut[e>>2],jt[56+((Ut[t+40>>2]<<4)+t|0)>>2]=Gt(c+Gt(0|(a=a+1|0)))/i,t=Ut[e>>2],o=Ut[t+40>>2],Ut[t+40>>2]=n=o+1|0,Ut[44+((o<<4)+t|0)>>2]=15,(0|a)!=(0|r););break e}if(d(10757,t,5))break e;Ut[n+40>>2]=a+1,Ut[44+((a<<4)+n|0)>>2]=16;break e}(s=Gt(wt(t+6|0)))>=Gt(0)^1|s<=Gt(1)^1||(t=Ut[e>>2],jt[48+((Ut[t+40>>2]<<4)+t|0)>>2]=s,t=Ut[e>>2],r=Ut[t+40>>2],Ut[t+40>>2]=r+1,Ut[44+(t+(r<<4)|0)>>2]=13)}if(n=Ut[e>>2],a=Ut[n+40>>2],!u||(t=u+1|0,32==(0|a)))break}r=1,a||(Ut[n+40>>2]=1,Ut[n+44>>2]=13,Ut[n+48>>2]=1056964608)}return r}function Rt(e){var t,n,a,r,i,s=0,o=0,l=0,c=0,u=0,f=0,d=0,p=0,_=0,m=0,h=0,b=0,v=0;Zt=a=Zt-32|0;e:if(e|=0){t:{switch(u=Ut[e>>2],0|(s=Ut[u>>2])){case 1:break e;case 0:break;default:break t}o=Ut[e+4>>2],Ut[o+11848>>2]||(o=Ut[o+7052>>2])&&(l=Ut[u+36>>2],l=!Ct(e,(0|(Ut[u+36>>2]=o))!=(0|l),1),u=Ut[e>>2])}if(Ut[u+12>>2]&&ue((o=Ut[e+4>>2])+6928|0,o+7060|0),u=e+4|0,s=Ut[e+4>>2],Ut[s+11848>>2])o=l;else{if(c=Ut[e>>2],!Ut[c>>2]){if(m=Ut[s+7268>>2]){t:if(Ut[s+7260>>2]){if(b=Ut[s+6900>>2],h=Ut[s+6896>>2],d=Ut[(o=s+6920|0)>>2],p=Ut[o+4>>2],2!=(0|Vt[m](e,0,0,Ut[s+7288>>2]))){if(et(a),o=Ut[e>>2],c=Ut[o+608>>2],f=Ut[o+612>>2],o=Ut[e+4>>2],nt(e,c,f,a,Ut[o+7268>>2],Ut[o+7264>>2],Ut[o+7288>>2])){if(m=Ut[1357]+Ut[1356]|0,33+(o=(v=Ut[1362]+(Ut[1361]+(Ut[1360]+(Ut[1359]+(m+Ut[1358]|0)|0)|0)|0)|0)+Ut[1363]>>>3|0)>>>0>Kt[12+a>>2]){Ut[Ut[e>>2]>>2]=2,tt(a);break t}if(_=Xt[4+(c=s+6936|0)|0]|Xt[c+5|0]<<8|(Xt[c+6|0]<<16|Xt[c+7|0]<<24),o=o+Ut[8+a>>2]|0,c=Xt[0|c]|Xt[c+1|0]<<8|(Xt[c+2|0]<<16|Xt[c+3|0]<<24),_e[o+25|0]=c,_e[o+26|0]=c>>>8,_e[o+27|0]=c>>>16,_e[o+28|0]=c>>>24,_e[o+29|0]=_,_e[o+30|0]=_>>>8,_e[o+31|0]=_>>>16,_e[o+32|0]=_>>>24,c=Xt[4+(s=s+6928|0)|0]|Xt[s+5|0]<<8|(Xt[s+6|0]<<16|Xt[s+7|0]<<24),s=Xt[0|s]|Xt[s+1|0]<<8|(Xt[s+2|0]<<16|Xt[s+3|0]<<24),_e[o+17|0]=s,_e[o+18|0]=s>>>8,_e[o+19|0]=s>>>16,_e[o+20|0]=s>>>24,_e[o+21|0]=c,_e[o+22|0]=c>>>8,_e[o+23|0]=c>>>16,_e[o+24|0]=c>>>24,22+(o=v+-4>>>3|0)>>>0>Kt[12+a>>2]){Ut[Ut[e>>2]>>2]=2,tt(a);break t}if(o=o+Ut[8+a>>2]|0,_e[o+21|0]=d,_e[o+20|0]=(255&p)<<24|d>>>8,_e[o+19|0]=(65535&p)<<16|d>>>16,_e[o+18|0]=(16777215&p)<<8|d>>>24,_e[0|(o=o+17|0)]=240&Xt[0|o]|15&p,23+(o=m>>>3|0)>>>0>Kt[12+a>>2]){Ut[Ut[e>>2]>>2]=2,tt(a);break t}if(o=o+Ut[8+a>>2]|0,_e[o+22|0]=b,_e[o+21|0]=b>>>8,_e[o+20|0]=b>>>16,_e[o+19|0]=h,_e[o+18|0]=h>>>8,_e[o+17|0]=h>>>16,o=Ut[e>>2],c=Ut[o+608>>2],s=Ut[o+612>>2],o=Ut[e+4>>2],o=at(e,c,s,a,Ut[o+7268>>2],Ut[o+7276>>2],Ut[o+7288>>2]),tt(a),!o)break t;if(!(o=Ut[Ut[u>>2]+7048>>2])|!Ut[o>>2])break t;if(s=Ut[e>>2],!(Ut[s+616>>2]|Ut[s+620>>2]))break t;if(te(o),et(a),o=Ut[e>>2],c=Ut[o+616>>2],s=Ut[o+620>>2],o=Ut[e+4>>2],nt(e,c,s,a,Ut[o+7268>>2],Ut[o+7264>>2],Ut[o+7288>>2])){if(f=Ut[u>>2],o=Ut[f+7048>>2],s=Ut[o>>2],Ut[12+a>>2]!=(Wt(s,18)+4|0)){Ut[Ut[e>>2]>>2]=2,tt(a);break t}if(s)for(s=Ut[8+a>>2]+4|0,c=0;d=Ut[o+4>>2]+Wt(c,24)|0,p=Ut[d>>2],o=Ut[d+4>>2],_=Ut[d+8>>2],f=Ut[d+12>>2],d=Ut[d+16>>2],_e[s+17|0]=d,_e[s+15|0]=_,_e[s+7|0]=p,_e[s+16|0]=d>>>8,_e[s+14|0]=(255&f)<<24|_>>>8,_e[s+13|0]=(65535&f)<<16|_>>>16,_e[s+12|0]=(16777215&f)<<8|_>>>24,_e[s+11|0]=f,_e[s+10|0]=f>>>8,_e[s+9|0]=f>>>16,_e[s+8|0]=f>>>24,_e[s+6|0]=(255&o)<<24|p>>>8,_e[s+5|0]=(65535&o)<<16|p>>>16,_e[s+4|0]=(16777215&o)<<8|p>>>24,_e[s+3|0]=o,_e[s+2|0]=o>>>8,_e[s+1|0]=o>>>16,_e[0|s]=o>>>24,s=s+18|0,f=Ut[u>>2],o=Ut[f+7048>>2],(c=c+1|0)>>>0<Kt[o>>2];);o=Ut[e>>2],at(e,Ut[o+616>>2],Ut[o+620>>2],a,Ut[f+7268>>2],Ut[f+7276>>2],Ut[f+7288>>2])}}tt(a)}}else{b=Ut[s+6912>>2],d=Ut[s+6900>>2],p=Ut[s+6896>>2],o=Ut[(f=s+6920|0)>>2],f=Ut[f+4>>2];n:{switch(n=e,_=Ut[c+612>>2],h=Ut[1357]+Ut[1356]|0,c=(t=4+((v=Ut[1362]+(Ut[1361]+(Ut[1360]+(Ut[1359]+(h+Ut[1358]|0)|0)|0)|0)|0)+Ut[1363]>>>3|0)|0)+Ut[c+608>>2]|0,0|Vt[m](n,c,_=c>>>0<t>>>0?_+1|0:_,Ut[s+7288>>2])){case 0:break n;case 1:break;default:break t}Ut[Ut[e>>2]>>2]=5;break t}if(c=s+6928|0,s=Ut[e+4>>2],Vt[Ut[s+7276>>2]](e,c,16,0,0,Ut[s+7288>>2]))Ut[Ut[e>>2]>>2]=5;else{_e[4+a|0]=o,_e[3+a|0]=(255&f)<<24|o>>>8,_e[2+a|0]=(65535&f)<<16|o>>>16,_e[1+a|0]=(16777215&f)<<8|o>>>24,_e[0|a]=240+(15&f|b<<4);n:{switch(s=Ut[e>>2],c=(o=4+(v+-4>>>3|0)|0)+Ut[s+608>>2]|0,s=Ut[s+612>>2],s=c>>>0<o>>>0?s+1|0:s,o=Ut[e+4>>2],0|Vt[Ut[o+7268>>2]](e,c,s,Ut[o+7288>>2])){case 0:break n;case 1:break;default:break t}Ut[Ut[e>>2]>>2]=5;break t}if(o=Ut[e+4>>2],Vt[Ut[o+7276>>2]](e,a,5,0,0,Ut[o+7288>>2]))Ut[Ut[e>>2]>>2]=5;else{_e[5+a|0]=d,_e[4+a|0]=d>>>8,_e[3+a|0]=d>>>16,_e[2+a|0]=p,_e[1+a|0]=p>>>8,_e[0|a]=p>>>16;n:{switch(s=Ut[e>>2],c=(o=4+(h>>>3|0)|0)+Ut[s+608>>2]|0,s=Ut[s+612>>2],s=c>>>0<o>>>0?s+1|0:s,o=Ut[e+4>>2],0|Vt[Ut[o+7268>>2]](e,c,s,Ut[o+7288>>2])){case 0:break n;case 1:break;default:break t}Ut[Ut[e>>2]>>2]=5;break t}if(o=Ut[e+4>>2],Vt[Ut[o+7276>>2]](e,a,6,0,0,Ut[o+7288>>2]))Ut[Ut[e>>2]>>2]=5;else if(!(!(o=Ut[Ut[u>>2]+7048>>2])|!Ut[o>>2])&&(s=Ut[e>>2],Ut[s+616>>2]|Ut[s+620>>2])){te(o);n:{a:{switch(o=Ut[e>>2],s=Ut[o+616>>2]+4|0,o=Ut[o+620>>2],c=s>>>0<4?o+1|0:o,o=Ut[e+4>>2],0|Vt[Ut[o+7268>>2]](e,s,c,Ut[o+7288>>2])){case 1:break a;case 0:break;default:break t}if(c=Ut[u>>2],s=Ut[c+7048>>2],!Ut[s>>2])break t;f=0;break n}Ut[Ut[e>>2]>>2]=5;break t}for(;d=(p=Wt(f,24))+Ut[s+4>>2]|0,o=Ut[d+4>>2],_=(d=Ut[d>>2])<<24|d<<8&16711680,Ut[a>>2]=-16777216&((255&o)<<24|d>>>8)|16711680&((16777215&o)<<8|d>>>24)|o>>>8&65280|o>>>24,Ut[4+a>>2]=65280&(o<<24|d>>>8)|255&(o<<8|d>>>24)|_,d=p+Ut[s+4>>2]|0,o=Ut[d+12>>2],_=(d=Ut[d+8>>2])<<24|d<<8&16711680,Ut[8+a>>2]=-16777216&((255&o)<<24|d>>>8)|16711680&((16777215&o)<<8|d>>>24)|o>>>8&65280|o>>>24,Ut[12+a>>2]=65280&(o<<24|d>>>8)|255&(o<<8|d>>>24)|_,o=E[16+(p+Ut[s+4>>2]|0)>>1],k[16+a>>1]=(o<<24|o<<8&16711680)>>>16,!Vt[Ut[c+7276>>2]](e,a,18,0,0,Ut[c+7288>>2]);)if(c=Ut[u>>2],s=Ut[c+7048>>2],!((f=f+1|0)>>>0<Kt[s>>2]))break t;Ut[Ut[e>>2]>>2]=5}}}}s=Ut[e+4>>2],c=Ut[e>>2],l=Ut[c>>2]?1:l}(o=Ut[s+7280>>2])&&(Vt[o](e,s+6872|0,Ut[s+7288>>2]),c=Ut[e>>2])}Ut[c+4>>2]&&(o=Ut[Ut[u>>2]+11752>>2])&&!De(o)?(o=1,l||(Ut[Ut[e>>2]>>2]=4)):o=l}if(s=Ut[u>>2],(l=Ut[s+7296>>2])&&((0|l)!=Ut[1896]&&(Ce(l),s=Ut[u>>2]),Ut[s+7296>>2]=0),Ut[s+7260>>2]&&ae(Ut[e>>2]+640|0),s=Ut[e>>2],(l=Ut[s+600>>2])&&(e0(l),s=Ut[e>>2],Ut[s+600>>2]=0,Ut[s+604>>2]=0),Ut[s+24>>2])for(l=0;c=Ut[u>>2],(f=Ut[7328+(c+(s=l<<2)|0)>>2])&&(e0(f),Ut[7328+(s+Ut[u>>2]|0)>>2]=0,c=Ut[u>>2]),(c=Ut[7368+(c+s|0)>>2])&&(e0(c),Ut[7368+(s+Ut[u>>2]|0)>>2]=0),(l=l+1|0)>>>0<Kt[Ut[e>>2]+24>>2];);if(s=Ut[u>>2],(l=Ut[s+7360>>2])&&(e0(l),Ut[Ut[u>>2]+7360>>2]=0,s=Ut[u>>2]),(l=Ut[s+7400>>2])&&(e0(l),Ut[Ut[u>>2]+7400>>2]=0,s=Ut[u>>2]),(l=Ut[s+7364>>2])&&(e0(l),Ut[Ut[u>>2]+7364>>2]=0,s=Ut[u>>2]),(l=Ut[s+7404>>2])&&(e0(l),Ut[Ut[u>>2]+7404>>2]=0,s=Ut[u>>2]),c=Ut[e>>2],Ut[c+40>>2])for(l=0;(d=Ut[7408+((f=l<<2)+s|0)>>2])&&(e0(d),Ut[7408+(f+Ut[e+4>>2]|0)>>2]=0,c=Ut[e>>2],s=Ut[e+4>>2]),(l=l+1|0)>>>0<Kt[c+40>>2];);if((l=Ut[s+7536>>2])&&(e0(l),s=Ut[e+4>>2],Ut[s+7536>>2]=0,c=Ut[e>>2]),Ut[c+24>>2])for(c=0;(f=Ut[7540+((l=c<<3)+s|0)>>2])&&(e0(f),Ut[7540+(l+Ut[u>>2]|0)>>2]=0,s=Ut[u>>2]),(f=Ut[7544+(s+l|0)>>2])&&(e0(f),Ut[7544+(l+Ut[u>>2]|0)>>2]=0,s=Ut[u>>2]),(c=c+1|0)>>>0<Kt[Ut[e>>2]+24>>2];);if((l=Ut[s+7604>>2])&&(e0(l),Ut[Ut[u>>2]+7604>>2]=0,s=Ut[u>>2]),(l=Ut[s+7608>>2])&&(e0(l),Ut[Ut[u>>2]+7608>>2]=0,s=Ut[u>>2]),(l=Ut[s+7612>>2])&&(e0(l),Ut[Ut[u>>2]+7612>>2]=0,s=Ut[u>>2]),(l=Ut[s+7616>>2])&&(e0(l),Ut[Ut[u>>2]+7616>>2]=0,s=Ut[u>>2]),(l=Ut[s+7620>>2])&&(e0(l),s=Ut[u>>2],Ut[s+7620>>2]=0),(l=Ut[s+7624>>2])&&(e0(l),s=Ut[u>>2],Ut[s+7624>>2]=0),l=Ut[e>>2],!(!Ut[l+4>>2]|!Ut[l+24>>2]))for(u=0;(f=Ut[11764+((c=u<<2)+s|0)>>2])&&(e0(f),Ut[11764+(c+Ut[e+4>>2]|0)>>2]=0,s=Ut[e+4>>2],l=Ut[e>>2]),(u=u+1|0)>>>0<Kt[l+24>>2];);r=Ut[s+6856>>2],(i=Ut[r>>2])&&e0(i),Ut[r+16>>2]=0,Ut[r>>2]=0,Ut[r+8>>2]=0,Ut[r+12>>2]=0,l=Ut[e>>2],Ut[l+44>>2]=13,Ut[l+48>>2]=1056964608,Ut[l+36>>2]=0,Ut[l+40>>2]=1,Ut[l+28>>2]=16,Ut[l+32>>2]=44100,Ut[l+20>>2]=0,Ut[l+24>>2]=2,Ut[l+12>>2]=1,Ut[l+16>>2]=0,Ut[l+4>>2]=0,Ut[l+8>>2]=1,l=Ut[e>>2],Ut[l+592>>2]=0,Ut[l+596>>2]=0,Ut[l+556>>2]=0,Ut[l+560>>2]=0,Ut[l+564>>2]=0,Ut[l+568>>2]=0,Ut[l+572>>2]=0,Ut[l+576>>2]=0,Ut[l+580>>2]=0,Ut[l+584>>2]=0,Ut[l+600>>2]=0,Ut[l+604>>2]=0,s=Ut[e+4>>2],Ut[s+7248>>2]=0,Ut[s+7252>>2]=0,Ut[s+7048>>2]=0,Ut[(u=s+7256|0)>>2]=0,Ut[u+4>>2]=0,Ut[(u=s+7264|0)>>2]=0,Ut[u+4>>2]=0,Ut[(u=s+7272|0)>>2]=0,Ut[u+4>>2]=0,Ut[(u=s+7280|0)>>2]=0,Ut[u+4>>2]=0,Ut[s+7288>>2]=0,Je(l+632|0),s=Ut[e>>2],1==Ut[s>>2]&&(Ut[s+16>>2]=1,Ut[s+20>>2]=0,Et(e,10777),s=Ut[e>>2],1==Ut[s>>2])&&(Ut[s+576>>2]=0,Ut[s+580>>2]=5,Ut[s+564>>2]=0,Ut[s+568>>2]=0,Ut[s+556>>2]=8,Ut[s+560>>2]=0),o||(Ut[s>>2]=1),s=!o}return Zt=32+a|0,0|s}function Ct(e,t,n){var a,r,i,s,o,l,c,u,f=0,d=0,p=0,_=0,m=0,h=0,b=0,v=0,g=0;Zt=i=Zt-48|0;e:if(d=Ut[e>>2],Ut[d+12>>2]&&(f=de((f=Ut[e+4>>2])+7060|0,f+4|0,Ut[d+24>>2],Ut[d+36>>2],Ut[d+28>>2]+7>>>3|0),d=Ut[e>>2],!f))Ut[d>>2]=8,t=0;else{f=Ut[d+576>>2],s=t?0:(t=(e=>{var t,n=0;t:{if(!(1&e)){for(;n=n+1|0,t=2&e,e=e>>>1|0,!t;);if(e=15,14<n>>>0)break t}e=n}return e})(Ut[d+36>>2]),d=Ut[e>>2],t>>>0<(p=Ut[d+580>>2])>>>0?t:p),m=Ut[d+36>>2],Ut[8+i>>2]=m,Ut[12+i>>2]=Ut[d+32>>2],t=Ut[d+24>>2],Ut[20+i>>2]=0,Ut[16+i>>2]=t,t=Ut[d+28>>2],Ut[28+i>>2]=0,Ut[24+i>>2]=t,p=Ut[e+4>>2],Ut[32+i>>2]=Ut[p+7056>>2],a=f>>>0<s>>>0?f:s;t:{n:{a:{r:{i:{s:{if(Ut[d+16>>2]){if(!(!Ut[d+20>>2]|!Ut[p+6864>>2])&&(g=b=1,Ut[p+6868>>2]))break s}else b=1;o:if(Ut[d+24>>2])for(;;){if(g=(_<<2)+p|0,v=f=0,m){for(r=Ut[g+4>>2],t=0;h=1&(f=Ut[r+(t<<2)>>2]|f),!(m>>>0<=(t=t+1|0)>>>0||h););if(v=t=0,f&&(v=0,!h)){for(;t=t+1|0,h=2&f,f>>=1,!h;);if(v=h=0,t){for(;Ut[(f=r+(h<<2)|0)>>2]=Ut[f>>2]>>t,(0|(h=h+1|0))!=(0|m););v=t}}}if(t=v,m=Wt(_,584)+p|0,f=Ut[d+28>>2],Ut[m+624>>2]=t=f>>>0<t>>>0?f:t,Ut[m+916>>2]=t,Ut[g+216>>2]=f-t,(f=Ut[d+24>>2])>>>0<=(_=_+1|0)>>>0)break o;m=Ut[d+36>>2]}else f=0;if(t=1,b)break i;m=Ut[d+36>>2],g=0}if(h=Ut[p+36>>2],_=f=0,m){for(t=0;b=1&(t=Ut[(_<<2)+h>>2]|t),!(m>>>0<=(_=_+1|0)>>>0||b););if(_=0,!(b|!t)){for(;_=_+1|0,b=2&t,t>>=1,!b;);if(t=0,_)for(;Ut[(b=(t<<2)+h|0)>>2]=Ut[b>>2]>>_,(0|m)!=(0|(t=t+1|0)););else _=0}}if(t=Ut[d+28>>2],Ut[p+5296>>2]=_=t>>>0<_>>>0?t:_,Ut[p+5588>>2]=_,Ut[p+248>>2]=t-_,_=Ut[d+36>>2]){for(m=Ut[p+40>>2],t=0;b=1&(f=Ut[m+(t<<2)>>2]|f),!(_>>>0<=(t=t+1|0)>>>0||b););if(t=0,f)if(b)f=0;else{for(;t=t+1|0,b=2&f,f>>=1,!b;);if(f=0,t){for(;Ut[(b=m+(f<<2)|0)>>2]=Ut[b>>2]>>t,(0|_)!=(0|(f=f+1|0)););f=t}}else f=0}if(t=Ut[d+28>>2],Ut[p+5880>>2]=f=t>>>0<f>>>0?t:f,Ut[p+6172>>2]=f,Ut[p+252>>2]=1+(t-f|0),g)break r;f=Ut[d+24>>2],t=0}if(d=t,f)for(f=0;Tt(e,a,s,8+i|0,Ut[216+(t=(f<<2)+p|0)>>2],Ut[t+4>>2],6176+(p=(f<<3)+p|0)|0,p+6640|0,p+256|0,t+6768|0,t+6808|0),p=Ut[e+4>>2],(f=f+1|0)>>>0<Kt[Ut[e>>2]+24>>2];);if(d)break a;h=Ut[p+36>>2]}if(Tt(e,a,s,8+i|0,Ut[p+248>>2],h,p+6240|0,p+6704|0,p+320|0,p+6800|0,p+6840|0),t=Ut[e+4>>2],Tt(e,a,s,8+i|0,Ut[t+252>>2],Ut[t+40>>2],t+6248|0,t+6712|0,t+328|0,t+6804|0,t+6844|0),t=Ut[e+4>>2],f=!Ut[Ut[e>>2]+20>>2]|!Ut[t+6864>>2]?(d=(f=Ut[t+6844>>2])+(p=Ut[t+6808>>2])|0,p=p+(_=Ut[t+6812>>2])|0,f+Ut[t+6840>>2]>>>0<((d=(_=f+_|0)>>>0<(p=(m=d>>>0<p>>>0)?d:p)>>>0)?_:p)>>>0?3:d?2:m):Ut[t+6868>>2]?3:0,Ut[20+(v=i)>>2]=f,!st(8+i|0,Ut[t+6856>>2])){Ut[Ut[e>>2]>>2]=7,t=0;break e}p=e,_=Ut[8+i>>2];r:{switch(0|f){default:f=Ut[e+4>>2],h=d=t=m=0;break r;case 0:t=(d=(f=Ut[e+4>>2])+336|0)+Wt(Ut[f+6768>>2],292)|0,m=584+(d+Wt(Ut[f+6772>>2],292)|0)|0,d=Ut[f+216>>2],h=Ut[f+220>>2];break r;case 1:t=336+((f=Ut[e+4>>2])+Wt(Ut[f+6768>>2],292)|0)|0,m=5592+(Wt(Ut[f+6804>>2],292)+f|0)|0,d=Ut[f+216>>2],h=Ut[f+252>>2];break r;case 2:m=920+((f=Ut[e+4>>2])+Wt(Ut[f+6772>>2],292)|0)|0,t=5592+(Wt(Ut[f+6804>>2],292)+f|0)|0,d=Ut[f+252>>2],h=Ut[f+220>>2];break r;case 3:}t=(d=(f=Ut[e+4>>2])+5008|0)+Wt(Ut[f+6800>>2],292)|0,m=584+(d+Wt(Ut[f+6804>>2],292)|0)|0,d=Ut[f+248>>2],h=Ut[f+252>>2]}if(!Mt(p,_,d,t,Ut[f+6856>>2]))break n;if(!Mt(e,Ut[8+i>>2],h,m,Ut[Ut[e+4>>2]+6856>>2]))break n;t=Ut[e>>2];break t}if(f=st(8+i|0,Ut[p+6856>>2]),t=Ut[e>>2],f){if(!Ut[t+24>>2])break t;for(f=0;;){if(t=Ut[e+4>>2],!Mt(e,Ut[8+i>>2],Ut[216+(p=t+(f<<2)|0)>>2],336+((t+Wt(f,584)|0)+Wt(Ut[p+6768>>2],292)|0)|0,Ut[t+6856>>2]))break n;if(t=Ut[e>>2],!((f=f+1|0)>>>0<Kt[t+24>>2]))break}break t}Ut[t>>2]=7}t=0;break e}Ut[t+20>>2]&&(t=Ut[e+4>>2],f=Ut[t+6864>>2]+1|0,Ut[t+6864>>2]=f>>>0<Kt[t+6860>>2]?f:0),t=Ut[e+4>>2],Ut[t+6868>>2]=Ut[20+i>>2],t=Ut[t+6856>>2],v=1,(v=(f=7&Ut[t+16>>2])?je(t,8-f|0):v)&&(o=Ut[Ut[e+4>>2]+6856>>2],l=8+i|0,Ke(o,12+(Zt=o=Zt-16|(u=0))|(u=0),8+o|0)&&(c=((e,t)=>{var n,a=0;if(7<t>>>0)for(;n=a,a=Xt[0|e]|Xt[e+1|0]<<8,a=E[1280+(Xt[e+7|0]<<1)>>1]^(E[512+(1280+(Xt[e+6|0]<<1)|0)>>1]^(E[2304+(Xt[e+5|0]<<1)>>1]^(E[2816+(Xt[e+4|0]<<1)>>1]^(E[3328+(Xt[e+3|0]<<1)>>1]^(E[3840+(Xt[e+2|0]<<1)>>1]^(E[4352+((255&(a=n^(a<<8&16711680|a<<24)>>>16))<<1)>>1]^E[4864+(a>>>7&510)>>1])))))),e=e+8|0,7<(t=t+-8|0)>>>0;);if(t)for(;a=E[1280+((Xt[0|e]^(65280&a)>>>8)<<1)>>1]^a<<8,e=e+1|0,t=t+-1|0;);return 65535&a})(Ut[12+o>>2],Ut[8+o>>2]),k[l>>1]=c,u=1),Zt=16+o|0,u)&&t0(Ut[Ut[e+4>>2]+6856>>2],E[8+i>>1],Ut[1404])?(t=0,h0(e,Ut[Ut[e>>2]+36>>2],n)&&(t=Ut[e+4>>2],Ut[t+7052>>2]=0,Ut[t+7056>>2]=Ut[t+7056>>2]+1,t=Ut[4+(v=f=n=t+6920|0)>>2],(n=(e=Ut[Ut[e>>2]+36>>2])+Ut[f>>2]|0)>>>0<e>>>0&&(t=t+1|0),Ut[v>>2]=n,Ut[f+4>>2]=t,t=1)):(Ut[Ut[e>>2]>>2]=8,t=0)}return Zt=48+i|0,t}function St(e,t,n,a,r,i,I,N){var O,H,q,s,V,U,X,K,o=0,l=0,c=0,u=0,f=0,d=0,j=0,z=0,W=0;Zt=H=Zt-176|0,l=13,o=Ut[e>>2];e:if(1==Ut[o>>2]&&(l=3,!(!n|(r?0:a)||(l=4,7<(u=Ut[o+24>>2])+-1>>>0)))){t:{if(2!=(0|u))Ut[o+16>>2]=0;else if(Ut[o+16>>2])break t;Ut[o+20>>2]=0}if(32<=(u=Ut[o+28>>2])>>>0)Ut[o+16>>2]=0,l=5;else if(l=5,!(20<u+-4>>>0))if(655350<=Ut[o+32>>2]+-1>>>0)l=6;else{if(o=Ut[e>>2],c=Ut[o+36>>2]){if(l=7,65519<c+-16>>>0)break e}else c=Ut[o+556>>2]?4096:1152,Ut[o+36>>2]=c;if(l=8,!(32<(u=Ut[o+556>>2])>>>0||(l=10,c>>>0<u>>>0))){if(u=Ut[o+560>>2]){if(l=9,10<u+-5>>>0)break e}else u=Ut[(d=o)+28>>2],Ut[d+560>>2]=u=u>>>0<=15?5<u>>>0?2+(u>>>1|0)|0:5:16==(0|u)?c>>>0<193?7:c>>>0<385?8:c>>>0<577?9:c>>>0<1153?10:c>>>0<2305?11:c>>>0<4609?12:13:c>>>0<385?13:c>>>0<1153?14:15;if(Ut[o+8>>2]){if(l=11,!((c>>>0<4609|48e3<Kt[o+32>>2])&c>>>0<16385))break e;if(!((K=Ut[Ut[e>>2]+32>>2])+-1>>>0<=655349&&!((K>>>0)%1e3)|K>>>0<65536|!((K>>>0)%10)))break e;if(o=Ut[e>>2],4<a0(Ut[o+28>>2]+-8|0,30)>>>0)break e;if(8<(c=Ut[o+580>>2])>>>0)break e;if(!(48e3<Kt[o+32>>2])&&4608<Kt[o+36>>2]|12<Kt[o+556>>2])break e}else c=Ut[o+580>>2];(u=1<<Ut[1406])>>>0<=c>>>0&&(Ut[o+580>>2]=c=u+-1|0),Kt[o+576>>2]>=c>>>0&&(Ut[o+576>>2]=c);t:if(N&&(c=Ut[o+600>>2])&&!((d=Ut[o+604>>2])>>>0<2))for(l=1;;){if(!(!(u=Ut[(l<<2)+c>>2])|4!=Ut[u>>2])){for(;Ut[(o=(l<<2)+c|0)>>2]=Ut[((l=l+-1|0)<<2)+c>>2],c=Ut[Ut[e>>2]+600>>2],l;);Ut[c>>2]=u,o=Ut[e>>2];break t}if((0|d)==(0|(l=l+1|0)))break}d=Ut[o+604>>2];t:{n:{if(!(c=Ut[o+600>>2])){if(l=12,d)break e;u=0;break t}if(u=0,!d)break t;for(;;){if(!(!(o=Ut[(u<<2)+c>>2])|3!=Ut[o>>2])){Ut[Ut[e+4>>2]+7048>>2]=o+16;break n}if((0|d)==(0|(u=u+1|0)))break}}for(u=d=o=0;;){l=12;n:{a:{r:{i:{switch(c=Ut[(j<<2)+c>>2],Ut[c>>2]){case 0:break e;case 6:break a;case 5:break r;case 4:break i;case 3:break;default:break n}if(z)break e;if(z=1,u=d,f=o,(e=>{var t,n,a,r,i=0,s=0,o=0;if(r=Ut[e>>2])for(n=Ut[e+4>>2],e=0,o=1;;){if(a=s,t=i,i=Wt(e,24)+n|0,!(-1==(0|(s=Ut[i>>2]))&-1==(0|(i=Ut[i+4>>2]))|o|(0|i)==(0|t)&a>>>0<s>>>0|t>>>0<i>>>0))return;if(!((e=e+1|(o=0))>>>0<r>>>0))break}return 1})(c+16|0))break n;break e}if(u=1,f=o,d)break e;break n}if(u=d,f=o,((e,t)=>{var n=0,a=0,r=0,i=0,s=0,o=0;r:{i:{s:{o:{l:{c:{u:{if(t){if(!(a=t=Ut[e+140>>2])&(n=Ut[e+136>>2])>>>0<=88199|t>>>0<0){e=0;break r}if(b0(n,a)|Qt){e=0;break r}if(!(a=Ut[e+148>>2]))break i;if(170==Xt[(Ut[e+152>>2]+(a<<5)|0)-24|0])break u;e=0;break r}if(!(n=Ut[e+148>>2]))break i;for(r=n+-1|0,s=Ut[e+152>>2],t=0;;){if(!Xt[8+(e=s+(t<<5)|0)|0])break s;a=Xt[e+23|0];f:{if(t>>>0<r>>>0){if(!a)break o;if(1<Xt[Ut[e+24>>2]+8|0])break l}else if(!a)break f;for(o=e+24|0,e=0;;){if(e&&(i=Ut[o>>2]+(e<<4)|0,(Xt[i+-8|0]+1|0)!=Xt[i+8|0]))break c;if(!((e=e+1|0)>>>0<a>>>0))break}}if((0|n)==(0|(t=t+(e=1)|0)))break}break r}for(s=a+-1|0,o=Ut[e+152>>2],t=0;;){if(!(n=Xt[8+(e=o+(t<<5)|0)|0]))break s;if(!(170==(0|n)|n>>>0<100)){e=0;break r}if(b0(Ut[e>>2],Ut[e+4>>2])|Qt){e=0;break r}n=Xt[e+23|0];u:{f:{if(t>>>0<s>>>0){if(!n)break o;if(Xt[Ut[e+24>>2]+8|0]<2)break f;break l}if(!n)break u}for(i=Ut[e+24>>2],e=0;;){if(b0(Ut[(r=i+(e<<4)|0)>>2],Ut[r+4>>2])|Qt){e=0;break r}if(Xt[r+8|0]!=(Xt[r+-8|0]+1|0)&&e)break c;if(!((e=e+1|0)>>>0<n>>>0))break}}if((0|a)==(0|(t=t+(e=1)|0)))break}break r}e=0;break r}e=0;break r}e=0;break r}e=0;break r}e=0}return e})(c+16|0,Ut[c+160>>2]))break n;break e}if(!(e=>{var t=0,n=0;a:{r:if(n=Ut[e+4>>2],t=Xt[0|n]){for(;;){if((t+-32&255)>>>0<95){if(t=Xt[0|(n=n+1|0)])continue;break r}break}n=0;break a}if(n=1,t=Ut[e+8>>2],Xt[0|t])for(;;){if(!(e=(e=>{var t,n=0,a=0,r=0,a=1;r:{i:if(128&(n=Xt[0|e])){if(!(192!=(224&n)|128!=(192&Xt[e+1|0])))return(192!=(254&n))<<1;if(224==(240&n)&&128==(192&(r=Xt[e+1|0]))&&128==(192&(t=Xt[e+2|0]))){if(a=0,128==(224&r)&&224==(0|n))break i;s:{switch(n+-237|0){case 0:if(160!=(224&r))break s;break i;case 2:break;default:break s}if(191==(0|r)&&190==(254&t))break i}return 3}if(240==(248&n)&&!(128!=(192&(a=Xt[e+1|0]))|128!=(192&Xt[e+2|0]))&&128==(192&Xt[e+3|0]))break r;if(248==(252&n)&&!(128!=(192&(a=Xt[e+1|0]))|128!=(192&Xt[e+2|0])|(128!=(192&Xt[e+3|0])|128!=(192&Xt[e+4|0]))))return 248==(0|n)&&128==(248&a)?0:5;a=0,252!=(254&n)||128!=(192&(r=Xt[e+1|0]))|128!=(192&Xt[e+2|0])|(128!=(192&Xt[e+3|0])|128!=(192&Xt[e+4|0]))||128==(192&Xt[e+5|0])&&(a=252==(0|n)&&128==(252&r)?0:6)}return a}return 240==(0|n)?(128!=(240&a))<<2:4})(t))){n=0;break a}if(!Xt[0|(t=e+t|0)])break}}return n})(O=c+16|0))break e;switch(u=d,f=o,Ut[O>>2]+-1|0){case 0:if(W)break e;if(d0(f=Ut[c+20>>2],10763)&&d0(f,10773))break e;if(32!=Ut[c+28>>2])break e;if(W=1,u=d,f=o,32==Ut[c+32>>2])break n;break e;case 1:break;default:break n}if(f=1,o)break e}if(o=Ut[e>>2],(j=j+1|0)>>>0>=Kt[o+604>>2])break t;c=Ut[o+600>>2],o=f,d=u}}if(j=Ut[e+4>>2],Ut[j>>2]=c=0,Ut[o+24>>2])for(;Ut[4+((o=c<<2)+j|0)>>2]=0,Ut[7328+(o+Ut[e+4>>2]|0)>>2]=0,Ut[44+(o+Ut[e+4>>2]|0)>>2]=0,Ut[7368+(o+Ut[e+4>>2]|0)>>2]=0,j=Ut[e+4>>2],(c=c+1|0)>>>0<Kt[Ut[e>>2]+24>>2];);if(Ut[j+36>>2]=o=0,Ut[Ut[e+4>>2]+7360>>2]=0,Ut[Ut[e+4>>2]+76>>2]=0,Ut[Ut[e+4>>2]+7400>>2]=0,Ut[Ut[e+4>>2]+40>>2]=0,Ut[Ut[e+4>>2]+7364>>2]=0,Ut[Ut[e+4>>2]+80>>2]=0,Ut[Ut[e+4>>2]+7404>>2]=0,l=Ut[e+4>>2],c=Ut[e>>2],Ut[c+40>>2])for(;Ut[84+((f=o<<2)+l|0)>>2]=0,Ut[7408+(f+Ut[e+4>>2]|0)>>2]=0,l=Ut[e+4>>2],c=Ut[e>>2],(o=o+1|0)>>>0<Kt[c+40>>2];);if(Ut[l+7536>>2]=o=0,Ut[l+212>>2]=0,Ut[c+24>>2])for(;Ut[256+((f=o<<3)+l|0)>>2]=0,Ut[7540+(f+Ut[e+4>>2]|0)>>2]=0,Ut[260+(f+Ut[e+4>>2]|0)>>2]=0,Ut[7544+(f+Ut[e+4>>2]|0)>>2]=0,l=Ut[e+4>>2],(o=o+1|(Ut[6768+(l+(o<<2)|0)>>2]=0))>>>0<Kt[Ut[e>>2]+24>>2];);Ut[l+320>>2]=0,Ut[Ut[e+4>>2]+7604>>2]=0,Ut[Ut[e+4>>2]+324>>2]=0,Ut[Ut[e+4>>2]+7608>>2]=0,o=Ut[e+4>>2],Ut[o+6800>>2]=0,Ut[o+328>>2]=0,Ut[Ut[e+4>>2]+7612>>2]=0,Ut[Ut[e+4>>2]+332>>2]=0,Ut[Ut[e+4>>2]+7616>>2]=0,o=Ut[e+4>>2],Ut[o+7620>>2]=0,Ut[o+7624>>2]=0,Ut[o+6848>>2]=0,Ut[o+6852>>2]=0,Ut[o+6804>>2]=0,f=Ut[e>>2],d=Ut[f+36>>2],f=Ut[f+32>>2],Ut[o+7052>>2]=0,Ut[o+7056>>2]=0,Ut[o+6864>>2]=0,Ut[(l=o)+6860>>2]=(f=(K=.4*(f>>>0)/(d>>>0)+.5)<4294967296&0<=K?~~K>>>0:0)||1,o0(o+7156|0),l=Ut[e+4>>2],Ut[l+7244>>2]=12,Ut[l+7240>>2]=13,Ut[l+7236>>2]=12,Ut[l+7228>>2]=14,Ut[l+7224>>2]=15,Ut[l+7220>>2]=16,Ut[l+7232>>2]=17,c=Ut[e>>2],Ut[c>>2]=0;t:{n:{a:{if(Ut[l+7260>>2]=N){if(!(i0(8+(X=c+632|0)|0,Ut[X>>2])?0:(Ut[392+X>>2]=0,Ut[396+X>>2]=0,Ut[384+X>>2]=0,Ut[388+X>>2]=1)))break a;c=Ut[e>>2],l=Ut[e+4>>2]}if(o=e+4|0,Ut[l+7276>>2]=n,Ut[l+7264>>2]=t,Ut[l+7288>>2]=I,Ut[l+7280>>2]=i,Ut[l+7272>>2]=r,Ut[l+7268>>2]=a,t=Ut[c+36>>2],Kt[l>>2]<t>>>0){a=t+5|0;r:{i:{s:{if(Ut[c+24>>2])for(n=0;;){if(I=l0(a,7328+(r=(i=n<<2)+Ut[o>>2]|0)|0,r+4|0),r=Ut[4+(i+Ut[o>>2]|0)>>2],Ut[r>>2]=0,Ut[r+4>>2]=0,Ut[r+8>>2]=0,Ut[r+12>>2]=0,r=4+(i+Ut[o>>2]|0)|0,Ut[r>>2]=Ut[r>>2]+16,!I)break s;if(!((n=n+1|0)>>>0<Kt[Ut[e>>2]+24>>2]))break}if(r=l0(a,(n=Ut[o>>2])+7360|0,n+36|0),n=Ut[Ut[o>>2]+36>>2],Ut[n>>2]=0,Ut[n+4>>2]=0,Ut[n+8>>2]=0,Ut[n+12>>2]=0,n=Ut[o>>2],Ut[n+36>>2]=Ut[n+36>>2]+16,n=r?(a=l0(a,(n=Ut[o>>2])+7364|0,n+40|0),n=Ut[Ut[o>>2]+40>>2],Ut[n>>2]=0,Ut[n+4>>2]=0,Ut[n+8>>2]=0,Ut[n+12>>2]=0,n=Ut[o>>2]+40|0,Ut[n>>2]=Ut[n>>2]+16,0!=(0|a)):0!=(0|r)){if(a=Ut[e>>2],Ut[a+556>>2]){if(n=Ut[o>>2],Ut[a+40>>2])for(l=0;;){if(!l0(t,7408+(n=(l<<2)+n|0)|0,n+84|0))break s;if(n=Ut[e+4>>2],!((l=l+1|0)>>>0<Kt[Ut[e>>2]+40>>2]))break}if(!l0(t,n+7536|0,n+212|0))break s}for(c=1,i=I=0;;){if(i>>>0<Kt[Ut[e>>2]+24>>2]){for(n=1,a=l=0;;){if(1&l)break s;if(N=n&0!=(0|(r=l0(t,7540+(a=(Ut[o>>2]+(i<<3)|0)+(a<<2)|0)|0,a+256|0))),l=!r,a=1,n=0,!N)break}if(i=i+1|0,r)continue;break s}break}for(N=1;;){if(n=1,a=l=0,!N)break s;for(;;){if(1&l)break s;if(i=n&0!=(0|(r=l0(t,7604+(a=(Ut[o>>2]+(I<<3)|0)+(a<<2)|0)|0,a+320|0))),l=!r,a=1,n=0,!i)break}if(n=c&(N=0!=(0|r)),I=1,c=0,!n)break}if(r){if(s=(n=Ut[e+4>>2])+7620|0,V=n+6848|0,536870911<(a=t<<1)>>>(U=0)||(q=$t(a?a<<3:1))&&((U=Ut[s>>2])&&e0(U),Ut[s>>2]=q,Ut[V>>2]=q,U=1),n=U,l=Ut[e>>2],!(r=Ut[l+572>>2])|!n)break i;if(l0(a,(n=Ut[o>>2])+7624|0,n+6852|0))break r}}}l=Ut[e>>2];break t}if(r|!n)break t}if(l=Ut[o>>2],(0|t)!=Ut[l>>2]&&(n=Ut[e>>2],!(!Ut[n+556>>2]|!Ut[n+40>>2]))){for(l=0;;){r:{i:{s:{o:{l:{c:{u:{f:{d:{p:{_:{m:{h:{b:{v:{g:{k:{A:{switch(Ut[44+(n=(l<<4)+n|0)>>2]){case 16:break s;case 15:break o;case 14:break l;case 13:break c;case 12:break u;case 11:break f;case 10:break d;case 9:break p;case 8:break _;case 7:break m;case 6:break h;case 5:break b;case 4:break v;case 3:break g;case 2:break k;case 1:break A;case 0:break;default:break i}Z=b=h=m=_=void 0;var G,Y=Ut[84+(Ut[o>>2]+(l<<2)|0)>>2],p=t,_=0,m=Gt(0),h=0,b=Gt(0),Z=0,Q=p+-1|0;if(1&p){if(h=(0|Q)/2|0,0<=(0|p))for(Z=(G=0<(0|h)?h:0)+1|0,b=Gt(0|Q);m=Gt(0|_),jt[(_<<2)+Y>>2]=Gt(m+m)/b,h=(0|_)==(0|G),_=_+1|0,!h;);if(!((0|p)<=(0|Z)))for(b=Gt(0|Q);m=Gt(0|Z),jt[(Z<<2)+Y>>2]=Gt(2)-Gt(Gt(m+m)/b),(0|(Z=Z+1|0))!=(0|p););}else{if(h=(0|p)/2|0,2<=(0|p)){for(b=Gt(0|Q);m=Gt(0|_),jt[(_<<2)+Y>>2]=Gt(m+m)/b,(0|h)!=(0|(_=_+1|0)););_=h}if(!((0|p)<=(0|_)))for(b=Gt(0|Q);m=Gt(0|_),jt[(_<<2)+Y>>2]=Gt(2)-Gt(Gt(m+m)/b),(0|(_=_+1|0))!=(0|p););}break r}ae=void 0;var J,$,ee,te=Ut[84+(Ut[o>>2]+(l<<2)|0)>>2],ne=t,ae=0;if(Gt(0),Gt(0),Gt(0),1<=(0|ne))for(J=Gt(ne+-1|0);ee=Gt(Gt(0|ae)/J),$=(ae<<2)+te|0,ee=Gt(-.47999998927116394*+Gt(Yt(Gt(ee+Gt(-.5))))+.6200000047683716+-.3799999952316284*n0(6.283185307179586*+ee)),jt[$>>2]=ee,(0|(ae=ae+1|0))!=(0|ne););break r}ce=void 0;var re,ie,se,oe=Ut[84+(Ut[o>>2]+(l<<2)|0)>>2],le=t,ce=0;if(Gt(0),1<=(0|le))for(re=le+-1|0;ie=(ce<<2)+oe|0,se=Gt(.07999999821186066*n0(12.566370614359172*(se=0|ce)/re)+(-.5*n0(6.283185307179586*se/re)+.41999998688697815)),jt[ie>>2]=se,(0|(ce=ce+1|0))!=(0|le););break r}me=void 0;var ue,fe,de,pe=Ut[84+(Ut[o>>2]+(l<<2)|0)>>2],_e=t,me=0;if(Gt(0),1<=(0|_e))for(ue=_e+-1|0;fe=(me<<2)+pe|0,de=Gt(.14127999544143677*n0(12.566370614359172*(de=0|me)/ue)+(-.488290011882782*n0(6.283185307179586*de/ue)+.35874998569488525)+-.011680000461637974*n0(18.84955592153876*de/ue)),jt[fe>>2]=de,(0|(me=me+1|0))!=(0|_e););break r}ke=void 0;var he,be,ve=Ut[84+(Ut[o>>2]+(l<<2)|0)>>2],ge=t,ke=0;if(1<=(0|ge))for(be=.5*(ge+-1|0);jt[(ke<<2)+ve>>2]=(he=1-(he=((0|ke)-be)/be)*he)*he,(0|(ke=ke+1|0))!=(0|ge););break r}Me=void 0;var Ae,ye,we,Ee,Re,Ce,Se=Ut[84+(Ut[o>>2]+(l<<2)|0)>>2],Te=t,Me=0;if(Gt(0),1<=(0|Te))for(Ae=Te+-1|0;ye=n0(12.566370614359172*(Ce=0|Me)/Ae),we=n0(6.283185307179586*Ce/Ae),Ee=n0(18.84955592153876*Ce/Ae),Re=(Me<<2)+Se|0,Ce=Gt(.0069473679177463055*n0(25.132741228718345*Ce/Ae)+(.27726316452026367*ye+(-.4166315793991089*we+.21557894349098206)+-.08357894420623779*Ee)),jt[Re>>2]=Ce,(0|(Me=Me+1|0))!=(0|Te););break r}Ne=De=Fe=Be=Pe=Ie=Le=xe=void 0;var Pe,Be,Fe,De,xe=Ut[84+(Ut[o>>2]+(l<<2)|0)>>2],Le=t,Ie=jt[n+48>>2],Ne=0;if(Gt(0),1<=(0|Le))for(Be=(Pe=.5*(Le+-1|0))*+Ie;Fe=(Ne<<2)+xe|0,De=Gt((e=>{var t,n,a=0,r=0,i=0,s=0,o=0;r0(+e),i=0|qt[1],n=0|qt[0],t=i>>>31|0;h:{b:{v:{g:{o=e;k:{A:{if(1082532651<=(i=2147483647&(a=i))>>>0){if(2146435072==(0|(a&=2147483647))&0<n>>>0|2146435072<a>>>0)return e;if(709.782712893384<e)return 898846567431158e293*e;if(e<-708.3964185322641&&e<-745.1332191019411)break b}else{if(i>>>0<1071001155)break g;if(i>>>0<1072734898)break A}if(e=1.4426950408889634*e+zt[10448+(t<<3)>>3],Yt(e)<2147483648){a=~~e;break k}a=-2147483648;break k}a=(1^t)-t|0}r=(e=o+-.6931471803691238*(r=0|a))-(s=1.9082149292705877e-10*r);break v}if(i>>>0<=1043333120)break h;a=0,r=e}s=(o=e)+(r*(e=r-(e=r*r)*(e*(e*(e*(4.1381367970572385e-8*e-16533902205465252e-22)+6613756321437934e-20)-.0027777777777015593)+.16666666666666602))/(2-e)-s)+1,a&&(s=p0(s,a))}return s}return e+1})(-.5*(De=((0|Ne)-Pe)/Be)*De)),jt[Fe>>2]=De,(0|(Ne=Ne+1|0))!=(0|Le););break r}Xe=void 0;var Oe,He,qe,Ve=Ut[84+(Ut[o>>2]+(l<<2)|0)>>2],Ue=t,Xe=0;if(Gt(0),1<=(0|Ue))for(Oe=Ue+-1|0;He=(Xe<<2)+Ve|0,qe=Gt(-.46000000834465027*n0(6.283185307179586*(0|Xe)/Oe)+.5400000214576721),jt[He>>2]=qe,(0|(Xe=Xe+1|0))!=(0|Ue););break r}_0(Ut[84+(Ut[o>>2]+(l<<2)|0)>>2],t);break r}Ye=void 0;var Ke,je,ze,We=Ut[84+(Ut[o>>2]+(l<<2)|0)>>2],Ge=t,Ye=0;if(Gt(0),1<=(0|Ge))for(Ke=Ge+-1|0;je=(Ye<<2)+We|0,ze=Gt(.09799999743700027*n0(12.566370614359172*(ze=0|Ye)/Ke)+(-.49799999594688416*n0(6.283185307179586*ze/Ke)+.4020000100135803)+-.0010000000474974513*n0(18.84955592153876*ze/Ke)),jt[je>>2]=ze,(0|(Ye=Ye+1|0))!=(0|Ge););break r}tt=void 0;var Ze,Qe,Je,$e=Ut[84+(Ut[o>>2]+(l<<2)|0)>>2],et=t,tt=0;if(Gt(0),1<=(0|et))for(Ze=et+-1|0;Qe=(tt<<2)+$e|0,Je=Gt(.13659949600696564*n0(12.566370614359172*(Je=0|tt)/Ze)+(-.48917749524116516*n0(6.283185307179586*Je/Ze)+.36358189582824707)+-.010641099885106087*n0(18.84955592153876*Je/Ze)),jt[Qe>>2]=Je,(0|(tt=tt+1|0))!=(0|et););break r}var nt=void 0,at=Ut[84+(Ut[o>>2]+(l<<2)|0)>>2],rt=t,nt=0;if(1<=(0|rt))for(;Ut[(nt<<2)+at>>2]=1065353216,(0|(nt=nt+1|0))!=(0|rt););break r}var it=lt=ot=A=k=g=void 0,st=Ut[84+(Ut[o>>2]+(l<<2)|0)>>2],v=t,g=0,k=0,A=Gt(0),ot=0,lt=Gt(0),it=0,k=1;if(1&v){if(g=(v+1|0)/2|0,1<=(0|v))for(A=Gt(Gt(0|v)+Gt(1)),k=(ot=1<(0|g)?g:1)+1|0,g=1;lt=Gt(0|g),jt[((g<<2)+st|0)-4>>2]=Gt(lt+lt)/A,it=(0|g)==(0|ot),g=g+1|0,!it;);if(!((0|v)<(0|k)))for(A=Gt(Gt(0|v)+Gt(1));jt[((k<<2)+st|0)-4>>2]=Gt(2+(v-k<<1)|0)/A,g=(0|v)==(0|k),k=k+1|0,!g;);}else{if(g=1,2<=(0|v))for(g=1+(ot=v>>>1|0)|0,A=Gt(Gt(0|v)+Gt(1));lt=Gt(0|k),jt[((k<<2)+st|0)-4>>2]=Gt(lt+lt)/A,it=(0|k)==(0|ot),k=k+1|0,!it;);if(!((0|v)<(0|g)))for(A=Gt(Gt(0|v)+Gt(1));jt[((g<<2)+st|0)-4>>2]=Gt(2+(v-g<<1)|0)/A,k=(0|v)!=(0|g),g=g+1|0,k;);}break r}var ct,ut,ft=mt=_t=w=y=void 0,dt=Ut[84+(Ut[o>>2]+(l<<2)|0)>>2],y=t,pt=jt[n+48>>2],w=0,_t=0,mt=0,ft=Gt(0);if(pt<=Gt(0)){if(!((0|y)<1))for(;Ut[(w<<2)+dt>>2]=1065353216,(0|(w=w+1|0))!=(0|y););}else if(pt>=Gt(1)){if(!((0|y)<1))for(_t=y+-1|0;mt=(w<<2)+dt|0,ft=Gt(.5-.5*n0(6.283185307179586*(0|w)/_t)),jt[mt>>2]=ft,(0|(w=w+1|0))!=(0|y););}else{if(pt=Gt(Gt(pt*Gt(.5))*Gt(0|y)),ut=Gt(Yt(pt))<Gt(2147483648)?~~pt:-2147483648,1<=(0|y))for(;Ut[(w<<2)+dt>>2]=1065353216,(0|(w=w+1|0))!=(0|y););if(!((0|ut)<2))for(y=y-ut|0,_t=0|(ct=ut-1|0),w=0;mt=(w<<2)+dt|0,ft=Gt(.5-.5*n0(3.141592653589793*(0|w)/_t)),jt[mt>>2]=ft,mt=(y+w<<2)+dt|0,ft=Gt(.5-.5*n0(3.141592653589793*(w+ct|0)/_t)),jt[mt>>2]=ft,(0|ut)!=(0|(w=w+1|0)););}break r}for(var ht,bt,vt,gt=Et=wt=yt=At=P=M=T=S=C=R=void 0,kt=Ut[84+(Ut[o>>2]+(l<<2)|0)>>2],E=t,R=jt[n+48>>2],C=jt[n+52>>2],S=jt[n+56>>2],T=0,M=0,P=0,At=0,yt=Gt(0),wt=0,Et=0,gt=Gt(0);yt=R,R=Gt(.05000000074505806),yt<=Gt(0)||(R=Gt(.949999988079071),yt>=Gt(1)););if(R=Gt(0|E),C=Gt(R*C),M=Gt(Yt(C))<Gt(2147483648)?~~C:-2147483648,C=Gt(yt*Gt(.5)),R=Gt(R*S),vt=Gt(Yt(R))<Gt(2147483648)?~~R:-2147483648,R=Gt(C*Gt(vt-M|0)),P=Gt(Yt(R))<Gt(2147483648)?~~R:-2147483648,!((0|M)<1|(0|E)<1))for(Jt(kt,4+((ht=(T=M+-1|0)>>>0<(ht=E+-1|0)>>>0?T:ht)<<2)|0),T=ht+1|0;bt=(0|At)==(0|ht),At=At+1|0,!bt;);l:if(!((0|(M=M+P|0))<=(0|T)|(0|E)<=(0|T)))for(wt=0|P,At=1;;){if(Et=(T<<2)+kt|0,gt=Gt(.5-.5*n0(3.141592653589793*(0|At)/wt)),jt[Et>>2]=gt,(0|M)<=(0|(T=T+1|0)))break l;if(At=At+1|0,!((0|T)<(0|E)))break}l:if(!((0|(M=vt-P|0))<=(0|T)|(0|E)<=(0|T)))for(;;){if(Ut[(T<<2)+kt>>2]=1065353216,(0|M)<=(0|(T=T+1|0)))break l;if(!((0|T)<(0|E)))break}l:if(!((0|vt)<=(0|T)|(0|E)<=(0|T)))for(wt=0|P;;){if(Et=(T<<2)+kt|0,gt=Gt(.5-.5*n0(3.141592653589793*(0|P)/wt)),jt[Et>>2]=gt,(0|vt)<=(0|(T=T+1|0)))break l;if(P=P+-1|0,!((0|T)<(0|E)))break}(0|T)<(0|E)&&Jt((T<<2)+kt|0,E-T<<2);break r}for(var Rt,Ct=xt=Dt=Ft=Bt=Pt=Mt=Tt=L=x=D=C=S=F=void 0,St=Ut[84+(Ut[o>>2]+(l<<2)|0)>>2],B=t,F=jt[n+48>>2],S=jt[n+52>>2],C=jt[n+56>>2],D=0,x=0,L=0,Tt=0,Mt=0,Pt=0,Bt=0,Ft=Gt(0),Dt=0,xt=(Gt(0),0),Ct=Gt(0);Ft=F,F=Gt(.05000000074505806),Ft<=Gt(0)||(F=Gt(.949999988079071),Ft>=Gt(1)););if(Rt=F=Gt(Ft*Gt(.5)),Ft=Gt(0|B),S=Gt(Ft*S),Pt=Gt(Yt(S))<Gt(2147483648)?~~S:-2147483648,S=Gt(Rt*Gt(0|Pt)),Tt=(0|(x=Gt(Yt(S))<Gt(2147483648)?~~S:-2147483648))<1,L=B,S=Gt(Ft*C),Mt=Gt(Yt(S))<Gt(2147483648)?~~S:-2147483648,F=Gt(F*Gt(L-Mt|0)),L=Gt(Yt(F))<Gt(2147483648)?~~F:-2147483648,!((0|B)<1|Tt))for(D=x+-1>>>0<B+-1>>>0?x:B,Bt=0|x,Tt=0,Dt=1;xt=(Tt<<2)+St|0,Ct=Gt(.5-.5*n0(3.141592653589793*(0|Dt)/Bt)),jt[xt>>2]=Ct,Dt=Dt+1|0,(0|(Tt=Tt+1|0))!=(0|D););o:if(!((0|(Tt=Pt-x|0))<=(0|D)|(0|B)<=(0|D)))for(;;){if(Ut[(D<<2)+St>>2]=1065353216,(0|Tt)<=(0|(D=D+1|0)))break o;if(!((0|D)<(0|B)))break}o:if(!((0|Pt)<=(0|D)|(0|B)<=(0|D)))for(Bt=0|x;;){if(xt=(D<<2)+St|0,Ct=Gt(.5-.5*n0(3.141592653589793*(0|x)/Bt)),jt[xt>>2]=Ct,(0|Pt)<=(0|(D=D+1|0)))break o;if(x=x+-1|0,!((0|D)<(0|B)))break}o:if(!((0|Mt)<=(0|D)|(0|B)<=(0|D)))for(Jt((D<<2)+St|0,4+(((Pt=(x=-1^D)+Mt|0)>>>0<(x=B+x|0)>>>0?Pt:x)<<2)|0);;){if((0|Mt)<=(0|(D=D+1|0)))break o;if(!((0|D)<(0|B)))break}o:if(!((0|(Mt=L+Mt|0))<=(0|D)|(0|B)<=(0|D)))for(Bt=0|L,x=1;;){if(xt=(D<<2)+St|0,Ct=Gt(.5-.5*n0(3.141592653589793*(0|x)/Bt)),jt[xt>>2]=Ct,(0|Mt)<=(0|(D=D+1|0)))break o;if(x=x+1|0,!((0|D)<(0|B)))break}o:if(!((0|(x=B-L|0))<=(0|D)|(0|B)<=(0|D)))for(;;){if(Ut[(D<<2)+St>>2]=1065353216,(0|x)<=(0|(D=D+1|0)))break o;if(!((0|D)<(0|B)))break}if((0|D)<(0|B))for(Bt=0|L;xt=(D<<2)+St|0,Ct=Gt(.5-.5*n0(3.141592653589793*(0|L)/Bt)),jt[xt>>2]=Ct,L=L+-1|0,(0|(D=D+1|0))!=(0|B););break r}Ht=void 0;var Lt,It,Nt=Ut[84+(Ut[o>>2]+(l<<2)|0)>>2],Ot=t,Ht=0;if(1<=(0|Ot))for(Lt=.5*(Ot+-1|0);jt[(Ht<<2)+Nt>>2]=1-(It=((0|Ht)-Lt)/Lt)*It,(0|(Ht=Ht+1|0))!=(0|Ot););break r}_0(Ut[84+(Ut[o>>2]+(l<<2)|0)>>2],t)}if(n=Ut[e>>2],!((l=l+1|0)>>>0<Kt[n+40>>2]))break}l=Ut[o>>2]}Ut[l>>2]=t}if(s=Ut[l+6856>>2],Ut[s+16>>2]=0,Ut[s+8>>2]=8192,Ut[s+12>>2]=0,V=s,s=$t(32768),t=0!=(0|(Ut[V>>2]=s)),a=Ut[e>>2],!t){Ut[a>>2]=8,l=1;break e}if(Ut[a+4>>2]){n=Ut[o>>2],t=Ut[a+36>>2]+(l=1)|0,Ut[n+11796>>2]=t;r:if(Ut[a+24>>2]){if(t=c0(4,t),Ut[Ut[e+4>>2]+11764>>2]=t,a=Ut[e>>2],t)for(;;){if(n=Ut[o>>2],l>>>0>=Kt[a+24>>2])break r;if(t=c0(4,Ut[n+11796>>2]),Ut[11764+(Ut[e+4>>2]+(l<<2)|0)>>2]=t,l=l+1|0,a=Ut[e>>2],!t)break}Ut[a>>2]=8,l=1;break e}if(Ut[n+11800>>2]=0,!((n=Ut[n+11752>>2])||(n=u0(),Ut[Ut[o>>2]+11752>>2]=n))){Ut[Ut[e>>2]>>2]=3,l=1;break e}if(t=f0(n,18,0,0,0,0,19,20,21,e),a=Ut[e>>2],t)break n;n=!Ut[a+4>>2]}else n=1;if(t=Ut[o>>2],Ut[t+7312>>2]=0,Ut[t+7316>>2]=0,Ut[t+7292>>2]=0,Ut[(r=t+11816|0)>>2]=0,Ut[r+4>>2]=0,Ut[(r=t+11824|0)>>2]=0,Ut[r+4>>2]=0,Ut[(r=t+11832|0)>>2]=0,Ut[r+4>>2]=0,Ut[t+11840>>2]=0,Ut[a+624>>2]=0,Ut[a+628>>2]=0,Ut[a+616>>2]=0,Ut[a+620>>2]=0,Ut[a+608>>2]=0,Ut[a+612>>2]=0,n||(Ut[t+11756>>2]=0),!t0(Ut[t+6856>>2],Ut[1354],Ut[1355])){Ut[Ut[e>>2]>>2]=7,l=1;break e}if(l=1,!h0(e,0,0))break e;if(t=Ut[e+4>>2],n=Ut[e>>2],Ut[n+4>>2]&&(Ut[t+11756>>2]=1),Ut[t+6872>>2]=0,Ut[t+6876>>2]=0,Ut[t+6880>>2]=34,Ut[t+6888>>2]=Ut[n+36>>2],Ut[Ut[e+4>>2]+6892>>2]=Ut[Ut[e>>2]+36>>2],Ut[Ut[e+4>>2]+6896>>2]=0,Ut[Ut[e+4>>2]+6900>>2]=0,Ut[Ut[e+4>>2]+6904>>2]=Ut[Ut[e>>2]+32>>2],Ut[Ut[e+4>>2]+6908>>2]=Ut[Ut[e>>2]+24>>2],Ut[Ut[e+4>>2]+6912>>2]=Ut[Ut[e>>2]+28>>2],t=Ut[e>>2],n=Ut[t+596>>2],a=Ut[e+4>>2]+6920|0,Ut[a>>2]=Ut[t+592>>2],Ut[a+4>>2]=n,t=Ut[e+4>>2],Ut[(n=t+6936|0)>>2]=0,Ut[n+4>>2]=0,Ut[(t=t+6928|0)>>2]=0,Ut[t+4>>2]=0,Ut[Ut[e>>2]+12>>2]&&s0(Ut[o>>2]+7060|0),!m0((t=Ut[o>>2])+6872|0,Ut[t+6856>>2])){Ut[Ut[e>>2]>>2]=7;break e}if(!h0(e,0,0))break e;if(Ut[Ut[o>>2]+6896>>2]=-1<<Ut[1358]^-1,t=Ut[o>>2]+6920|0,Ut[t>>2]=0,Ut[t+4>>2]=0,!u){if(Ut[H>>2]=4,n=Ut[Ut[e>>2]+604>>2],Ut[24+(t=H)>>2]=0,Ut[t+28>>2]=0,Ut[t+16>>2]=0,Ut[t+20>>2]=0,Ut[t+8>>2]=8,Ut[t+4>>2]=!n,!m0(t,Ut[Ut[e+4>>2]+6856>>2])){Ut[Ut[e>>2]>>2]=7;break e}if(!h0(e,0,0))break e}r:if(a=Ut[e>>2],r=Ut[a+604>>2]){for(n=0;;){if(t=Ut[Ut[a+600>>2]+(n<<2)>>2],Ut[t+4>>2]=(r+-1|0)==(0|n),!m0(t,Ut[Ut[o>>2]+6856>>2])){Ut[Ut[e>>2]>>2]=7;break e}if(!h0(e,0,0))break;if(a=Ut[e>>2],(r=Ut[a+604>>2])>>>0<=(n=n+1|0)>>>0)break r}break e}if(t=Ut[o>>2],(n=Ut[t+7272>>2])&&(t=0|Vt[n](e,a+624|0,Ut[t+7288>>2]),a=Ut[e>>2],1==(0|t))){Ut[a>>2]=5;break e}if(l=0,!Ut[a+4>>2])break e;Ut[Ut[o>>2]+11756>>2]=2;break e}Ut[Ut[e>>2]>>2]=2,l=1;break e}Ut[a>>2]=3,l=1;break e}Ut[l>>2]=8,l=1}}}return Zt=176+H|0,l}function h0(e,t,n){var a,r,i,s,o,l,c,u,f,d,p=0,_=0,m=0,h=0,b=0,v=0,g=0;Zt=d=Zt-16|0,_=Ke(Ut[Ut[e+4>>2]+6856>>2],4+d|0,d),p=Ut[e>>2];e:{if(_){if(Ut[p+4>>2])if(p=Ut[e+4>>2],Ut[p+11804>>2]=Ut[4+d>>2],Ut[p+11812>>2]=Ut[d>>2],Ut[p+11756>>2]){if(!Ne(Ut[p+11752>>2])){if(Xe(Ut[Ut[e+4>>2]+6856>>2]),e=Ut[e>>2],4==Ut[e>>2])break e;Ut[e>>2]=3;break e}}else Ut[p+11760>>2]=1;if(r=Ut[d>>2],s=Ut[4+d>>2],Ut[8+d>>2]=0,Ut[12+d>>2]=0,p=Ut[e+4>>2],!(_=Ut[p+7272>>2])||1!=(0|Vt[_](e,8+d|0,Ut[p+7288>>2]))){t:if(!t){switch(127&Xt[0|s]){case 0:p=Ut[12+d>>2],_=Ut[e>>2],Ut[_+608>>2]=Ut[8+d>>2],Ut[_+612>>2]=p;break t;case 3:break;default:break t}p=Ut[e>>2],Ut[p+616>>2]|Ut[p+620>>2]||(_=Ut[12+d>>2],Ut[p+616>>2]=Ut[8+d>>2],Ut[p+620>>2]=_)}m=Ut[e+4>>2];t:if((h=Ut[m+7048>>2])&&(b=Ut[e>>2],(p=Ut[(_=b)+628>>2])|(o=Ut[_+624>>2]))&&(l=Ut[h>>2])&&!(l>>>0<=(v=Ut[m+7292>>2])>>>0))for(_=i=Ut[m+7316>>2],g=1+(_=((a=(c=Ut[m+7312>>2])+(b=u=Ut[b+36>>2])|0)>>>0<b>>>0?_+1|0:_)+-1|0)|0,b=_,b=-1!=(0|(_=a-1|0))?g:b,f=Ut[h+4>>2];;){if(h=f+Wt(v,24)|0,g=Ut[h>>2],(0|b)==(0|(a=Ut[h+4>>2]))&_>>>0<g>>>0|b>>>0<a>>>0)break t;if((0|a)==(0|i)&c>>>0<=g>>>0|i>>>0<a>>>0&&(Ut[h>>2]=c,Ut[h+4>>2]=i,a=Ut[8+d>>2],g=Ut[12+d>>2],Ut[h+16>>2]=u,Ut[h+8>>2]=a-o,Ut[h+12>>2]=g-(p+(a>>>0<o>>>0)|0)),(0|(Ut[m+7292>>2]=v=v+1|0))==(0|l))break}if(!(n=Ut[m+7260>>2]?$e(Ut[e>>2]+632|0,s,r,t,Ut[m+7056>>2],n,Ut[m+7276>>2],e,Ut[m+7288>>2]):0|Vt[Ut[m+7276>>2]](e,s,r,t,Ut[m+7056>>2],Ut[m+7288>>2]))){if(n=Ut[e+4>>2],_=Ut[(b=p=n)+7308>>2],(m=r+Ut[p+7304>>2]|0)>>>0<r>>>0&&(_=_+1|0),Ut[b+7304>>2]=m,Ut[p+7308>>2]=_,p=Ut[n+7316>>2],(_=Ut[n+7312>>2]+t|0)>>>0<t>>>0&&(p=p+1|0),Ut[n+7312>>2]=_,Ut[n+7316>>2]=p,p=Ut[(_=n)+7320>>2],n=Ut[n+7056>>2]+(v=1)|0,Ut[_+7320>>2]=n>>>0<p>>>0?p:n,Xe(Ut[Ut[e+4>>2]+6856>>2]),!t)break e;t=Ut[e+4>>2]+6896|0,n=Ut[t>>2],_=t,t=Ut[d>>2],Ut[_>>2]=t>>>0<n>>>0?t:n,n=Ut[e+4>>2]+6900|0,e=Ut[n>>2],Ut[n>>2]=e>>>0<t>>>0?t:e;break e}}Ut[Ut[e>>2]>>2]=5,Xe(Ut[Ut[e+4>>2]+6856>>2]),Ut[Ut[e>>2]>>2]=5}else Ut[p>>2]=8;v=0}return Zt=16+d|0,v}function Tt(e,t,I,n,a,r,i,N,O,H,q){var s,o,l,V,c,U,X,K,j,z,W,G,Y,Z,u,f,d=0,p=0,_=0,m=0,h=0,b=0,v=0,g=0,k=0,A=0,y=0,w=0,E=0,R=0,C=0,S=0,T=0,Q=0,J=0,$=(Gt(0),0),ee=0,te=0;Gt(0),Zt=u=Zt-576|0,o=Ut[(16<Kt[Ut[e>>2]+28>>2]?5644:5640)>>2],p=Ut[n>>2];e:if(Ut[Ut[e+4>>2]+7256>>2]&&(d=-1,3<p>>>0)||(h=Ut[i>>2],Ut[h+4>>2]=r,Ut[h>>2]=1,d=Ut[h+288>>2]+(Ut[1416]+(Ut[1415]+(Ut[1414]+Wt(a,p)|0)|0)|0)|0,!((p=Ut[n>>2])>>>0<4))){_=Ut[e+4>>2],_=4+((31^me(1|(h=p+-4|0)))+a|0)>>>0<=32?0|Vt[Ut[_+7224>>2]](r+16|0,h,416+u|0):0|Vt[Ut[_+7228>>2]](r+16|0,h,416+u|0);t:{n:{a:{r:if(m=Ut[e+4>>2],!(Ut[m+7248>>2]|jt[420+u>>2]!=Gt(0))){if(b=Ut[r>>2],(h=Ut[n>>2])>>>0<=(p=1))break a;for(;;){if((0|b)!=Ut[(p<<2)+r>>2])break r;if(!((p=p+1|0)>>>0<h>>>0))break}break a}if(p=Ut[e>>2],!Ut[m+7252>>2]){h=d;break n}if((h=-1)!=(0|d)){h=d;break t}if(!Ut[p+556>>2])break n;h=d;break t}e=Ut[i+4>>2],Ut[e+4>>2]=b,Ut[e>>2]=0,d=(g=(e=Ut[e+288>>2]+(Ut[1416]+(Ut[1415]+(Ut[1414]+a|0)|0)|0)|0)>>>0<d>>>0)?e:d;break e}if(v=(d=Ut[p+568>>2])?0:_,!((R=(_=d?4:_)>>>0<(d=Ut[n>>2])>>>0?_:d+-1|0)>>>0<v>>>0)){for(T=o+-1|0,Q=Ut[1416],C=Ut[1415],J=Ut[1414],K=Gt(a>>>0);;){if(!(K<=(V=jt[(p=v<<2)+(416+u|0)>>2]))){if($=Ut[(b=(S=!g)<<2)+N>>2],k=Ut[i+b>>2],y=Ut[Ut[e>>2]+572>>2],d=Ut[e+4>>2],_=Ut[d+6852>>2],m=Ut[d+6848>>2],((e,t,n,a)=>{var r=0,i=0;n:{a:{switch(0|n){case 4:if(((n=0)|t)<=0)break a;for(;Ut[a+(i=n<<2)>>2]=(Ut[(r=i+e|0)-16>>2]+(Ut[r>>2]+Wt(Ut[r+-8>>2],6)|0)|0)-(Ut[r+-12>>2]+Ut[r+-4>>2]<<2),(0|(n=n+1|0))!=(0|t););break a;case 3:if(((n=0)|t)<=0)break a;for(;Ut[a+(i=n<<2)>>2]=(Ut[(r=i+e|0)>>2]-Ut[r+-12>>2]|0)+Wt(Ut[r+-8>>2]-Ut[r+-4>>2]|0,3),(0|(n=n+1|0))!=(0|t););break a;case 2:if(((n=0)|t)<=0)break a;for(;Ut[a+(i=n<<2)>>2]=Ut[(r=i+e|0)-8>>2]+(Ut[r>>2]-(Ut[r+-4>>2]<<1)|0),(0|(n=n+1|0))!=(0|t););break a;case 0:break n;case 1:break;default:break a}if(!(((n=0)|t)<=0))for(;Ut[a+(i=n<<2)>>2]=Ut[(r=i+e|0)>>2]-Ut[r+-4>>2],(0|(n=n+1|0))!=(0|t););}return}he(a,e,t<<2)})(d=r+p|0,p=Ut[n>>2]-v|0,v,b=Ut[O+b>>2]),Ut[k+36>>2]=b,Ut[k+12>>2]=$,Ut[k>>2]=2,Ut[k+4>>2]=0,ee=V>Gt(0),d=(E=+V+.5)<4294967296&0<=E?~~E>>>0:0,m=Pt(w=Ut[e+4>>2],b,m,_,p,A=v,(d=ee?d+1|0:1)>>>0<o>>>0?d:T,o,t,I,a,y,k+4|0),Ut[k+16>>2]=v)for(_=k+20|0,d=0;Ut[(p=d<<2)+_>>2]=Ut[r+p>>2],(0|v)!=(0|(d=d+1|0)););g=(p=(d=Ut[k+288>>2]+(Q+(C+(J+(m+Wt(a,v)|0)|0)|0)|0)|0)>>>0<h>>>0)?S:g,h=p?d:h}if(!((v=v+1|0)>>>0<=R>>>0))break}p=Ut[e>>2]}}if((_=Ut[p+556>>2])&&(d=Ut[n>>2],Ut[12+u>>2]=_=_>>>0<d>>>0?_:d+-1|0)&&Ut[p+40>>2])for(U=33-a|0,j=o+-1|0,z=Ut[1413],W=Ut[1412],G=Ut[1416],k=Ut[1415],Y=Ut[1414],R=(E=a>>>0)<18,T=16<a>>>0,Q=17<a>>>0;;){var ne,p=Ut[e+4>>2],ae=(oe=void 0,r),re=Ut[84+(p+(te<<2)|0)>>2],ie=Ut[p+212>>2],se=d,oe=0;if(se)for(;jt[(ne=oe<<2)+ie>>2]=jt[re+ne>>2]*Gt(Ut[ae+ne>>2]),(0|(oe=oe+1|0))!=(0|se););d=Ut[e+4>>2],Vt[Ut[d+7232>>2]](Ut[d+212>>2],Ut[n>>2],Ut[12+u>>2]+1|0,272+u|0);t:if(jt[272+u>>2]!=Gt(0)){_e=L=x=D=F=B=P=void 0;var le,ce,M,ue=272+u|0,fe=12+u|0,de=Ut[e+4>>2]+7628|0,pe=16+u|0,P=0,B=0,F=0,D=0,x=0,L=0,_e=0;Zt=M=Zt-256|0,ce=Ut[fe>>2],L=+jt[ue>>2];n:{for(;;){if((0|B)==(0|ce))break n;if(F=+Gt(-jt[((_e=B+1|0)<<2)+ue>>2]),B){for(le=B>>>1|0,P=0;F-=zt[(P<<3)+M>>3]*+jt[(B-P<<2)+ue>>2],(0|B)!=(0|(P=P+1|0)););if(F/=L,zt[(B<<3)+M>>3]=F,P=0,le)for(;x=zt[(D=(P<<3)+M|0)>>3],zt[D>>3]=x+F*zt[(D=((-1^P)+B<<3)+M|0)>>3],zt[D>>3]=F*x+zt[D>>3],(0|le)!=(0|(P=P+1|0)););1&B&&(x=zt[(D=(le<<3)+M|0)>>3],zt[D>>3]=x+F*x)}else F/=L,zt[(B<<3)+M>>3]=F;for(x=1-F*F,P=0;jt[((B<<7)+de|0)+(P<<2)>>2]=-Gt(zt[(P<<3)+M>>3]),(P=P+1|0)>>>0<=B>>>0;);if(L*=x,zt[(B<<3)+pe>>3]=L,B=_e,0==L)break}Ut[fe>>2]=_e}if(Zt=256+M|0,m=1,p=Ut[12+u>>2],b=Ut[e>>2],Ut[b+568>>2]||(p=((e,t,n,a)=>{var r,i,s=0,o=0,l=0,c=0,u=0,o=1;if(t){for(i=.5/(n>>>0),c=4294967295;c=(r=(s=(s=0<(s=zt[(l<<3)+e>>3])?0<=(s=.5*Me(i*s)/.6931471805599453)?s:0:s<0?1e32:0)*(n-o>>>0)+(Wt(a,o)>>>0))<c)?s:c,u=r?l:u,o=o+1|0,(0|(l=l+1|0))!=(0|t););e=u+1|0}else e=1;return e})(16+(d=u)|0,p,Ut[n>>2],(Ut[b+564>>2]?5:Ut[b+560>>2])+a|0),m=Ut[d+12>>2]=p),(d=Ut[n>>2])>>>0<=p>>>0&&(Ut[12+u>>2]=p=d+-1|0),!(p>>>0<m>>>0))for(;;){n:if(!(E<=(f=0<(f=zt[(16+u|0)+((C=m+-1|0)<<3)>>3])?0<=(f=.5*Me(.5/((d-m|0)>>>0)*f)/.6931471805599453)?f:0:f<0?1e32:0)))for(d=0<f,_=(f+=.5)<4294967296&0<=f?~~f>>>0:0,d=(_=d?_+1|0:1)>>>0<o>>>0,p=Ut[e>>2],Ut[p+564>>2]?(A=5,w=15,Q||14<(b=(-32^me(m))+U|0)>>>0||(w=5<b>>>0?b:5)):A=w=Ut[p+560>>2],J=d?_:j,c=(m<<2)+r|0,S=31^(d=me(m)),X=(-32^d)+U|0;;){if(y=Ut[n>>2],ee=Ut[(d=(_=!g)<<2)+N>>2],s=Ut[i+d>>2],l=Ut[O+d>>2],$=Ut[p+572>>2],p=Ut[e+4>>2],v=Ut[p+6852>>2],b=Ut[p+6848>>2],Z=g,!((e,t,n,a,r)=>{var i,s,o,l,c,u,f,d=0,p=0,_=0;Gt(0),Zt=f=Zt-16|0;a:if(t){for(d=n+-1|0,n=0;p=p<(o=+Gt(Yt(jt[(n<<2)+e>>2])))?o:p,(0|(n=n+1|0))!=(0|t););if(_=2,!(p<=0)){if(l=(i=1<<d)-1|0,s=0-i|0,function e(t,n){var a,r,i=0;if(r0(+t),i=0|qt[1],a=0|qt[0],2047!=(0|(i=(r=i)>>>20&2047))){if(!i)return i=n,n=0==t?0:(t=e(0x10000000000000000*t,n),Ut[n>>2]+-64|0),Ut[i>>2]=n,t;Ut[n>>2]=i+-1022,ye(0,0|a),ye(1,-2146435073&r|1071644672),t=+we()}return t}(p,12+f|0),n=Ut[12+f>>2],Ut[12+f>>2]=n+-1,Ut[r>>2]=d=d-n|0,(0|(n=-1^(_=-1<<Ut[1413]+-1)))<(0|d))d=Ut[r>>2]=n;else if(!((0|_)<=(0|d))){_=1;break a}if((_=0)<=(0|d)){if(!t)break a;for(n=p=0;;){if(d=Te(p+=+Gt(jt[(c=n<<2)+e>>2]*Gt(1<<d))),Ut[a+c>>2]=d=(0|d)<(0|i)?(0|d)<(0|s)?s:d:l,(0|(n=n+1|0))==(0|t))break a;p-=0|d,d=Ut[r>>2]}}if(t)for(u=Gt(1<<(n=0)-d),p=0;d=Te(p+=+Gt(jt[(_=n<<2)+e>>2]/u)),p-=0|(Ut[a+_>>2]=d=(0|d)<(0|i)?(0|d)<(0|s)?s:d:l),(0|(n=n+1|0))!=(0|t););Ut[r>>2]=_=0}}else _=2;return Zt=16+f|0,_})(g=7628+(p+(C<<7)|(d=0))|0,m,p=!R||A>>>0<X>>>0?A:X,448+u|0,444+u|0)){if(y=y-m|0,(g=a+p|0)+S>>>0<=32?(d=Ut[e+4>>2],16<p>>>0|T?Vt[Ut[d+7236>>2]](c,y,448+u|0,m,Ut[444+u>>2],l):Vt[Ut[d+7244>>2]](c,y,448+u|0,m,Ut[444+u>>2],l)):Vt[Ut[Ut[e+4>>2]+7240>>2]](c,y,448+u|0,m,Ut[444+u>>2],l),Ut[s>>2]=3,Ut[s+4>>2]=0,Ut[s+284>>2]=l,Ut[s+12>>2]=ee,v=Pt(Ut[e+4>>2],l,b,v,y,m,J,o,t,I,a,$,s+4|0),Ut[s+20>>2]=p,Ut[s+16>>2]=m,Ut[s+24>>2]=Ut[444+u>>2],he(s+28|0,448+u|0,128),d=0,m)for(;Ut[156+((b=d<<2)+s|0)>>2]=Ut[r+b>>2],(0|m)!=(0|(d=d+1|0)););d=((Ut[s+288>>2]+((((v+Wt(m,g)|0)+Y|0)+k|0)+G|0)|0)+W|0)+z|0}if(g=(p=0!=(0|d)&d>>>0<h>>>0)?_:Z,h=p?d:h,w>>>0<(A=A+1|0)>>>0)break n;p=Ut[e>>2]}if((m=m+1|0)>>>0>Kt[12+u>>2])break t;d=Ut[n>>2]}}if(!((te=te+1|0)>>>0<Kt[Ut[e>>2]+40>>2]))break;d=Ut[n>>2]}d=h}-1==(0|d)&&(e=Ut[n>>2],t=Ut[(g<<2)+i>>2],Ut[t+4>>2]=r,Ut[t>>2]=1,d=Ut[t+288>>2]+(Ut[1416]+(Ut[1415]+(Ut[1414]+Wt(e,a)|0)|0)|0)|0),Ut[H>>2]=g,Ut[q>>2]=d,Zt=576+u|0}function Mt(e,t,n,i,a){var r,s,o,l,c=0,c=1;e:{t:{switch(Ut[i>>2]){case 0:if(r=i+4|0,s=n,o=Ut[i+288>>2],!t0(l=a,Ut[1417]|0!=(0|o),Ut[1416]+(Ut[1415]+Ut[1414]|0)|0)||o&&!Ze(l,o+-1|0)?0:0!=(0|ze(l,Ut[r>>2],s)))break e;break t;case 2:if(((e,t,n,a,r)=>{var i=0;n:if(t0(r,Ut[1419]|0!=(0|a)|Ut[12+e>>2]<<1,Ut[1416]+(Ut[1415]+Ut[1414]|0)|0)&&(!a||Ze(r,a+-1|0))){a:if(Ut[12+e>>2]){for(a=0;;){if(ze(r,Ut[16+((a<<2)+e|0)>>2],n)){if((a=a+1|0)>>>0<Kt[12+e>>2])continue;break a}break}return}if(t0(r,Ut[e>>2],Ut[1405])){if(!(1<Kt[e>>2])){if(!t0(r,Ut[4+e>>2],Ut[1406]))break n;if(!(1<(n=Ut[e>>2])>>>0||(a=t,t=Ut[8+e>>2],ot(r,Ut[32+e>>2],a,Ut[12+e>>2],Ut[t>>2],Ut[t+4>>2],Ut[4+e>>2],1==(0|n)))))break n}i=1}}return i})(i+4|0,t-Ut[i+16>>2]|0,n,Ut[i+288>>2],a))break e;break t;case 3:if(((e,t,n,a,r)=>{var i=0;n:if(t0(r,(Ut[12+e>>2]<<1)-2|Ut[1420]|0!=(0|a),Ut[1416]+(Ut[1415]+Ut[1414]|0)|0)&&(!a||Ze(r,a+-1|0))){a:if(Ut[12+e>>2]){for(a=0;;){if(ze(r,Ut[152+((a<<2)+e|0)>>2],n)){if((a=a+1|0)>>>0<Kt[12+e>>2])continue;break a}break}return}if(t0(r,Ut[16+e>>2]+-1|0,Ut[1412])&&ze(r,Ut[20+e>>2],Ut[1413])){a:if(Ut[12+e>>2]){for(a=0;;){if(ze(r,Ut[24+((a<<2)+e|0)>>2],Ut[16+e>>2])){if((a=a+1|0)>>>0<Kt[12+e>>2])continue;break a}break}return}if(t0(r,Ut[e>>2],Ut[1405])){if(!(1<Kt[e>>2])){if(!t0(r,Ut[4+e>>2],Ut[1406]))break n;if(!(1<(n=Ut[e>>2])>>>0||(a=t,t=Ut[8+e>>2],ot(r,Ut[280+e>>2],a,Ut[12+e>>2],Ut[t>>2],Ut[t+4>>2],Ut[4+e>>2],1==(0|n)))))break n}i=1}}}return i})(i+4|0,t-Ut[i+16>>2]|0,n,Ut[i+288>>2],a))break e;break t;case 1:break;default:break e}if(((e,t,n,a,r)=>{if(e=Ut[(i+4|0)>>2],t0(r,Ut[1418]|0!=(0|a),Ut[1416]+(Ut[1415]+Ut[1414]|0)|0)&&(!a||Ze(r,a+-1|0))){if(!t)return 1;a=0;n:{for(;;){if(!ze(r,Ut[e+(a<<2)>>2],n))break n;if((0|(a=a+1|0))==(0|t))break}return 1}}})(0,t,n,Ut[i+288>>2],a))break e}Ut[Ut[e>>2]>>2]=7,c=0}return c}function Pt(e,t,n,a,r,i,s,o,l,c,u,f,d){var p,_,m,h,b,v,I,g,N,O,H,k,A=0,y=0,w=0,E=0,R=0,C=0,S=0,T=0,M=0,P=0,B=0,F=0,D=0,x=0,q=0,L=0,y=((e,t,n)=>{for(var a=0;(a=e)&&(e=a+-1|0,t>>>a>>>0<=n>>>0););return a})(c,H=r+i|0,i);if(Vt[Ut[e+7220>>2]](t,n,r,i,k=l>>>0<y>>>0?l:y,y,u),f){if((l=u=0)<=(0|y))for(T=1<(l=1<<y)>>>0?l:1,E=H>>>y|0;;){c=A,F=(w<<2)+a|(C=R=0);e:{if(S=E-(P=w?0:i)|0){for(;R=(M=R)|(R=Ut[(c<<2)+t>>2])>>31^R,c=c+1|0,(0|S)!=(0|(C=C+1|0)););if(A=(A+E|0)-P|0,R){c=2+(31^me(R))|0;break e}}c=1}if(Ut[F>>2]=c,(0|T)==(0|(w=w+1|0)))break}if(!((0|y)<=(0|k)))for(t=y;;){for(t=t+-1|0,c=0;w=Ut[(A=(u<<2)+a|0)>>2],A=Ut[A+4>>2],Ut[(l<<2)+a>>2]=A>>>0<w>>>0?w:A,l=l+1|0,u=u+2|0,!((c=c+1|0)>>>t););if(!((0|k)<(0|t)))break}}if((0|y)<(0|k))Ut[d+4>>2]=0,n=6;else{for(O=(_=Ut[1407])+(Wt(s+1|0,r)-(r>>>1|0)|0)|0,b=o+-1|0,v=Ut[1409]+Ut[1408]|0,P=Ut[1406]+Ut[1405]|0,F=s+-1|0;;){e:{T=y,ne(l=11724+(t=Wt(I=!D,12)+e|0)|0,6<y>>>0?y:6),g=(x<<2)+a|0,p=(x<<3)+n|0,N=Ut[t+11728>>2],m=Ut[l>>2];t:if(y){if((h=H>>>T|0)>>>0<=i>>>0)break e;if(q=C=0,M=P,!f)for(;;){if(R=h-(C?0:i)|0,!(A=Ut[4+(t=p+(C<<3)|0)>>2])&268435457<=(E=Ut[t>>2])>>>0|0<A>>>0){if(t=R,16777216==((l=u=0)|A)&0<E>>>0|16777216<A>>>0)y=t,c=0;else if(!(((c=0)|A)==(0|(w=(y=t)>>>25|0))&E>>>0<=(S=t<<7)>>>0|A>>>0<w>>>0))for(;l=l+8|0,w=u<<15|t>>>17,S=t<<15,c=u<<8|t>>>24,t=y=t<<8,u=c,(0|A)==(0|w)&S>>>0<E>>>0|w>>>0<A>>>0;);if(!((0|c)==(0|A)&E>>>0<=y>>>0|A>>>0<c>>>0))for(;l=l+1|0,(0|A)==(0|(c=w=c<<1|(t=y)>>>31))&(t=y=t<<1)>>>0<E>>>0|c>>>0<A>>>0;);}else{if((u=R)<<3>>>(l=0)<(t=E)>>>0)for(;l=l+4|0,c=u<<7,u<<=4,c>>>0<t>>>0;);if(!(t>>>0<=u>>>0))for(;l=l+1|0,(u<<=1)>>>0<t>>>0;);}if(t=31&(u=(l=l>>>0<o>>>0?l:b)+-1|0),t=((_-(R>>>1|0)|0)+Wt(R,l+1|0)|0)+(l?32<=(63&u)>>>0?A>>>t|0:((1<<t)-1&A)<<32-t|E>>>t:E<<1)|0,Ut[m+(C<<2)>>2]=q=-1==(0|t)?q:l,M=t+M|0,(C=C+1|0)>>>T)break t}for(;;){if(R=h-(C?0:i)|0,!(A=Ut[4+(t=p+(C<<3)|0)>>2])&268435457<=(E=Ut[t>>2])>>>0|0<A>>>0){if(t=R,!(16777216==((l=u=0)|A)&0<E>>>0|16777216<A>>>0||((c=0)|A)==(0|(w=(y=t)>>>25|0))&E>>>0<=(S=t<<7)>>>0|A>>>0<w>>>0))for(;l=l+8|0,w=(t=c)<<15|(u=y)>>>17,S=u<<15,c=t<<8,c|=(t=u)>>>24,y=t<<=8,u=c,(0|A)==(0|w)&S>>>0<E>>>0|w>>>0<A>>>0;);if(!((0|u)==(0|A)&E>>>0<=t>>>0|A>>>0<u>>>0))for(;l=l+1|0,(0|A)==(0|(u=w=u<<1|t>>>31))&(t<<=1)>>>0<E>>>0|u>>>0<A>>>0;);}else{if((u=R)<<3>>>(l=0)<(t=E)>>>0)for(;l=l+4|0,c=u<<7,u<<=4,c>>>0<t>>>0;);if(!(t>>>0<=u>>>0))for(;l=l+1|0,(u<<=1)>>>0<t>>>0;);}if(t=Ut[(c=C<<2)+g>>2],u=Wt(S=t,R)+v|0,t=31&(w=(l=l>>>0<o>>>0?l:b)+-1|0),y=((_-(R>>>1|0)|0)+Wt(R,l+1|0)|0)+(l?32<=(63&w)>>>0?A>>>t|0:((1<<t)-1&A)<<32-t|E>>>t:E<<1)|0,Ut[c+N>>2]=(t=y>>>0<u>>>0)?0:S,Ut[c+m>>2]=t?l:0,M=(t?y:u)+M|0,(C=C+1|0)>>>T)break}}else c=Ut[4+p>>2],l=31&(t=F),u=Ut[p>>2],u=-1==(0|(l=(s?32<=(63&t)>>>0?c>>>l|0:((1<<l)-1&c)<<32-l|u>>>l:u<<1)+O|0))?0:s,f&&(c=Ut[g>>2],y=Wt(c,r)+v|0,Ut[N>>2]=(t=l>>>0<y>>>0)?0:c,u=t?u:0,l=t?l:y),Ut[m>>2]=u,M=l+P|0;if(B=(t=L+-1>>>0<M>>>0)?B:T,D=t?D:I,L=t?L:M,y=T+-1|0,x=(1<<T)+x|0,(0|k)<(0|T))continue}break}n=6<(Ut[d+4>>2]=B)>>>0?B:6}ne(t=Ut[d+8>>2],n),n=Wt(D,12)+e|0,he(Ut[t>>2],Ut[n+11724>>2],a=(e=1<<B)<<2),f&&he(Ut[t+4>>2],Ut[n+11728>>2],a),e=1<e>>>0?e:1,n=Ut[1410],t=Ut[t>>2],l=0;e:{for(;;){if(Kt[t+(l<<2)>>2]<n>>>0){if((0|e)!=(0|(l=l+1|0)))continue;break e}break}Ut[d>>2]=1}return L}function Bt(e,t,n){var a,r,i=0,s=0,o=0,l=0,c=0,u=0,f=0;e:{t:{n:{a:{r:{if(!(i=t))return C=(t=e)-Wt(e=(e>>>0)/(n>>>0)|0,n)|0,Qt=S=0,e;if(s=n){if(!((l=s+-1|0)&s))break r;c=0-(l=(me(s)+33|0)-me(i)|0)|0;break n}if(!e)return S=i-Wt(e=(i>>>(C=0))/0|0,0)|0,Qt=0,e;if((i=32-me(i)|0)>>>0<31)break a;break t}if(C=e&l,1==((S=0)|s))break e;return n=31&(i=Ft(s)),e=32<=(63&i)>>>0?t>>>n|(s=0):(s=t>>>n|0,((1<<n)-1&t)<<32-n|e>>>n),Qt=s,e}l=i+1|0,c=63-i|0}if(i=t,o=31&(s=63&l),o=32<=s>>>0?i>>>o|(s=0):(s=i>>>o|0,((1<<o)-1&i)<<32-o|e>>>o),i=31&(c&=63),32<=c>>>0?(t=e<<i,e=0):(t=(1<<i)-1&e>>>32-i|t<<i,e<<=i),l)for((c=-1)!=(0|(i=n+-1|0))&&(c=0);o=(r=u=o<<1|t>>>31)-(a=n&(u=c-((s=s<<1|o>>>31)+(i>>>0<u>>>0)|0)>>31))|0,s=s-(r>>>0<a>>>0)|0,t=t<<1|e>>>31,e=f|e<<1,f=u&=1,l=l+-1|0;);return C=o,S=s,Qt=t<<1|e>>>31,u|e<<1}C=e,S=t,t=e=0}return Qt=t,e}function Ft(e){return e?31-me(e+-1^e)|0:32}function ke(e,t,n,a){var r,i,s,o,l=Wt(c=n>>>16|0,r=(e=e)>>>16|0),c=(65535&(r=((o=Wt(i=65535&n,s=65535&e))>>>16|0)+Wt(r,i)|0))+Wt(c,s)|0,e=(Wt(t,n)+l|0)+Wt(e,a)+(r>>>16)+(c>>>16)|0;return Qt=e,65535&o|c<<16}function Dt(e,t,n){return Bt(e,t,n)}function b0(e,t){return Bt(e,t,588),Qt=S,C}function a0(e,t){var n;return(-1>>>(n=31&t)&e)<<n|(e&-1<<(e=0-t&31))>>>e}function xt(){return c.byteLength/65536|0}})(De,l,G)},instantiate:function(t,e){return{then:function(e){e({instance:new d.Instance(new d.Module(t))})}}},RuntimeError:Error});o=[],"object"!=typeof d&&g("no native wasm support detected");var G=new d.Table({initial:22,maximum:27,element:"anyfunc"}),Y=!1;function p(e,t){e||g("Assertion failed: "+t)}function Z(e){var t=y["_"+e];return p(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function Q(e,t,n,a,r){var i={string:function(e){var t,n=0;return null!=e&&0!==e&&(t=1+(e.length<<2),re(e,n=Oe(t),t)),n},array:function(e){var t=Oe(e.length);return m.set(e,t),t}},e=Z(e),s=[],o=0;if(a)for(var l=0;l<a.length;l++){var c=i[n[l]];c?(0===o&&(o=Ie()),s[l]=c(a[l])):s[l]=a[l]}var u=e=e.apply(null,s);return e="string"===t?ne(u):"boolean"===t?Boolean(u):u,0!==o&&Ne(o),e}var _,m,w,J,h,$,ee,te="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function b(e,t,n){for(var a=t+n,r=t;e[r]&&!(a<=r);)++r;if(16<r-t&&e.subarray&&te)return te.decode(e.subarray(t,r));for(var i="";t<r;){var s,o,l=e[t++];128&l?(o=63&e[t++],192==(224&l)?i+=String.fromCharCode((31&l)<<6|o):(s=63&e[t++],(l=224==(240&l)?(15&l)<<12|o<<6|s:(7&l)<<18|o<<12|s<<6|63&e[t++])<65536?i+=String.fromCharCode(l):(o=l-65536,i+=String.fromCharCode(55296|o>>10,56320|1023&o)))):i+=String.fromCharCode(l)}return i}function ne(e,t){return e?b(w,e,t):""}function ae(e,t,n,a){if(!(0<a))return 0;for(var r=n,i=n+a-1,s=0;s<e.length;++s){var o=e.charCodeAt(s);if((o=55296<=o&&o<=57343?65536+((1023&o)<<10)|1023&e.charCodeAt(++s):o)<=127){if(i<=n)break;t[n++]=o}else{if(o<=2047){if(i<=n+1)break;t[n++]=192|o>>6}else{if(o<=65535){if(i<=n+2)break;t[n++]=224|o>>12}else{if(i<=n+3)break;t[n++]=240|o>>18,t[n++]=128|o>>12&63}t[n++]=128|o>>6&63}t[n++]=128|63&o}}return t[n]=0,n-r}function re(e,t,n){ae(e,w,t,n)}function ie(e){for(var t=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);(a=55296<=a&&a<=57343?65536+((1023&a)<<10)|1023&e.charCodeAt(++n):a)<=127?++t:t+=a<=2047?2:a<=65535?3:4}return t}function se(e){_=e,y.HEAP8=m=new Int8Array(e),y.HEAP16=J=new Int16Array(e),y.HEAP32=h=new Int32Array(e),y.HEAPU8=w=new Uint8Array(e),y.HEAPU16=new Uint16Array(e),y.HEAPU32=new Uint32Array(e),y.HEAPF32=$=new Float32Array(e),y.HEAPF64=ee=new Float64Array(e)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var oe=y.INITIAL_MEMORY||16777216;function le(e){for(;0<e.length;){var t,n=e.shift();"function"==typeof n?n(y):"number"==typeof(t=n.func)?void 0===n.arg?y.dynCall_v(t):y.dynCall_vi(t,n.arg):t(void 0===n.arg?null:n.arg)}}l=y.wasmMemory||new d.Memory({initial:oe/65536,maximum:32768}),(_=l?l.buffer:_).byteLength,se(_),h[3544]=5257216;var ce=[],ue=[],fe=[],de=[];var pe=Math.abs,_e=Math.ceil,me=Math.floor,he=Math.min,v=0,be=null,ve=null;function ge(){v++,y.monitorRunDependencies&&y.monitorRunDependencies(v)}function ke(){var e;v--,y.monitorRunDependencies&&y.monitorRunDependencies(v),0==v&&(null!==be&&(clearInterval(be),be=null),ve)&&(e=ve,ve=null,e())}function g(e){throw y.onAbort&&y.onAbort(e),u(e+=""),f(e),Y=!0,new d.RuntimeError(e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.")}function Ae(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}y.preloadedImages={},y.preloadedAudios={};var ye="data:application/octet-stream;base64,";function we(e){return Ae(e,ye)}function Ee(e){return Ae(e,"file://")}var k,A,E="' + window.AUDIOMASS_BASE_PATH + 'libflac.wasm";function Re(){try{if(o)return new Uint8Array(o);var e=B(E);if(e)return e;if(r)return r(E);throw"both async and sync fetching of the wasm failed"}catch(e){g(e)}}we(E)||(oe=E,E=y.locateFile?y.locateFile(oe,t):t+oe),ue.push({func:function(){xe()}});var R={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,a=e.length-1;0<=a;a--){var r=e[a];"."===r?e.splice(a,1):".."===r?(e.splice(a,1),n++):n&&(e.splice(a,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return(e=(e=R.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"))||t?e:".")&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=(e=R.splitPath(e))[0],e=e[1];return t||e?t+(e&&e.substr(0,e.length-1)):"."},basename:function(e){var t;return"/"===e?"/":-1===(t=e.lastIndexOf("/"))?e:e.substr(t+1)},extname:function(e){return R.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return R.normalize(e.join("/"))},join2:function(e,t){return R.normalize(e+"/"+t)}};function Ce(e){return h[Le()>>2]=e}var C={resolve:function(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){var a=0<=n?arguments[n]:M.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");if(!a)return"";e=a+"/"+e,t="/"===a.charAt(0)}return(t?"/":"")+R.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/")||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;0<=n&&""===e[n];n--);return n<t?[]:e.slice(t,n-t+1)}e=C.resolve(e).substr(1),t=C.resolve(t).substr(1);for(var a=n(e.split("/")),r=n(t.split("/")),i=Math.min(a.length,r.length),s=i,o=0;o<i;o++)if(a[o]!==r[o]){s=o;break}for(var l=[],o=s;o<a.length;o++)l.push("..");return(l=l.concat(r.slice(s))).join("/")}},S={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){S.ttys[e]={input:[],output:[],ops:t},M.registerDevice(e,S.stream_ops)},stream_ops:{open:function(e){var t=S.ttys[e.node.rdev];if(!t)throw new M.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,n,a,r){if(!e.tty||!e.tty.ops.get_char)throw new M.ErrnoError(60);for(var i,s=0,o=0;o<a;o++){try{i=e.tty.ops.get_char(e.tty)}catch(e){throw new M.ErrnoError(29)}if(void 0===i&&0===s)throw new M.ErrnoError(6);if(null==i)break;s++,t[n+o]=i}return s&&(e.node.timestamp=Date.now()),s},write:function(e,t,n,a,r){if(!e.tty||!e.tty.ops.put_char)throw new M.ErrnoError(60);try{for(var i=0;i<a;i++)e.tty.ops.put_char(e.tty,t[n+i])}catch(e){throw new M.ErrnoError(29)}return a&&(e.node.timestamp=Date.now()),i}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(i){var n=Buffer.alloc?Buffer.alloc(256):new Buffer(256),a=0;try{a=V.readSync(process.stdin.fd,n,0,256,null)}catch(e){if(-1==e.toString().indexOf("EOF"))throw e;a=0}t=0<a?n.slice(0,a).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=Me(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(u(b(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(u(b(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(f(b(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(f(b(e.output,0)),e.output=[])}}},T={ops_table:null,mount:function(e){return T.createNode(null,"/",16895,0)},createNode:function(e,t,n,a){if(M.isBlkdev(n)||M.isFIFO(n))throw new M.ErrnoError(63);return T.ops_table||(T.ops_table={dir:{node:{getattr:T.node_ops.getattr,setattr:T.node_ops.setattr,lookup:T.node_ops.lookup,mknod:T.node_ops.mknod,rename:T.node_ops.rename,unlink:T.node_ops.unlink,rmdir:T.node_ops.rmdir,readdir:T.node_ops.readdir,symlink:T.node_ops.symlink},stream:{llseek:T.stream_ops.llseek}},file:{node:{getattr:T.node_ops.getattr,setattr:T.node_ops.setattr},stream:{llseek:T.stream_ops.llseek,read:T.stream_ops.read,write:T.stream_ops.write,allocate:T.stream_ops.allocate,mmap:T.stream_ops.mmap,msync:T.stream_ops.msync}},link:{node:{getattr:T.node_ops.getattr,setattr:T.node_ops.setattr,readlink:T.node_ops.readlink},stream:{}},chrdev:{node:{getattr:T.node_ops.getattr,setattr:T.node_ops.setattr},stream:M.chrdev_stream_ops}}),n=M.createNode(e,t,n,a),M.isDir(n.mode)?(n.node_ops=T.ops_table.dir.node,n.stream_ops=T.ops_table.dir.stream,n.contents={}):M.isFile(n.mode)?(n.node_ops=T.ops_table.file.node,n.stream_ops=T.ops_table.file.stream,n.usedBytes=0,n.contents=null):M.isLink(n.mode)?(n.node_ops=T.ops_table.link.node,n.stream_ops=T.ops_table.link.stream):M.isChrdev(n.mode)&&(n.node_ops=T.ops_table.chrdev.node,n.stream_ops=T.ops_table.chrdev.stream),n.timestamp=Date.now(),e&&(e.contents[t]=n),n},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],n=0;n<e.usedBytes;++n)t.push(e.contents[n]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var n=e.contents?e.contents.length:0;t<=n||(t=Math.max(t,n*(n<1048576?2:1.125)>>>0),0!=n&&(t=Math.max(t,256)),n=e.contents,e.contents=new Uint8Array(t),0<e.usedBytes&&e.contents.set(n.subarray(0,e.usedBytes),0))},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var n;if(!e.contents||e.contents.subarray)n=e.contents,e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes)));else if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=M.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,M.isDir(e.mode)?t.size=4096:M.isFile(e.mode)?t.size=e.usedBytes:M.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&T.resizeFileStorage(e,t.size)},lookup:function(e,t){throw M.genericErrors[44]},mknod:function(e,t,n,a){return T.createNode(e,t,n,a)},rename:function(e,t,n){if(M.isDir(e.mode)){var a;try{a=M.lookupNode(t,n)}catch(e){}if(a)for(var r in a.contents)throw new M.ErrnoError(55)}delete e.parent.contents[e.name],(t.contents[e.name=n]=e).parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){for(var n in M.lookupNode(e,t).contents)throw new M.ErrnoError(55);delete e.contents[t]},readdir:function(e){var t,n=[".",".."];for(t in e.contents)e.contents.hasOwnProperty(t)&&n.push(t);return n},symlink:function(e,t,n){return(e=T.createNode(e,t,41471,0)).link=n,e},readlink:function(e){if(M.isLink(e.mode))return e.link;throw new M.ErrnoError(28)}},stream_ops:{read:function(e,t,n,a,r){var i=e.node.contents;if(r>=e.node.usedBytes)return 0;var s=Math.min(e.node.usedBytes-r,a);if(8<s&&i.subarray)t.set(i.subarray(r,r+s),n);else for(var o=0;o<s;o++)t[n+o]=i[r+o];return s},write:function(e,t,n,a,r,i){if(t.buffer===m.buffer&&(i=!1),!a)return 0;var s=e.node;if(s.timestamp=Date.now(),t.subarray&&(!s.contents||s.contents.subarray)){if(i)return s.contents=t.subarray(n,n+a),s.usedBytes=a;if(0===s.usedBytes&&0===r)return s.contents=t.slice(n,n+a),s.usedBytes=a;if(r+a<=s.usedBytes)return s.contents.set(t.subarray(n,n+a),r),a}if(T.expandFileStorage(s,r+a),s.contents.subarray&&t.subarray)s.contents.set(t.subarray(n,n+a),r);else for(var o=0;o<a;o++)s.contents[r+o]=t[n+o];return s.usedBytes=Math.max(s.usedBytes,r+a),a},llseek:function(e,t,n){if(1===n?t+=e.position:2===n&&M.isFile(e.node.mode)&&(t+=e.node.usedBytes),t<0)throw new M.ErrnoError(28);return t},allocate:function(e,t,n){T.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,a,r,i){if(p(0===t),!M.isFile(e.node.mode))throw new M.ErrnoError(43);var s,o,t=e.node.contents;if(2&i||t.buffer!==_){if((0<a||a+n<t.length)&&(t=t.subarray?t.subarray(a,a+n):Array.prototype.slice.call(t,a,a+n)),o=!0,!(s=He(n)))throw new M.ErrnoError(48);m.set(t,s)}else o=!1,s=t.byteOffset;return{ptr:s,allocated:o}},msync:function(e,t,n,a,r){if(M.isFile(e.node.mode))return 2&r||T.stream_ops.write(e,t,0,a,n,!1),0;throw new M.ErrnoError(43)}}},M={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(e instanceof M.ErrnoError)return Ce(e.errno);throw e+" : "+(e=(()=>{var t=new Error;if(!t.stack){try{throw new Error}catch(e){t=e}if(!t.stack)return"(no stack trace available)"}return t.stack.toString()})(),y.extraStackTrace&&(e+="\n"+y.extraStackTrace()),e.replace(/\b_Z[\w\d_]+/g,function(e){return e==e?e:e+" ["+e+"]"}))},lookupPath:function(e,t){if(t=t||{},!(e=C.resolve(M.cwd(),e)))return{path:"",node:null};var n,a={follow_mount:!0,recurse_count:0};for(n in a)void 0===t[n]&&(t[n]=a[n]);if(8<t.recurse_count)throw new M.ErrnoError(32);for(var r=R.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),i=M.root,s="/",o=0;o<r.length;o++){var l=o===r.length-1;if(l&&t.parent)break;if(i=M.lookupNode(i,r[o]),s=R.join2(s,r[o]),!M.isMountpoint(i)||l&&!t.follow_mount||(i=i.mounted.root),!l||t.follow)for(var c=0;M.isLink(i.mode);){var u=M.readlink(s),s=C.resolve(R.dirname(s),u),i=M.lookupPath(s,{recurse_count:t.recurse_count}).node;if(40<c++)throw new M.ErrnoError(32)}}return{path:s,node:i}},getPath:function(e){for(var t,n;;){if(M.isRoot(e))return n=e.mount.mountpoint,t?"/"!==n[n.length-1]?n+"/"+t:n+t:n;t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var n=0,a=0;a<t.length;a++)n=(n<<5)-n+t.charCodeAt(a)|0;return(e+n>>>0)%M.nameTable.length},hashAddNode:function(e){var t=M.hashName(e.parent.id,e.name);e.name_next=M.nameTable[t],M.nameTable[t]=e},hashRemoveNode:function(e){var t=M.hashName(e.parent.id,e.name);if(M.nameTable[t]===e)M.nameTable[t]=e.name_next;else for(var n=M.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){if(n=M.mayLookup(e))throw new M.ErrnoError(n,e);for(var n=M.hashName(e.id,t),a=M.nameTable[n];a;a=a.name_next){var r=a.name;if(a.parent.id===e.id&&r===t)return a}return M.lookup(e,t)},createNode:function(e,t,n,a){return e=new M.FSNode(e,t,n,a),M.hashAddNode(e),e},destroyNode:function(e){M.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=M.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return M.ignorePermissions||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){return M.nodePermissions(e,"x")||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return M.lookupNode(e,t),20}catch(e){}return M.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var a;try{a=M.lookupNode(e,t)}catch(e){return e.errno}if(t=M.nodePermissions(e,"wx"))return t;if(n){if(!M.isDir(a.mode))return 54;if(M.isRoot(a)||M.getPath(a)===M.cwd())return 10}else if(M.isDir(a.mode))return 31;return 0},mayOpen:function(e,t){return e?M.isLink(e.mode)?32:M.isDir(e.mode)&&("r"!==M.flagsToPermissionString(t)||512&t)?31:M.nodePermissions(e,M.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){t=t||M.MAX_OPEN_FDS;for(var n=e=e||0;n<=t;n++)if(!M.streams[n])return n;throw new M.ErrnoError(33)},getStream:function(e){return M.streams[e]},createStream:function(e,t,n){M.FSStream||(M.FSStream=function(){},M.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var a,r=new M.FSStream;for(a in e)r[a]=e[a];return e=r,t=M.nextfd(t,n),e.fd=t,M.streams[t]=e},closeStream:function(e){M.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=M.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new M.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){M.devices[e]={stream_ops:t}},getDevice:function(e){return M.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var a=n.pop();t.push(a),n.push.apply(n,a.mounts)}return t},syncfs:function(t,n){"function"==typeof t&&(n=t,t=!1),M.syncFSRequests++,1<M.syncFSRequests&&f("warning: "+M.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var a=M.getMounts(M.root.mount),r=0;function i(e){return M.syncFSRequests--,n(e)}function s(e){if(e)return s.errored?void 0:(s.errored=!0,i(e));++r>=a.length&&i(null)}a.forEach(function(e){if(!e.type.syncfs)return s(null);e.type.syncfs(e,t,s)})},mount:function(e,t,n){var a,r="/"===n,i=!n;if(r&&M.root)throw new M.ErrnoError(10);if(!r&&!i){if(n=(i=M.lookupPath(n,{follow_mount:!1})).path,M.isMountpoint(a=i.node))throw new M.ErrnoError(10);if(!M.isDir(a.mode))throw new M.ErrnoError(54)}return((t=e.mount(i={type:e,opts:t,mountpoint:n,mounts:[]})).mount=i).root=t,r?M.root=t:a&&(a.mounted=i,a.mount)&&a.mount.mounts.push(i),t},unmount:function(e){if(e=M.lookupPath(e,{follow_mount:!1}),!M.isMountpoint(e.node))throw new M.ErrnoError(28);var t=(e=e.node).mounted,a=M.getMounts(t),t=(Object.keys(M.nameTable).forEach(function(e){for(var t=M.nameTable[e];t;){var n=t.name_next;-1!==a.indexOf(t.mount)&&M.destroyNode(t),t=n}}),e.mounted=null,e.mount.mounts.indexOf(t));e.mount.mounts.splice(t,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var a=M.lookupPath(e,{parent:!0}).node;if(!(e=R.basename(e))||"."===e||".."===e)throw new M.ErrnoError(28);var r=M.mayCreate(a,e);if(r)throw new M.ErrnoError(r);if(a.node_ops.mknod)return a.node_ops.mknod(a,e,t,n);throw new M.ErrnoError(63)},create:function(e,t){return M.mknod(e,t=4095&(void 0!==t?t:438)|32768,0)},mkdir:function(e,t){return M.mknod(e,t=1023&(void 0!==t?t:511)|16384,0)},mkdirTree:function(e,t){for(var n=e.split("/"),a="",r=0;r<n.length;++r)if(n[r]){a+="/"+n[r];try{M.mkdir(a,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,n){return void 0===n&&(n=t,t=438),M.mknod(e,t|=8192,n)},symlink:function(e,t){if(!C.resolve(e))throw new M.ErrnoError(44);var n=M.lookupPath(t,{parent:!0}).node;if(!n)throw new M.ErrnoError(44);var t=R.basename(t),a=M.mayCreate(n,t);if(a)throw new M.ErrnoError(a);if(n.node_ops.symlink)return n.node_ops.symlink(n,t,e);throw new M.ErrnoError(63)},rename:function(e,t){var n,a,r=R.dirname(e),i=R.dirname(t),s=R.basename(e),o=R.basename(t);try{n=M.lookupPath(e,{parent:!0}).node,a=M.lookupPath(t,{parent:!0}).node}catch(n){throw new M.ErrnoError(10)}if(!n||!a)throw new M.ErrnoError(44);if(n.mount!==a.mount)throw new M.ErrnoError(75);var l,c=M.lookupNode(n,s);if("."!==(i=C.relative(e,i)).charAt(0))throw new M.ErrnoError(28);if("."!==(i=C.relative(t,r)).charAt(0))throw new M.ErrnoError(55);try{l=M.lookupNode(a,o)}catch(n){}if(c!==l){if(r=M.isDir(c.mode),i=M.mayDelete(n,s,r))throw new M.ErrnoError(i);if(i=l?M.mayDelete(a,o,r):M.mayCreate(a,o))throw new M.ErrnoError(i);if(!n.node_ops.rename)throw new M.ErrnoError(63);if(M.isMountpoint(c)||l&&M.isMountpoint(l))throw new M.ErrnoError(10);if(a!==n&&(i=M.nodePermissions(n,"w")))throw new M.ErrnoError(i);try{M.trackingDelegate.willMovePath&&M.trackingDelegate.willMovePath(e,t)}catch(n){f("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}M.hashRemoveNode(c);try{n.node_ops.rename(c,a,o)}catch(n){throw n}finally{M.hashAddNode(c)}try{M.trackingDelegate.onMovePath&&M.trackingDelegate.onMovePath(e,t)}catch(n){f("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}}},rmdir:function(e){var t=M.lookupPath(e,{parent:!0}).node,n=R.basename(e),a=M.lookupNode(t,n),r=M.mayDelete(t,n,!0);if(r)throw new M.ErrnoError(r);if(!t.node_ops.rmdir)throw new M.ErrnoError(63);if(M.isMountpoint(a))throw new M.ErrnoError(10);try{M.trackingDelegate.willDeletePath&&M.trackingDelegate.willDeletePath(e)}catch(t){f("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.rmdir(t,n),M.destroyNode(a);try{M.trackingDelegate.onDeletePath&&M.trackingDelegate.onDeletePath(e)}catch(t){f("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){if((e=M.lookupPath(e,{follow:!0}).node).node_ops.readdir)return e.node_ops.readdir(e);throw new M.ErrnoError(54)},unlink:function(e){var t=M.lookupPath(e,{parent:!0}).node,n=R.basename(e),a=M.lookupNode(t,n),r=M.mayDelete(t,n,!1);if(r)throw new M.ErrnoError(r);if(!t.node_ops.unlink)throw new M.ErrnoError(63);if(M.isMountpoint(a))throw new M.ErrnoError(10);try{M.trackingDelegate.willDeletePath&&M.trackingDelegate.willDeletePath(e)}catch(t){f("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.unlink(t,n),M.destroyNode(a);try{M.trackingDelegate.onDeletePath&&M.trackingDelegate.onDeletePath(e)}catch(t){f("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){if(!(e=M.lookupPath(e).node))throw new M.ErrnoError(44);if(e.node_ops.readlink)return C.resolve(M.getPath(e.parent),e.node_ops.readlink(e));throw new M.ErrnoError(28)},stat:function(e,t){if(!(e=M.lookupPath(e,{follow:!t}).node))throw new M.ErrnoError(44);if(e.node_ops.getattr)return e.node_ops.getattr(e);throw new M.ErrnoError(63)},lstat:function(e){return M.stat(e,!0)},chmod:function(e,t,n){if(!(n="string"==typeof e?M.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new M.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&t|-4096&n.mode,timestamp:Date.now()})},lchmod:function(e,t){M.chmod(e,t,!0)},fchmod:function(e,t){if(!(e=M.getStream(e)))throw new M.ErrnoError(8);M.chmod(e.node,t)},chown:function(e,t,n,a){if(!(a="string"==typeof e?M.lookupPath(e,{follow:!a}).node:e).node_ops.setattr)throw new M.ErrnoError(63);a.node_ops.setattr(a,{timestamp:Date.now()})},lchown:function(e,t,n){M.chown(e,t,n,!0)},fchown:function(e,t,n){if(!(e=M.getStream(e)))throw new M.ErrnoError(8);M.chown(e.node,t,n)},truncate:function(e,t){if(t<0)throw new M.ErrnoError(28);if(!(e="string"==typeof e?M.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new M.ErrnoError(63);if(M.isDir(e.mode))throw new M.ErrnoError(31);if(!M.isFile(e.mode))throw new M.ErrnoError(28);var n=M.nodePermissions(e,"w");if(n)throw new M.ErrnoError(n);e.node_ops.setattr(e,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){if(!(e=M.getStream(e)))throw new M.ErrnoError(8);if(0==(2097155&e.flags))throw new M.ErrnoError(28);M.truncate(e.node,t)},utime:function(e,t,n){(e=M.lookupPath(e,{follow:!0}).node).node_ops.setattr(e,{timestamp:Math.max(t,n)})},open:function(e,t,n,a,r){if(""===e)throw new M.ErrnoError(44);if(n=void 0===n?438:n,n=64&(t="string"==typeof t?M.modeStringToFlags(t):t)?4095&n|32768:0,"object"==typeof e)i=e;else{e=R.normalize(e);try{var i=M.lookupPath(e,{follow:!(131072&t)}).node}catch(t){}}var s,o=!1;if(64&t)if(i){if(128&t)throw new M.ErrnoError(20)}else i=M.mknod(e,n,0),o=!0;if(!i)throw new M.ErrnoError(44);if(M.isChrdev(i.mode)&&(t&=-513),65536&t&&!M.isDir(i.mode))throw new M.ErrnoError(54);if(!o&&(n=M.mayOpen(i,t)))throw new M.ErrnoError(n);512&t&&M.truncate(i,0),t&=-131713,(o=M.createStream({node:i,path:M.getPath(i),flags:t,seekable:!0,position:0,stream_ops:i.stream_ops,ungotten:[],error:!1},a,r)).stream_ops.open&&o.stream_ops.open(o),!y.logReadFiles||1&t||(M.readFiles||(M.readFiles={}),e in M.readFiles)||(M.readFiles[e]=1,f("FS.trackingDelegate error on read file: "+e));try{M.trackingDelegate.onOpenFile&&(s=0,1!=(2097155&t)&&(s|=M.tracking.openFlags.READ),0!=(2097155&t)&&(s|=M.tracking.openFlags.WRITE),M.trackingDelegate.onOpenFile(e,s))}catch(t){f("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return o},close:function(e){if(M.isClosed(e))throw new M.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{M.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,n){if(M.isClosed(e))throw new M.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new M.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new M.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,a,r){if(a<0||r<0)throw new M.ErrnoError(28);if(M.isClosed(e))throw new M.ErrnoError(8);if(1==(2097155&e.flags))throw new M.ErrnoError(8);if(M.isDir(e.node.mode))throw new M.ErrnoError(31);if(!e.stream_ops.read)throw new M.ErrnoError(28);var i=void 0!==r;if(i){if(!e.seekable)throw new M.ErrnoError(70)}else r=e.position;return t=e.stream_ops.read(e,t,n,a,r),i||(e.position+=t),t},write:function(e,t,n,a,r,i){if(a<0||r<0)throw new M.ErrnoError(28);if(M.isClosed(e))throw new M.ErrnoError(8);if(0==(2097155&e.flags))throw new M.ErrnoError(8);if(M.isDir(e.node.mode))throw new M.ErrnoError(31);if(!e.stream_ops.write)throw new M.ErrnoError(28);e.seekable&&1024&e.flags&&M.llseek(e,0,2);var s=void 0!==r;if(s){if(!e.seekable)throw new M.ErrnoError(70)}else r=e.position;t=e.stream_ops.write(e,t,n,a,r,i),s||(e.position+=t);try{e.path&&M.trackingDelegate.onWriteToFile&&M.trackingDelegate.onWriteToFile(e.path)}catch(t){f("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+t.message)}return t},allocate:function(e,t,n){if(M.isClosed(e))throw new M.ErrnoError(8);if(t<0||n<=0)throw new M.ErrnoError(28);if(0==(2097155&e.flags))throw new M.ErrnoError(8);if(!M.isFile(e.node.mode)&&!M.isDir(e.node.mode))throw new M.ErrnoError(43);if(!e.stream_ops.allocate)throw new M.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,a,r,i){if(0!=(2&r)&&0==(2&i)&&2!=(2097155&e.flags))throw new M.ErrnoError(2);if(1==(2097155&e.flags))throw new M.ErrnoError(2);if(e.stream_ops.mmap)return e.stream_ops.mmap(e,t,n,a,r,i);throw new M.ErrnoError(43)},msync:function(e,t,n,a,r){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,a,r):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(e.stream_ops.ioctl)return e.stream_ops.ioctl(e,t,n);throw new M.ErrnoError(59)},readFile:function(e,t){if((t=t||{}).flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,a=M.open(e,t.flags),e=M.stat(e).size,r=new Uint8Array(e);return M.read(a,r,0,e,0),"utf8"===t.encoding?n=b(r,0):"binary"===t.encoding&&(n=r),M.close(a),n},writeFile:function(e,t,n){if((n=n||{}).flags=n.flags||"w",e=M.open(e,n.flags,n.mode),"string"==typeof t){var a=new Uint8Array(ie(t)+1),r=ae(t,a,0,a.length);M.write(e,a,0,r,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");M.write(e,t,0,t.byteLength,void 0,n.canOwn)}M.close(e)},cwd:function(){return M.currentPath},chdir:function(e){if(null===(e=M.lookupPath(e,{follow:!0})).node)throw new M.ErrnoError(44);if(!M.isDir(e.node.mode))throw new M.ErrnoError(54);var t=M.nodePermissions(e.node,"x");if(t)throw new M.ErrnoError(t);M.currentPath=e.path},createDefaultDirectories:function(){M.mkdir("/tmp"),M.mkdir("/home"),M.mkdir("/home/web_user")},createDefaultDevices:function(){if(M.mkdir("/dev"),M.registerDevice(M.makedev(1,3),{read:function(){return 0},write:function(e,t,n,a,r){return a}}),M.mkdev("/dev/null",M.makedev(1,3)),S.register(M.makedev(5,0),S.default_tty_ops),S.register(M.makedev(6,0),S.default_tty1_ops),M.mkdev("/dev/tty",M.makedev(5,0)),M.mkdev("/dev/tty1",M.makedev(6,0)),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues)var e=new Uint8Array(1),t=function(){return crypto.getRandomValues(e),e[0]};else if(i)try{var n=N("crypto"),t=function(){return n.randomBytes(1)[0]}}catch(e){}M.createDevice("/dev","random",t=t||function(){g("random_device")}),M.createDevice("/dev","urandom",t),M.mkdir("/dev/shm"),M.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){M.mkdir("/proc"),M.mkdir("/proc/self"),M.mkdir("/proc/self/fd"),M.mount({mount:function(){var e=M.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var n=M.getStream(+t);if(n)return(t={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}}).parent=t;throw new M.ErrnoError(8)}},e}},{},"/proc/self/fd")},createStandardStreams:function(){y.stdin?M.createDevice("/dev","stdin",y.stdin):M.symlink("/dev/tty","/dev/stdin"),y.stdout?M.createDevice("/dev","stdout",null,y.stdout):M.symlink("/dev/tty","/dev/stdout"),y.stderr?M.createDevice("/dev","stderr",null,y.stderr):M.symlink("/dev/tty1","/dev/stderr"),M.open("/dev/stdin","r"),M.open("/dev/stdout","w"),M.open("/dev/stderr","w")},ensureErrnoError:function(){M.ErrnoError||(M.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},M.ErrnoError.prototype=new Error,M.ErrnoError.prototype.constructor=M.ErrnoError,[44].forEach(function(e){M.genericErrors[e]=new M.ErrnoError(e),M.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){M.ensureErrnoError(),M.nameTable=new Array(4096),M.mount(T,{},"/"),M.createDefaultDirectories(),M.createDefaultDevices(),M.createSpecialDirectories(),M.filesystems={MEMFS:T}},init:function(e,t,n){M.init.initialized=!0,M.ensureErrnoError(),y.stdin=e||y.stdin,y.stdout=t||y.stdout,y.stderr=n||y.stderr,M.createStandardStreams()},quit:function(){M.init.initialized=!1;var e=y._fflush;e&&e(0);for(var t=0;t<M.streams.length;t++){var n=M.streams[t];n&&M.close(n)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},joinPath:function(e,t){return e=R.join.apply(null,e),t&&"/"==e[0]?e.substr(1):e},absolutePath:function(e,t){return C.resolve(t,e)},standardizePath:function(e){return R.normalize(e)},findObject:function(e,t){return(e=M.analyzePath(e,t)).exists?e.object:(Ce(e.error),null)},analyzePath:function(e,t){try{e=(a=M.lookupPath(e,{follow:!t})).path}catch(e){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var a=M.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=a.path,n.parentObject=a.node,n.name=R.basename(e),a=M.lookupPath(e,{follow:!t}),n.exists=!0,n.path=a.path,n.object=a.node,n.name=a.node.name,n.isRoot="/"===a.path}catch(e){n.error=e.errno}return n},createFolder:function(e,t,n,a){return e=R.join2("string"==typeof e?e:M.getPath(e),t),t=M.getMode(n,a),M.mkdir(e,t)},createPath:function(e,t,n,a){e="string"==typeof e?e:M.getPath(e);for(var r=t.split("/").reverse();r.length;){var i=r.pop();if(i){var s=R.join2(e,i);try{M.mkdir(s)}catch(e){}e=s}}return s},createFile:function(e,t,n,a,r){return e=R.join2("string"==typeof e?e:M.getPath(e),t),t=M.getMode(a,r),M.create(e,t)},createDataFile:function(e,t,n,a,r,i){if(t=t?R.join2("string"==typeof e?e:M.getPath(e),t):e,e=M.getMode(a,r),a=M.create(t,e),n){if("string"==typeof n){for(var s=new Array(n.length),o=0,l=n.length;o<l;++o)s[o]=n.charCodeAt(o);n=s}M.chmod(a,146|e),r=M.open(a,"w"),M.write(r,n,0,n.length,0,i),M.close(r),M.chmod(a,e)}return a},createDevice:function(e,t,l,s){var e=R.join2("string"==typeof e?e:M.getPath(e),t),t=M.getMode(!!l,!!s),n=(M.createDevice.major||(M.createDevice.major=64),M.makedev(M.createDevice.major++,0));return M.registerDevice(n,{open:function(e){e.seekable=!1},close:function(e){s&&s.buffer&&s.buffer.length&&s(10)},read:function(e,t,n,a,r){for(var i,s=0,o=0;o<a;o++){try{i=l()}catch(e){throw new M.ErrnoError(29)}if(void 0===i&&0===s)throw new M.ErrnoError(6);if(null==i)break;s++,t[n+o]=i}return s&&(e.node.timestamp=Date.now()),s},write:function(e,t,n,a,r){for(var i=0;i<a;i++)try{s(t[n+i])}catch(e){throw new M.ErrnoError(29)}return a&&(e.node.timestamp=Date.now()),i}}),M.mkdev(e,t,n)},createLink:function(e,t,n,a,r){return e=R.join2("string"==typeof e?e:M.getPath(e),t),M.symlink(n,e)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!a)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=Me(a(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||Ce(29),t},createLazyFile:function(e,t,s,n,a){function r(){this.lengthKnown=!1,this.chunks=[]}if(r.prototype.get=function(e){var t;if(!(e>this.length-1||e<0))return t=e%this.chunkSize,e=e/this.chunkSize|0,this.getter(e)[t]},r.prototype.setDataGetter=function(e){this.getter=e},r.prototype.cacheLength=function(){if((n=new XMLHttpRequest).open("HEAD",s,!1),n.send(null),!(200<=n.status&&n.status<300||304===n.status))throw new Error("Couldn't load "+s+". Status: "+n.status);var e,a=Number(n.getResponseHeader("Content-length")),t=(e=n.getResponseHeader("Accept-Ranges"))&&"bytes"===e,n=(e=n.getResponseHeader("Content-Encoding"))&&"gzip"===e,r=1048576,i=(t||(r=a),this);i.setDataGetter(function(e){var t=e*r,n=(e+1)*r-1,n=Math.min(n,a-1);if(void 0===i.chunks[e]&&(i.chunks[e]=((e,t)=>{if(t<e)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(a-1<t)throw new Error("only "+a+" bytes available! programmer error!");var n=new XMLHttpRequest;if(n.open("GET",s,!1),a!==r&&n.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(n.responseType="arraybuffer"),n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.send(null),200<=n.status&&n.status<300||304===n.status)return void 0!==n.response?new Uint8Array(n.response||[]):Me(n.responseText||"",!0);throw new Error("Couldn't load "+s+". Status: "+n.status)})(t,n)),void 0===i.chunks[e])throw new Error("doXHR failed!");return i.chunks[e]}),!n&&a||(r=a=1,a=this.getter(0).length,r=a,u("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=a,this._chunkSize=r,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!c)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var i=new r,i=(Object.defineProperties(i,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}}),{isDevice:!1,contents:i})}else i={isDevice:!1,url:s};var l=M.createFile(e,t,i,n,a),o=(i.contents?l.contents=i.contents:i.url&&(l.contents=null,l.url=i.url),Object.defineProperties(l,{usedBytes:{get:function(){return this.contents.length}}}),{});return Object.keys(l.stream_ops).forEach(function(e){var t=l.stream_ops[e];o[e]=function(){if(M.forceLoadFile(l))return t.apply(null,arguments);throw new M.ErrnoError(29)}}),o.read=function(e,t,n,a,r){if(!M.forceLoadFile(l))throw new M.ErrnoError(29);var i=e.node.contents;if(r>=i.length)return 0;var s=Math.min(i.length-r,a);if(i.slice)for(var o=0;o<s;o++)t[n+o]=i[r+o];else for(o=0;o<s;o++)t[n+o]=i.get(r+o);return s},l.stream_ops=o,l},createPreloadedFile:function(r,i,e,s,o,l,c,u,f,d){Browser.init();var p=i?C.resolve(R.join2(r,i)):r;function t(t){function n(e){d&&d(),u||M.createDataFile(r,i,e,s,o,f),l&&l(),ke()}var a=!1;y.preloadPlugins.forEach(function(e){a||e.canHandle(p)&&(e.handle(t,p,n,function(){c&&c(),ke()}),a=!0)}),a||n(t)}ge(),"string"==typeof e?Browser.asyncLoad(e,function(e){t(e)},c):t(e)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(s,o,l){o=o||function(){},l=l||function(){};var e=M.indexedDB();try{var c=e.open(M.DB_NAME(),M.DB_VERSION)}catch(e){return l(e)}c.onupgradeneeded=function(){u("creating db"),c.result.createObjectStore(M.DB_STORE_NAME)},c.onsuccess=function(){var e=c.result.transaction([M.DB_STORE_NAME],"readwrite"),t=e.objectStore(M.DB_STORE_NAME),n=0,a=0,r=s.length;function i(){(0==a?o:l)()}s.forEach(function(e){(e=t.put(M.analyzePath(e).object.contents,e)).onsuccess=function(){++n+a==r&&i()},e.onerror=function(){n+ ++a==r&&i()}}),e.onerror=l},c.onerror=l},loadFilesFromDB:function(o,l,c){l=l||function(){},c=c||function(){};var e=M.indexedDB();try{var u=e.open(M.DB_NAME(),M.DB_VERSION)}catch(e){return c(e)}u.onupgradeneeded=c,u.onsuccess=function(){var e=u.result;try{var t=e.transaction([M.DB_STORE_NAME],"readonly")}catch(e){return void c(e)}var n=t.objectStore(M.DB_STORE_NAME),a=0,r=0,i=o.length;function s(){(0==r?l:c)()}o.forEach(function(e){var t=n.get(e);t.onsuccess=function(){M.analyzePath(e).exists&&M.unlink(e),M.createDataFile(R.dirname(e),R.basename(e),t.result,!0,!0,!0),++a+r==i&&s()},t.onerror=function(){a+ ++r==i&&s()}}),t.onerror=c},u.onerror=c}},P={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,t){if("/"!==t[0]){var n;if(-100===e)n=M.cwd();else{if(!(e=M.getStream(e)))throw new M.ErrnoError(8);n=e.path}t=R.join2(n,t)}return t},doStat:function(e,t,n){try{var a=e(t)}catch(e){if(e&&e.node&&R.normalize(t)!==R.normalize(M.getPath(e.node)))return-54;throw e}return h[n>>2]=a.dev,h[n+4>>2]=0,h[n+8>>2]=a.ino,h[n+12>>2]=a.mode,h[n+16>>2]=a.nlink,h[n+20>>2]=a.uid,h[n+24>>2]=a.gid,h[n+28>>2]=a.rdev,h[n+32>>2]=0,A=[a.size>>>0,(k=a.size,1<=+pe(k)?0<k?(0|he(+me(k/4294967296),4294967295))>>>0:~~+_e((k-(~~k>>>0))/4294967296)>>>0:0)],h[n+40>>2]=A[0],h[n+44>>2]=A[1],h[n+48>>2]=4096,h[n+52>>2]=a.blocks,h[n+56>>2]=a.atime.getTime()/1e3|0,h[n+60>>2]=0,h[n+64>>2]=a.mtime.getTime()/1e3|0,h[n+68>>2]=0,h[n+72>>2]=a.ctime.getTime()/1e3|0,h[n+76>>2]=0,A=[a.ino>>>0,(k=a.ino,1<=+pe(k)?0<k?(0|he(+me(k/4294967296),4294967295))>>>0:~~+_e((k-(~~k>>>0))/4294967296)>>>0:0)],h[n+80>>2]=A[0],h[n+84>>2]=A[1],0},doMsync:function(e,t,n,a,r){e=w.slice(e,e+n),M.msync(t,e,r,n,a)},doMkdir:function(e,t){return"/"===(e=R.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),M.mkdir(e,t,0),0},doMknod:function(e,t,n){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return M.mknod(e,t,n),0},doReadlink:function(e,t,n){var a,r;return n<=0?-28:(e=M.readlink(e),a=Math.min(n,ie(e)),r=m[t+a],re(e,t,n+1),m[t+a]=r,a)},doAccess:function(e,t){var n;return-8&t?-28:(e=M.lookupPath(e,{follow:!0}).node)?(n="",4&t&&(n+="r"),2&t&&(n+="w"),1&t&&(n+="x"),n&&M.nodePermissions(e,n)?-2:0):-44},doDup:function(e,t,n){var a=M.getStream(n);return a&&M.close(a),M.open(e,t,0,n,n).fd},doReadv:function(e,t,n,a){for(var r=0,i=0;i<n;i++){var s=h[t+8*i>>2],o=h[t+(8*i+4)>>2];if((s=M.read(e,m,s,o,a))<0)return-1;if(r+=s,s<o)break}return r},doWritev:function(e,t,n,a){for(var r=0,i=0;i<n;i++){var s=h[t+8*i>>2],o=h[t+(8*i+4)>>2];if((s=M.write(e,m,s,o,a))<0)return-1;r+=s}return r},varargs:void 0,get:function(){return P.varargs+=4,h[P.varargs-4>>2]},getStr:function(e){return ne(e)},getStreamFromFD:function(e){if(e=M.getStream(e))return e;throw new M.ErrnoError(8)},get64:function(e,t){return e}};function Se(e,t,n,a){this.parent=e=e||this,this.mount=e.mount,this.mounted=null,this.id=M.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=a}Object.defineProperties(Se.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return M.isDir(this.mode)}},isDevice:{get:function(){return M.isChrdev(this.mode)}}}),M.FSNode=Se,M.staticInit();var Te=!1;function Me(e,t,n){return n=0<n?n:ie(e)+1,e=ae(e,n=new Array(n),0,n.length),t&&(n.length=e),n}function Pe(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];255<a&&(Te&&p(!1,"Character code "+a+" ("+String.fromCharCode(a)+")  at offset "+n+" not in 0x00-0xFF."),a&=255),t.push(String.fromCharCode(a))}return t.join("")}var Be="function"==typeof atob?atob:function(e){var t,n,a,r,i,s,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");a=o.indexOf(e.charAt(c++)),t=(15&(r=o.indexOf(e.charAt(c++))))<<4|(i=o.indexOf(e.charAt(c++)))>>2,n=(3&i)<<6|(s=o.indexOf(e.charAt(c++))),l+=String.fromCharCode(a<<2|r>>4),64!==i&&(l+=String.fromCharCode(t)),64!==s&&(l+=String.fromCharCode(n)),c<e.length;);return l};function B(e){if(we(e)){var t,e=e.slice(ye.length);if("boolean"==typeof i&&i){try{t=Buffer.from(e,"base64")}catch(n){t=new Buffer(e,"base64")}return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}try{for(var n=Be(e),a=new Uint8Array(n.length),r=0;r<n.length;++r)a[r]=n.charCodeAt(r);return a}catch(n){throw new Error("Converting base64 string to bytes failed.")}}}var Fe,De={emscripten_get_sbrk_ptr:function(){return 14176},emscripten_memcpy_big:function(e,t,n){w.copyWithin(e,t,t+n)},emscripten_resize_heap:function(e){var t=w.length;if(!(2147483648<(e>>>=0)))for(var n=1;n<=4;n*=2){var a=t*(1+.2/n),a=Math.min(a,e+100663296);if((e=>{try{return l.grow(e-_.byteLength+65535>>>16),se(l.buffer),1}catch(e){}})(Math.min(2147483648,(0<(a=Math.max(16777216,e,a))%65536&&(a+=65536-a%65536),a))))return!0}return!1},fd_close:function(e){try{var t=P.getStreamFromFD(e);return M.close(t),0}catch(e){return void 0!==M&&e instanceof M.ErrnoError||g(e),e.errno}},fd_read:function(e,t,n,a){try{var r=P.getStreamFromFD(e),i=P.doReadv(r,t,n);return h[a>>2]=i,0}catch(e){return void 0!==M&&e instanceof M.ErrnoError||g(e),e.errno}},fd_seek:function(e,t,n,a,r){try{var i=P.getStreamFromFD(e),s=4294967296*n+(t>>>0),o=9007199254740992;return s<=-o||o<=s?-61:(M.llseek(i,s,a),A=[i.position>>>0,(k=i.position,1<=+pe(k)?0<k?(0|he(+me(k/4294967296),4294967295))>>>0:~~+_e((k-(~~k>>>0))/4294967296)>>>0:0)],h[r>>2]=A[0],h[r+4>>2]=A[1],i.getdents&&0==s&&0===a&&(i.getdents=null),0)}catch(e){return void 0!==M&&e instanceof M.ErrnoError||g(e),e.errno}},fd_write:function(e,t,n,a){try{var r=P.getStreamFromFD(e),i=P.doWritev(r,t,n);return h[a>>2]=i,0}catch(e){return void 0!==M&&e instanceof M.ErrnoError||g(e),e.errno}},getTempRet0:function(){return W},memory:l,round:function(e){return 0<=(e=+e)?+me(e+.5):+_e(e-.5)},setTempRet0:K,table:G},xe=((()=>{var t={env:De,wasi_snapshot_preview1:De};function n(e,t){e=e.exports,y.asm=e,ke()}function a(e){n(e.instance)}function r(e){return(o||!X&&!c||"function"!=typeof fetch||Ee(E)?new Promise(function(e,t){e(Re())}):fetch(E,{credentials:"same-origin"}).then(function(e){if(e.ok)return e.arrayBuffer();throw"failed to load wasm binary file at '"+E+"'"}).catch(Re)).then(function(e){return d.instantiate(e,t)}).then(e,function(e){f("failed to asynchronously prepare wasm: "+e),g(e)})}if(ge(),y.instantiateWasm)try{return y.instantiateWasm(t,n)}catch(e){return f("Module.instantiateWasm callback failed with error: "+e)}o||"function"!=typeof d.instantiateStreaming||we(E)||Ee(E)||"function"!=typeof fetch?r(a):fetch(E,{credentials:"same-origin"}).then(function(e){return d.instantiateStreaming(e,t).then(a,function(e){return f("wasm streaming compile failed: "+e),f("falling back to ArrayBuffer instantiation"),r(a)})})})(),y.___wasm_call_ctors=function(){return(xe=y.___wasm_call_ctors=y.asm.__wasm_call_ctors).apply(null,arguments)}),Le=(y._FLAC__stream_decoder_new=function(){return(y._FLAC__stream_decoder_new=y.asm.FLAC__stream_decoder_new).apply(null,arguments)},y._FLAC__stream_decoder_delete=function(){return(y._FLAC__stream_decoder_delete=y.asm.FLAC__stream_decoder_delete).apply(null,arguments)},y._FLAC__stream_decoder_finish=function(){return(y._FLAC__stream_decoder_finish=y.asm.FLAC__stream_decoder_finish).apply(null,arguments)},y._FLAC__stream_decoder_init_stream=function(){return(y._FLAC__stream_decoder_init_stream=y.asm.FLAC__stream_decoder_init_stream).apply(null,arguments)},y._FLAC__stream_decoder_reset=function(){return(y._FLAC__stream_decoder_reset=y.asm.FLAC__stream_decoder_reset).apply(null,arguments)},y._FLAC__stream_decoder_init_ogg_stream=function(){return(y._FLAC__stream_decoder_init_ogg_stream=y.asm.FLAC__stream_decoder_init_ogg_stream).apply(null,arguments)},y._FLAC__stream_decoder_set_ogg_serial_number=function(){return(y._FLAC__stream_decoder_set_ogg_serial_number=y.asm.FLAC__stream_decoder_set_ogg_serial_number).apply(null,arguments)},y._FLAC__stream_decoder_set_md5_checking=function(){return(y._FLAC__stream_decoder_set_md5_checking=y.asm.FLAC__stream_decoder_set_md5_checking).apply(null,arguments)},y._FLAC__stream_decoder_set_metadata_respond=function(){return(y._FLAC__stream_decoder_set_metadata_respond=y.asm.FLAC__stream_decoder_set_metadata_respond).apply(null,arguments)},y._FLAC__stream_decoder_set_metadata_respond_application=function(){return(y._FLAC__stream_decoder_set_metadata_respond_application=y.asm.FLAC__stream_decoder_set_metadata_respond_application).apply(null,arguments)},y._FLAC__stream_decoder_set_metadata_respond_all=function(){return(y._FLAC__stream_decoder_set_metadata_respond_all=y.asm.FLAC__stream_decoder_set_metadata_respond_all).apply(null,arguments)},y._FLAC__stream_decoder_set_metadata_ignore=function(){return(y._FLAC__stream_decoder_set_metadata_ignore=y.asm.FLAC__stream_decoder_set_metadata_ignore).apply(null,arguments)},y._FLAC__stream_decoder_set_metadata_ignore_application=function(){return(y._FLAC__stream_decoder_set_metadata_ignore_application=y.asm.FLAC__stream_decoder_set_metadata_ignore_application).apply(null,arguments)},y._FLAC__stream_decoder_set_metadata_ignore_all=function(){return(y._FLAC__stream_decoder_set_metadata_ignore_all=y.asm.FLAC__stream_decoder_set_metadata_ignore_all).apply(null,arguments)},y._FLAC__stream_decoder_get_state=function(){return(y._FLAC__stream_decoder_get_state=y.asm.FLAC__stream_decoder_get_state).apply(null,arguments)},y._FLAC__stream_decoder_get_md5_checking=function(){return(y._FLAC__stream_decoder_get_md5_checking=y.asm.FLAC__stream_decoder_get_md5_checking).apply(null,arguments)},y._FLAC__stream_decoder_process_single=function(){return(y._FLAC__stream_decoder_process_single=y.asm.FLAC__stream_decoder_process_single).apply(null,arguments)},y._FLAC__stream_decoder_process_until_end_of_metadata=function(){return(y._FLAC__stream_decoder_process_until_end_of_metadata=y.asm.FLAC__stream_decoder_process_until_end_of_metadata).apply(null,arguments)},y._FLAC__stream_decoder_process_until_end_of_stream=function(){return(y._FLAC__stream_decoder_process_until_end_of_stream=y.asm.FLAC__stream_decoder_process_until_end_of_stream).apply(null,arguments)},y._FLAC__stream_encoder_new=function(){return(y._FLAC__stream_encoder_new=y.asm.FLAC__stream_encoder_new).apply(null,arguments)},y._FLAC__stream_encoder_delete=function(){return(y._FLAC__stream_encoder_delete=y.asm.FLAC__stream_encoder_delete).apply(null,arguments)},y._FLAC__stream_encoder_finish=function(){return(y._FLAC__stream_encoder_finish=y.asm.FLAC__stream_encoder_finish).apply(null,arguments)},y._FLAC__stream_encoder_init_stream=function(){return(y._FLAC__stream_encoder_init_stream=y.asm.FLAC__stream_encoder_init_stream).apply(null,arguments)},y._FLAC__stream_encoder_init_ogg_stream=function(){return(y._FLAC__stream_encoder_init_ogg_stream=y.asm.FLAC__stream_encoder_init_ogg_stream).apply(null,arguments)},y._FLAC__stream_encoder_set_ogg_serial_number=function(){return(y._FLAC__stream_encoder_set_ogg_serial_number=y.asm.FLAC__stream_encoder_set_ogg_serial_number).apply(null,arguments)},y._FLAC__stream_encoder_set_verify=function(){return(y._FLAC__stream_encoder_set_verify=y.asm.FLAC__stream_encoder_set_verify).apply(null,arguments)},y._FLAC__stream_encoder_set_channels=function(){return(y._FLAC__stream_encoder_set_channels=y.asm.FLAC__stream_encoder_set_channels).apply(null,arguments)},y._FLAC__stream_encoder_set_bits_per_sample=function(){return(y._FLAC__stream_encoder_set_bits_per_sample=y.asm.FLAC__stream_encoder_set_bits_per_sample).apply(null,arguments)},y._FLAC__stream_encoder_set_sample_rate=function(){return(y._FLAC__stream_encoder_set_sample_rate=y.asm.FLAC__stream_encoder_set_sample_rate).apply(null,arguments)},y._FLAC__stream_encoder_set_compression_level=function(){return(y._FLAC__stream_encoder_set_compression_level=y.asm.FLAC__stream_encoder_set_compression_level).apply(null,arguments)},y._FLAC__stream_encoder_set_blocksize=function(){return(y._FLAC__stream_encoder_set_blocksize=y.asm.FLAC__stream_encoder_set_blocksize).apply(null,arguments)},y._FLAC__stream_encoder_set_total_samples_estimate=function(){return(y._FLAC__stream_encoder_set_total_samples_estimate=y.asm.FLAC__stream_encoder_set_total_samples_estimate).apply(null,arguments)},y._FLAC__stream_encoder_set_metadata=function(){return(y._FLAC__stream_encoder_set_metadata=y.asm.FLAC__stream_encoder_set_metadata).apply(null,arguments)},y._FLAC__stream_encoder_get_state=function(){return(y._FLAC__stream_encoder_get_state=y.asm.FLAC__stream_encoder_get_state).apply(null,arguments)},y._FLAC__stream_encoder_get_verify_decoder_state=function(){return(y._FLAC__stream_encoder_get_verify_decoder_state=y.asm.FLAC__stream_encoder_get_verify_decoder_state).apply(null,arguments)},y._FLAC__stream_encoder_get_verify=function(){return(y._FLAC__stream_encoder_get_verify=y.asm.FLAC__stream_encoder_get_verify).apply(null,arguments)},y._FLAC__stream_encoder_process=function(){return(y._FLAC__stream_encoder_process=y.asm.FLAC__stream_encoder_process).apply(null,arguments)},y._FLAC__stream_encoder_process_interleaved=function(){return(y._FLAC__stream_encoder_process_interleaved=y.asm.FLAC__stream_encoder_process_interleaved).apply(null,arguments)},y.___errno_location=function(){return(Le=y.___errno_location=y.asm.__errno_location).apply(null,arguments)}),Ie=y.stackSave=function(){return(Ie=y.stackSave=y.asm.stackSave).apply(null,arguments)},Ne=y.stackRestore=function(){return(Ne=y.stackRestore=y.asm.stackRestore).apply(null,arguments)},Oe=y.stackAlloc=function(){return(Oe=y.stackAlloc=y.asm.stackAlloc).apply(null,arguments)},He=y._malloc=function(){return(He=y._malloc=y.asm.malloc).apply(null,arguments)},qe=(y._free=function(){return(y._free=y.asm.free).apply(null,arguments)},y.__growWasmMemory=function(){return(qe=y.__growWasmMemory=y.asm.__growWasmMemory).apply(null,arguments)});function Ve(e){function t(){if(!Fe&&(Fe=!0,y.calledRun=!0,!Y)){if(y.noFSInit||M.init.initialized||M.init(),S.init(),le(ue),M.ignorePermissions=!1,le(fe),y.onRuntimeInitialized&&y.onRuntimeInitialized(),y.postRun)for("function"==typeof y.postRun&&(y.postRun=[y.postRun]);y.postRun.length;)e=y.postRun.shift(),de.unshift(e);var e;le(de)}}0<v||((()=>{if(y.preRun)for("function"==typeof y.preRun&&(y.preRun=[y.preRun]);y.preRun.length;)e=y.preRun.shift(),ce.unshift(e);var e;le(ce)})(),0<v)||(y.setStatus?(y.setStatus("Running..."),setTimeout(function(){setTimeout(function(){y.setStatus("")},1),t()},1)):t())}if(y.dynCall_iii=function(){return(y.dynCall_iii=y.asm.dynCall_iii).apply(null,arguments)},y.dynCall_ii=function(){return(y.dynCall_ii=y.asm.dynCall_ii).apply(null,arguments)},y.dynCall_iiii=function(){return(y.dynCall_iiii=y.asm.dynCall_iiii).apply(null,arguments)},y.dynCall_jiji=function(){return(y.dynCall_jiji=y.asm.dynCall_jiji).apply(null,arguments)},y.dynCall_viiiiii=function(){return(y.dynCall_viiiiii=y.asm.dynCall_viiiiii).apply(null,arguments)},y.dynCall_iiiii=function(){return(y.dynCall_iiiii=y.asm.dynCall_iiiii).apply(null,arguments)},y.dynCall_viiiiiii=function(){return(y.dynCall_viiiiiii=y.asm.dynCall_viiiiiii).apply(null,arguments)},y.dynCall_viiii=function(){return(y.dynCall_viiii=y.asm.dynCall_viiii).apply(null,arguments)},y.dynCall_viii=function(){return(y.dynCall_viii=y.asm.dynCall_viii).apply(null,arguments)},y.ccall=Q,y.cwrap=function(e,t,n,a){var r=(n=n||[]).every(function(e){return"number"===e});return"string"!==t&&r&&!a?Z(e):function(){return Q(e,t,n,arguments)}},y.setValue=function(e,t,n,a){switch(n="*"===(n=n||"i8").charAt(n.length-1)?"i32":n){case"i1":case"i8":m[e>>0]=t;break;case"i16":J[e>>1]=t;break;case"i32":h[e>>2]=t;break;case"i64":A=[t>>>0,1<=+pe(k=t)?0<k?(0|he(+me(k/4294967296),4294967295))>>>0:~~+_e((k-(~~k>>>0))/4294967296)>>>0:0],h[e>>2]=A[0],h[e+4>>2]=A[1];break;case"float":$[e>>2]=t;break;case"double":ee[e>>3]=t;break;default:g("invalid type for setValue: "+n)}},y.getValue=function(e,t,n){switch(t="*"===(t=t||"i8").charAt(t.length-1)?"i32":t){case"i1":case"i8":return m[e>>0];case"i16":return J[e>>1];case"i32":case"i64":return h[e>>2];case"float":return $[e>>2];case"double":return ee[e>>3];default:g("invalid type for getValue: "+t)}return null},ve=function e(){Fe||Ve(),Fe||(ve=e)},y.run=Ve,y.preInit)for("function"==typeof y.preInit&&(y.preInit=[y.preInit]);0<y.preInit.length;)y.preInit.pop()();function Ue(e,t,n,a,r){var i=t.offset,s={order:-1,contents:{parameters:[],rawBits:[]}},o=y.getValue(e,"i32"),l=y.getValue(e+(i+=4),"i32"),c=1<<(s.order=l),u=s.contents.parameters,f=s.contents.rawBits,l=y.getValue(e+(i+=4),"i32"),d=y.getValue(l,"i32"),p=y.getValue(l+4,"i32");s.contents.capacityByOrder=y.getValue(l+8,"i32");for(var _=0;_<c;++_)u.push(y.getValue(d+4*_,"i32")),f.push(y.getValue(p+4*_,"i32"));var m,h=y.getValue(e+(i+=4),"i32"),l=(i+=4,[]);if(a){for(var a=y.getValue(e+i,"i32"),b=y.getValue(e+(i+=4),"i32"),v=(i+=4,[]),_=0;_<h;++_)v.push(y.getValue(e+i,"i32")),i+=4;s.qlp_coeff=v,s.qlp_coeff_precision=a,s.quantization_level=b,i=Xe(e,i=t.offset+152,l,h),r&&r.analyseResiduals&&(m=Ke(e+(i=t.offset+280),n,h))}else i=Xe(e,i,l,h),i=t.offset+32,r&&r.analyseResiduals&&(m=Ke(e+i,n,h));return t.offset+=284,{partition:{type:o,data:s},order:h,warmup:l,residual:m}}function Xe(e,t,n,a){for(var r=0;r<a;++r)n.push(y.getValue(e+t,"i32")),t+=4;return t}function Ke(e,t,n){for(var a=y.getValue(e,"i32"),r=[],i=0,s=t-n;i<s;++i)r.push(y.getValue(a+4*i,"i32"));return r}function je(e,t,n){var a;n.splice(0);for(var r=0;r<t&&0!==(a=y.getValue(e+r,"i8"));++r)n.push(String.fromCodePoint(a));return n.join("")}function ze(e,t){t.splice(0);for(var n=1,a=0;0<n&&0!==(n=y.getValue(e+a++,"i8"));)t.push(String.fromCodePoint(n));return t.join("")}Ve();var F={};function We(e,t){if(F[e])return F[e][t]}function D(e,t,n){F[e]||(F[e]={}),F[e][t]=n}function Ge(e){if(F[e])return F[e].options}function Ye(e,t){for(var n,a=at.length-1;0<=a;--a)if((n=at[a])&&n.event===e){t.apply(null,n.args);break}}var Ze=z(function(e,t,n,a,r,i){var s=new Uint8Array(n),t=(s.set(w.subarray(t,t+n)),We(e,"write"));try{t(s,n,a,r,i)}catch(e){return console.error(e),1}return 0}),Qe=z(function(e,t,n,a){var r=y.getValue(n,"i32");return 0===r||(r=(e=We(e,"read")(r,a)).readDataLength,y.setValue(n,r,"i32"),e.error)?2:0===r?1:(a=e.buffer,new Uint8Array(y.HEAPU8.buffer,t,r).set(new Uint8Array(a)),0)}),Je=z(function(e,t,n,a){for(var r=(t=((e,t)=>{var n=y.getValue(e,"i32"),a=y.getValue(e+4,"i32"),r=y.getValue(e+8,"i32"),i=y.getValue(e+12,"i32"),s=y.getValue(e+16,"i32"),o=y.getValue(e+20,"i32"),l=y.getValue(e+24,"i32"),c=y.getValue(e+24,"i64"),l=0===o?l:c,c=0===o?"frames":"samples",o=y.getValue(e+36,"i8");if(t&&t.analyseSubframes)for(var u={offset:40},f=[],d=0;d<r;++d)f.push(((e,t,n,a)=>{var r,i=y.getValue(e+t.offset,"i32");switch(t.offset+=4,i){case 0:r={value:y.getValue(e+t.offset,"i32")},t.offset+=284;break;case 1:r=y.getValue(e+t.offset,"i32"),t.offset+=284;break;case 2:r=Ue(e,t,n,!1,a);break;case 3:r=Ue(e,t,n,!0,a)}var s=y.getValue(e+t.offset,"i32");return t.offset+=4,{type:i,data:r,wastedBits:s}})(e,u,n,t));return{blocksize:n,sampleRate:a,channels:r,channelAssignment:i,bitsPerSample:s,number:l,numberType:c,crc:o,subframes:f}})(t,Ge(e))).channels,i=t.blocksize*(t.bitsPerSample/8),s=24!==t.bitsPerSample,o=t.bitsPerSample/8%2,l=(0<o&&(i+=t.blocksize*o),[]),c=0;c<r;++c){for(var u,f,d,p=A=k=d=f=g=b=void 0,_=y.getValue(n+4*c,"i32"),m=u=new Uint8Array(i),h=s,b=new DataView(m.buffer),v=m.length,g=w.subarray(_,_+v*(h?2:1)),k=0,A=0,p=g.length;k<p&&A<v;++k,++A)k===p-1&&A<v-1&&(p=(g=w.subarray(_,p+v)).length),!h||0!==g[k]&&255!==g[k]?b.setUint8(A,g[k]):(d=!(f=0),k+1<p&&g[k]===g[k+1]&&(++f,k+2<p)&&(g[k]===g[k+2]?++f:d=!1),d?(b.setUint8(A,g[k]),2===f&&k+3<p&&g[k]===g[k+3]&&(++f,b.setUint8(++A,g[k]))):--A,k+=f);l.push(u.subarray(0,i))}return!1!==We(e,"write")(l,t)?0:1}),$e={0:"FLAC__STREAM_DECODER_ERROR_STATUS_LOST_SYNC",1:"FLAC__STREAM_DECODER_ERROR_STATUS_BAD_HEADER",2:"FLAC__STREAM_DECODER_ERROR_STATUS_FRAME_CRC_MISMATCH",3:"FLAC__STREAM_DECODER_ERROR_STATUS_UNPARSEABLE_STREAM"},et=z(function(e,t,n){We(e,"error")(t,$e[t]||"FLAC__STREAM_DECODER_ERROR__UNKNOWN__",n)}),tt=z(function(e,t,n){var a,r,i,s,o,l,c,u,f,d=y.getValue(t,"i32"),p=y.getValue(t+4,"i32"),_=y.getValue(t+8,"i64"),m={type:d,isLast:p,length:_,data:void 0},p=We(e,"metadata");if(0===d)m.data=(f=t+16,{min_blocksize:y.getValue(f,"i32"),max_blocksize:y.getValue(f+4,"i32"),min_framesize:y.getValue(f+8,"i32"),max_framesize:y.getValue(f+12,"i32"),sampleRate:y.getValue(f+16,"i32"),channels:y.getValue(f+20,"i32"),bitsPerSample:y.getValue(f+24,"i32"),total_samples:y.getValue(f+32,"i64"),md5sum:(e=>{for(var t,n=[],a=0;a<16;++a)(t=(t=(t=y.getValue(e+a,"i8"))<0?256+t:t).toString(16)).length<2&&(t="0"+t),n.push(t);return n.join("")})(f+40)}),p(m.data,m);else{switch(d){case 1:a={dummy:y.getValue(u=t+16,"i32")};break;case 2:a=readApplicationMetadata(t+16);break;case 3:a=(e=>{for(var t=y.getValue(e,"i32"),n=y.getValue(e+4,"i32"),a=[],r=0;r<t;++r)a.push({sample_number:y.getValue(n+24*r,"i64"),stream_offset:y.getValue(n+24*r+8,"i64"),frame_samples:y.getValue(n+24*r+16,"i32")});return{num_points:t,points:a}})(t+16);break;case 4:a=(e=>{for(var t,n,a=y.getValue(e,"i32"),r=[],a=je(y.getValue(e+4,"i32"),a,r),i=y.getValue(e+8,"i32"),s=[],o=y.getValue(e+12,"i32"),l=0;l<i;++l)0!==(t=y.getValue(o+8*l,"i32"))&&(n=y.getValue(o+8*l+4,"i32"),s.push(je(n,t,r)));return{vendor_string:a,num_comments:i,comments:s}})(t+16);break;case 5:a=(e=>{var t=[],n=je(e,129,t),a=y.getValue(e+136,"i64"),r=y.getValue(e+144,"i8"),i=y.getValue(e+148,"i32"),s=[],o=e=y.getValue(e+152,"i32");if(0!==e)for(var l=0;l<i;++l){var c=((e,t)=>{var n=y.getValue(e+22,"i8"),a=y.getValue(e+23,"i8"),r=[],t={offset:y.getValue(e,"i64"),number:255&y.getValue(e+8,"i8"),isrc:je(e+9,13,t),type:1&n?"NON_AUDIO":"AUDIO",pre_emphasis:!!(2&n),num_indices:a,indices:r};if(0<a)for(var i=y.getValue(e+24,"i32"),s=0;s<a;++s)r.push({offset:y.getValue(i+16*s,"i64"),number:y.getValue(i+16*s+8,"i8")});return t})(o,t);s.push(c),o+=32}return{media_catalog_number:n,lead_in:a,is_cd:r,num_tracks:i,tracks:s}})(t+16);break;case 6:b=y.getValue(u=t+16,"i32"),r=[],h=ze(y.getValue(u+4,"i32"),r),r=ze(y.getValue(u+8,"i32"),r),i=y.getValue(u+12,"i32"),s=y.getValue(u+16,"i32"),o=y.getValue(u+20,"i32"),l=y.getValue(u+24,"i32"),c=y.getValue(u+28,"i32"),u=y.getValue(u+32,"i32"),a={type:b,mime_type:h,description:r,width:i,height:s,depth:o,colors:l,data_length:c,data:Uint8Array.from(y.HEAPU8.subarray(u,u+c))};break;default:var h,b=Ge(e);b&&b.enableRawMetadata&&(h=Uint8Array.from(w.subarray(t+16,t+16+_)),m.raw=h)}m.data=a,p(void 0,m)}}),nt={},at=[],x=function(e,t,n){L["on"+e]&&L["on"+e].apply(null,t);var a=nt[e];if(a)for(var r=0,i=a.length;r<i;++r)a[r].apply(null,t);n&&at.push({event:e,args:t})},L={_module:y,_clear_enc_cb:function(e){delete F[e]},_clear_dec_cb:function(e){delete F[e]},setOptions:function(e,t){F[e]||(F[e]={}),F[e].options=t},getOptions:Ge,isReady:function(){return H},onready:void 0,on:function(e,t){var n=nt[e];n?n.push(t):nt[e]=n=[t],Ye(e,t)},off:function(e,t){var n=nt[e];if(n)for(var a=n.length-1;0<=a;--a)n[a]===t&&n.splice(a,1)},FLAC__stream_encoder_set_verify:function(e,t){y.ccall("FLAC__stream_encoder_set_verify","number",["number","number"],[e,t=t?1:0])},FLAC__stream_encoder_set_compression_level:y.cwrap("FLAC__stream_encoder_set_compression_level","number",["number","number"]),FLAC__stream_encoder_set_blocksize:y.cwrap("FLAC__stream_encoder_set_blocksize","number",["number","number"]),FLAC__stream_encoder_get_verify_decoder_state:y.cwrap("FLAC__stream_encoder_get_verify_decoder_state","number",["number"]),FLAC__stream_encoder_get_verify:y.cwrap("FLAC__stream_encoder_get_verify","number",["number"]),create_libflac_encoder:function(e,t,n,a,r,i,s){i=void 0===i?1:i+0,r="number"==typeof r?r:0,s="number"==typeof s?s:0;var o=!0,l=y.ccall("FLAC__stream_encoder_new","number",[],[]);return(o&=y.ccall("FLAC__stream_encoder_set_verify","number",["number","number"],[l,i]))&y.ccall("FLAC__stream_encoder_set_compression_level","number",["number","number"],[l,a])&y.ccall("FLAC__stream_encoder_set_channels","number",["number","number"],[l,t])&y.ccall("FLAC__stream_encoder_set_bits_per_sample","number",["number","number"],[l,n])&y.ccall("FLAC__stream_encoder_set_sample_rate","number",["number","number"],[l,e])&y.ccall("FLAC__stream_encoder_set_blocksize","number",["number","number"],[l,s])&y.ccall("FLAC__stream_encoder_set_total_samples_estimate","number",["number","number"],[l,r])?(x("created",[{type:"created",target:{id:l,type:"encoder"}}],!1),l):0},init_libflac_encoder:function(){return console.warn("Flac.init_libflac_encoder() is deprecated, use Flac.create_libflac_encoder() instead!"),this.create_libflac_encoder.apply(this,arguments)},create_libflac_decoder:function(e){e=void 0===e?1:e+0;var t=!0,n=y.ccall("FLAC__stream_decoder_new","number",[],[]);return(t&=y.ccall("FLAC__stream_decoder_set_md5_checking","number",["number","number"],[n,e]))?(x("created",[{type:"created",target:{id:n,type:"decoder"}}],!1),n):0},init_libflac_decoder:function(){return console.warn("Flac.init_libflac_decoder() is deprecated, use Flac.create_libflac_decoder() instead!"),this.create_libflac_decoder.apply(this,arguments)},init_encoder_stream:function(e,t,n,a,r){var i=!0===a;if(r|=0,"function"!=typeof t)return 3;D(e,"write",t);var t=0,n=("function"==typeof n&&(D(e,"metadata",n),t=tt),"FLAC__stream_encoder_init_stream"),s=["number","number","number","number","number","number"],t=[e,Ze,0,0,t,r];return"number"==typeof a?i=!0:i&&(a=1),i&&(n="FLAC__stream_encoder_init_ogg_stream",t.unshift(t[0]),s.unshift(s[t[1]=0]),y.ccall("FLAC__stream_encoder_set_ogg_serial_number",s[1]="number",["number","number"],[e,a])),y.ccall(n,"number",s,t)},init_encoder_ogg_stream:function(e,t,n,a,r){return this.init_encoder_stream(e,t,n,a="number"!=typeof a||a,r)},init_decoder_stream:function(e,t,n,a,r,i,s){return s|=0,"function"!=typeof t||(D(e,"read",t),"function"!=typeof n)?2:(D(e,"write",n),t=0,"function"==typeof a&&(D(e,"error",a),t=et),n=0,"function"==typeof r&&(D(e,"metadata",r),n=tt),a=!0===i,"number"==typeof i&&(a=!0,y.ccall("FLAC__stream_decoder_set_ogg_serial_number","number",["number","number"],[e,i])),y.ccall(r=a?"FLAC__stream_decoder_init_ogg_stream":"FLAC__stream_decoder_init_stream","number",["number","number","number","number","number","number","number","number","number","number"],[e,Qe,0,0,0,0,Je,n,t,s]))},init_decoder_ogg_stream:function(e,t,n,a,r,i,s){return this.init_decoder_stream(e,t,n,a,r,i="number"!=typeof i||i,s)},FLAC__stream_encoder_process_interleaved:function(e,t,n){var a=t.length*t.BYTES_PER_ELEMENT,r=y._malloc(a),t=((a=new Uint8Array(y.HEAPU8.buffer,r,a)).set(new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),y.ccall("FLAC__stream_encoder_process_interleaved","number",["number","number","number"],[e,a.byteOffset,n]));return y._free(r),t},FLAC__stream_encoder_process:function(e,t,n){var a=(t=this._create_pointer_array(t)).pointerPointer,e=y.ccall("FLAC__stream_encoder_process","number",["number","number","number"],[e,a,n]);return this._destroy_pointer_array(t),e},FLAC__stream_decoder_process_single:y.cwrap("FLAC__stream_decoder_process_single","number",["number"]),FLAC__stream_decoder_process_until_end_of_stream:y.cwrap("FLAC__stream_decoder_process_until_end_of_stream","number",["number"]),FLAC__stream_decoder_process_until_end_of_metadata:y.cwrap("FLAC__stream_decoder_process_until_end_of_metadata","number",["number"]),FLAC__stream_decoder_get_state:y.cwrap("FLAC__stream_decoder_get_state","number",["number"]),FLAC__stream_encoder_get_state:y.cwrap("FLAC__stream_encoder_get_state","number",["number"]),FLAC__stream_decoder_set_metadata_respond:y.cwrap("FLAC__stream_decoder_set_metadata_respond","number",["number","number"]),FLAC__stream_decoder_set_metadata_respond_application:y.cwrap("FLAC__stream_decoder_set_metadata_respond_application","number",["number","number"]),FLAC__stream_decoder_set_metadata_respond_all:y.cwrap("FLAC__stream_decoder_set_metadata_respond_all","number",["number"]),FLAC__stream_decoder_set_metadata_ignore:y.cwrap("FLAC__stream_decoder_set_metadata_ignore","number",["number","number"]),FLAC__stream_decoder_set_metadata_ignore_application:y.cwrap("FLAC__stream_decoder_set_metadata_ignore_application","number",["number","number"]),FLAC__stream_decoder_set_metadata_ignore_all:y.cwrap("FLAC__stream_decoder_set_metadata_ignore_all","number",["number"]),FLAC__stream_encoder_set_metadata:function(e,t,n){return y.ccall("FLAC__stream_encoder_set_metadata","number",["number","number","number"],[e,t.pointerPointer,n])},_create_pointer_array:function(e){for(var t,n,a,r=e.length,i=[],s=new Uint32Array(r),o=new DataView(s.buffer),l=0;l<r;++l)n=(t=e[l]).length*t.BYTES_PER_ELEMENT,a=y._malloc(n),i.push(a),new Uint8Array(y.HEAPU8.buffer,a,n).set(new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),o.setUint32(4*l,a,!0);var c=s.length*s.BYTES_PER_ELEMENT,u=y._malloc(c);return new Uint8Array(y.HEAPU8.buffer,u,c).set(new Uint8Array(s.buffer)),{dataPointer:i,pointerPointer:u}},_destroy_pointer_array:function(e){for(var t=e.dataPointer,n=0,a=t.length;n<a;++n)y._free(t[n]);y._free(e.pointerPointer)},FLAC__stream_decoder_get_md5_checking:y.cwrap("FLAC__stream_decoder_get_md5_checking","number",["number"]),FLAC__stream_decoder_set_md5_checking:function(e,t){return y.ccall("FLAC__stream_decoder_set_md5_checking","number",["number","number"],[e,t=t?1:0])},FLAC__stream_encoder_finish:y.cwrap("FLAC__stream_encoder_finish","number",["number"]),FLAC__stream_decoder_finish:y.cwrap("FLAC__stream_decoder_finish","number",["number"]),FLAC__stream_decoder_reset:y.cwrap("FLAC__stream_decoder_reset","number",["number"]),FLAC__stream_encoder_delete:function(e){this._clear_enc_cb(e),y.ccall("FLAC__stream_encoder_delete","number",["number"],[e]),x("destroyed",[{type:"destroyed",target:{id:e,type:"encoder"}}],!1)},FLAC__stream_decoder_delete:function(e){this._clear_dec_cb(e),y.ccall("FLAC__stream_decoder_delete","number",["number"],[e]),x("destroyed",[{type:"destroyed",target:{id:e,type:"decoder"}}],!1)}};return"function"==typeof Object.defineProperty?(L._onready=void 0,Object.defineProperty(L,"onready",{get(){return this._onready},set(e){(this._onready=e)&&this.isReady()&&Ye("ready",e)}})):console.warn("WARN: note that setting Flac.onready handler after Flac.isReady() is already true, will have no effect, that is, the handler function will not be triggered!"),I&&I.exports&&(I.exports=L),L});var key,moduleOverrides={};for(key in Module=void 0!==Module?Module:{})Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var read_,readAsync,readBinary,setWindowTitle,nodeFS,nodePath,arguments_=[],thisProgram="./this.program",quit_=function(e,t){throw t},ENVIRONMENT_IS_WEB=!1,ENVIRONMENT_IS_WORKER=!1,ENVIRONMENT_IS_NODE=!1,ENVIRONMENT_IS_SHELL=!1,ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_NODE="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER,scriptDirectory="";function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}ENVIRONMENT_IS_NODE?(scriptDirectory=ENVIRONMENT_IS_WORKER?require("path").dirname(scriptDirectory)+"/":__dirname+"/",read_=function(e,t){return nodeFS=nodeFS||require("fs"),e=(nodePath=nodePath||require("path")).normalize(e),nodeFS.readFileSync(e,t?null:"utf8")},readBinary=function(e){e=read_(e,!0);return assert((e=e.buffer?e:new Uint8Array(e)).buffer),e},1<process.argv.length&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=Module),process.on("uncaughtException",function(e){if(!(e instanceof ExitStatus))throw e}),process.on("unhandledRejection",abort),quit_=function(e){process.exit(e)},Module.inspect=function(){return"[Emscripten Module object]"}):ENVIRONMENT_IS_SHELL?("undefined"!=typeof read&&(read_=function(e){return read(e)}),readBinary=function(e){return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(assert("object"==typeof(e=read(e,"binary"))),e)},"undefined"!=typeof scriptArgs?arguments_=scriptArgs:"undefined"!=typeof arguments&&(arguments_=arguments),"function"==typeof quit&&(quit_=function(e){quit(e)}),"undefined"!=typeof print&&((console="undefined"==typeof console?{}:console).log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=0!==scriptDirectory.indexOf("blob:")?scriptDirectory.substr(0,scriptDirectory.lastIndexOf("/")+1):"",read_=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},ENVIRONMENT_IS_WORKER&&(readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),readAsync=function(e,t,n){var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=function(){200==a.status||0==a.status&&a.response?t(a.response):n()},a.onerror=n,a.send(null)});var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);for(key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16;function dynamicAlloc(e){var t=HEAP32[DYNAMICTOP_PTR>>2];return HEAP32[DYNAMICTOP_PTR>>2]=t+e+15&-16,t}function alignMemory(e,t){return t=t||STACK_ALIGN,Math.ceil(e/t)*t}function getNativeTypeSize(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:var t;return"*"===e[e.length-1]?4:"i"===e[0]?(assert((t=Number(e.substr(1)))%8==0,"getNativeTypeSize invalid bits "+t+", type "+e),t/8):0}}function warnOnce(e){warnOnce.shown||(warnOnce.shown={}),warnOnce.shown[e]||(warnOnce.shown[e]=1,err(e))}function convertJsFunctionToWasm(e,t){if("function"==typeof WebAssembly.Function){for(var n={i:"i32",j:"i64",f:"f32",d:"f64"},a={parameters:[],results:"v"==t[0]?[]:[n[t[0]]]},r=1;r<t.length;++r)a.parameters.push(n[t[r]]);return new WebAssembly.Function(a,e)}var i=[1,0,1,96],s=t.slice(0,1),o=t.slice(1),l={i:127,j:126,f:125,d:124};i.push(o.length);for(r=0;r<o.length;++r)i.push(l[o[r]]);"v"==s?i.push(0):i=i.concat([1,l[s]]),i[1]=i.length-2;s=new Uint8Array([0,97,115,109,1,0,0,0].concat(i,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),s=new WebAssembly.Module(s);return new WebAssembly.Instance(s,{e:{f:e}}).exports.f}var functionsInTableMap,freeTableIndexes=[];function addFunctionWasm(t,n){var a,r=wasmTable;if(!functionsInTableMap){functionsInTableMap=new WeakMap;for(var e=0;e<r.length;e++){var i=r.get(e);i&&functionsInTableMap.set(i,e)}}if(functionsInTableMap.has(t))return functionsInTableMap.get(t);if(freeTableIndexes.length)a=freeTableIndexes.pop();else{a=r.length;try{r.grow(1)}catch(e){if(e instanceof RangeError)throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.";throw e}}try{r.set(a,t)}catch(e){if(!(e instanceof TypeError))throw e;n=convertJsFunctionToWasm(t,n);r.set(a,n)}return functionsInTableMap.set(t,a),a}function removeFunctionWasm(e){functionsInTableMap.delete(wasmTable.get(e)),freeTableIndexes.push(e)}function addFunction(e,t){return addFunctionWasm(e,t)}function removeFunction(e){removeFunctionWasm(e)}var funcWrappers={};function getFuncWrapper(t,n){var e;if(t)return assert(n),funcWrappers[n]||(funcWrappers[n]={}),(e=funcWrappers[n])[t]||(1===n.length?e[t]=function(){return dynCall(n,t)}:2===n.length?e[t]=function(e){return dynCall(n,t,[e])}:e[t]=function(){return dynCall(n,t,Array.prototype.slice.call(arguments))}),e[t]}function makeBigInt(e,t,n){return n?(e>>>0)+4294967296*(t>>>0):(e>>>0)+4294967296*(0|t)}function dynCall(e,t,n){return n&&n.length?Module["dynCall_"+e].apply(null,[t].concat(n)):Module["dynCall_"+e].call(null,t)}var wasmBinary,noExitRuntime,wasmMemory,tempRet0=0,setTempRet0=function(e){tempRet0=e},getTempRet0=function(){return tempRet0},GLOBAL_BASE=1024;function setValue(e,t,n,a){switch(n="*"===(n=n||"i8").charAt(n.length-1)?"i32":n){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,1<=+Math_abs(tempDouble=t)?0<tempDouble?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-(~~tempDouble>>>0))/4294967296)>>>0:0],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;default:abort("invalid type for setValue: "+n)}}function getValue(e,t,n){switch(t="*"===(t=t||"i8").charAt(t.length-1)?"i32":t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];default:abort("invalid type for getValue: "+t)}return null}Module.wasmBinary&&(wasmBinary=Module.wasmBinary),Module.noExitRuntime&&(noExitRuntime=Module.noExitRuntime),"object"!=typeof WebAssembly&&err("no native wasm support detected");var wasmTable=new WebAssembly.Table({initial:4,maximum:4,element:"anyfunc"}),ABORT=!1,EXITSTATUS=0;function assert(e,t){e||abort("Assertion failed: "+t)}function getCFunc(e){var t=Module["_"+e];return assert(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function ccall(e,t,n,a,r){var i={string:function(e){var t,n=0;return null!=e&&0!==e&&(t=1+(e.length<<2),stringToUTF8(e,n=stackAlloc(t),t)),n},array:function(e){var t=stackAlloc(e.length);return writeArrayToMemory(e,t),t}};var e=getCFunc(e),s=[],o=0;if(a)for(var l=0;l<a.length;l++){var c=i[n[l]];c?(0===o&&(o=stackSave()),s[l]=c(a[l])):s[l]=a[l]}var u,e=e.apply(null,s);return u=e,e="string"===t?UTF8ToString(u):"boolean"===t?Boolean(u):u,0!==o&&stackRestore(o),e}function cwrap(e,t,n,a){var r=(n=n||[]).every(function(e){return"number"===e});return"string"!==t&&r&&!a?getCFunc(e):function(){return ccall(e,t,n,arguments,a)}}var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_DYNAMIC=2,ALLOC_NONE=3;function allocate(e,t,n,a){var r,i,s="number"==typeof e?(r=!0,e):(r=!1,e.length),o="string"==typeof t?t:null,l=n==ALLOC_NONE?a:[_malloc,stackAlloc,dynamicAlloc][n](Math.max(s,o?1:t.length));if(r){for(assert(0==(3&(a=l))),i=l+(-4&s);a<i;a+=4)HEAP32[a>>2]=0;for(i=l+s;a<i;)HEAP8[a++>>0]=0}else if("i8"===o)e.subarray||e.slice?HEAPU8.set(e,l):HEAPU8.set(new Uint8Array(e),l);else for(var c,u,f=0;f<s;){var d,p=e[f];0===(d=o||t[f])?f++:(setValue(l+f,p,d="i64"==d?"i32":d),u!==d&&(c=getNativeTypeSize(d),u=d),f+=c)}return l}function getMemory(e){return(runtimeInitialized?_malloc:dynamicAlloc)(e)}var UTF8Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function UTF8ArrayToString(e,t,n){for(var a=t+n,r=t;e[r]&&!(a<=r);)++r;if(16<r-t&&e.subarray&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,r));for(var i="";t<r;){var s,o,l=e[t++];128&l?(o=63&e[t++],192==(224&l)?i+=String.fromCharCode((31&l)<<6|o):(s=63&e[t++],(l=224==(240&l)?(15&l)<<12|o<<6|s:(7&l)<<18|o<<12|s<<6|63&e[t++])<65536?i+=String.fromCharCode(l):(o=l-65536,i+=String.fromCharCode(55296|o>>10,56320|1023&o)))):i+=String.fromCharCode(l)}return i}function UTF8ToString(e,t){return e?UTF8ArrayToString(HEAPU8,e,t):""}function stringToUTF8Array(e,t,n,a){if(!(0<a))return 0;for(var r=n,i=n+a-1,s=0;s<e.length;++s){var o=e.charCodeAt(s);if((o=55296<=o&&o<=57343?65536+((1023&o)<<10)|1023&e.charCodeAt(++s):o)<=127){if(i<=n)break;t[n++]=o}else{if(o<=2047){if(i<=n+1)break;t[n++]=192|o>>6}else{if(o<=65535){if(i<=n+2)break;t[n++]=224|o>>12}else{if(i<=n+3)break;t[n++]=240|o>>18,t[n++]=128|o>>12&63}t[n++]=128|o>>6&63}t[n++]=128|63&o}}return t[n]=0,n-r}function stringToUTF8(e,t,n){return stringToUTF8Array(e,HEAPU8,t,n)}function lengthBytesUTF8(e){for(var t=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);(a=55296<=a&&a<=57343?65536+((1023&a)<<10)|1023&e.charCodeAt(++n):a)<=127?++t:t+=a<=2047?2:a<=65535?3:4}return t}function AsciiToString(e){for(var t="";;){var n=HEAPU8[e++>>0];if(!n)return t;t+=String.fromCharCode(n)}}function stringToAscii(e,t){return writeAsciiToMemory(e,t,!1)}var UTF16Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function UTF16ToString(e,t){for(var n,a=e>>1,r=a+t/2;!(r<=a)&&HEAPU16[a];)++a;if(32<(n=a<<1)-e&&UTF16Decoder)return UTF16Decoder.decode(HEAPU8.subarray(e,n));for(var i=0,s="";;){var o=HEAP16[e+2*i>>1];if(0==o||i==t/2)return s;++i,s+=String.fromCharCode(o)}}function stringToUTF16(e,t,n){if((n=void 0===n?2147483647:n)<2)return 0;for(var a=t,r=(n-=2)<2*e.length?n/2:e.length,i=0;i<r;++i){var s=e.charCodeAt(i);HEAP16[t>>1]=s,t+=2}return HEAP16[t>>1]=0,t-a}function lengthBytesUTF16(e){return 2*e.length}function UTF32ToString(e,t){for(var n=0,a="";!(t/4<=n);){var r,i=HEAP32[e+4*n>>2];if(0==i)break;++n,65536<=i?(r=i-65536,a+=String.fromCharCode(55296|r>>10,56320|1023&r)):a+=String.fromCharCode(i)}return a}function stringToUTF32(e,t,n){if((n=void 0===n?2147483647:n)<4)return 0;for(var a=t,r=a+n-4,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(55296<=s&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i)),HEAP32[t>>2]=s,r<(t+=4)+4)break}return HEAP32[t>>2]=0,t-a}function lengthBytesUTF32(e){for(var t=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);55296<=a&&a<=57343&&++n,t+=4}return t}function allocateUTF8(e){var t=lengthBytesUTF8(e)+1,n=_malloc(t);return n&&stringToUTF8Array(e,HEAP8,n,t),n}function allocateUTF8OnStack(e){var t=lengthBytesUTF8(e)+1,n=stackAlloc(t);return stringToUTF8Array(e,HEAP8,n,t),n}function writeStringToMemory(e,t,n){var a,r;warnOnce("writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!"),n&&(r=t+lengthBytesUTF8(e),a=HEAP8[r]),stringToUTF8(e,t,1/0),n&&(HEAP8[r]=a)}function writeArrayToMemory(e,t){HEAP8.set(e,t)}function writeAsciiToMemory(e,t,n){for(var a=0;a<e.length;++a)HEAP8[t++>>0]=e.charCodeAt(a);n||(HEAP8[t>>0]=0)}var HEAP,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,PAGE_SIZE=16384,WASM_PAGE_SIZE=65536,ASMJS_PAGE_SIZE=16777216;function alignUp(e,t){return 0<e%t&&(e+=t-e%t),e}function updateGlobalBufferAndViews(e){buffer=e,Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e)}var STATIC_BASE=1024,STACK_BASE=5340160,STACKTOP=STACK_BASE,STACK_MAX=97280,DYNAMIC_BASE=5340160,DYNAMICTOP_PTR=97120,TOTAL_STACK=5242880,INITIAL_INITIAL_MEMORY=Module.INITIAL_MEMORY||16777216;function callRuntimeCallbacks(e){for(;0<e.length;){var t,n=e.shift();"function"==typeof n?n(Module):"number"==typeof(t=n.func)?void 0===n.arg?Module.dynCall_v(t):Module.dynCall_vi(t,n.arg):t(void 0===n.arg?null:n.arg)}}wasmMemory=Module.wasmMemory||new WebAssembly.Memory({initial:INITIAL_INITIAL_MEMORY/WASM_PAGE_SIZE,maximum:2147483648/WASM_PAGE_SIZE}),INITIAL_INITIAL_MEMORY=(buffer=wasmMemory?wasmMemory.buffer:buffer).byteLength,updateGlobalBufferAndViews(buffer),HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){runtimeExited=!0}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPreMain(e){__ATMAIN__.unshift(e)}function addOnExit(e){}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function unSign(e,t,n){return 0<=e?e:t<=32?2*Math.abs(1<<t-1)+e:Math.pow(2,t)+e}function reSign(e,t,n){var a;return e<=0||(a=t<=32?Math.abs(1<<t-1):Math.pow(2,t-1))<=e&&(t<=32||a<e)&&(e=-2*a+e),e}var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_round=Math.round,Math_min=Math.min,Math_max=Math.max,Math_clz32=Math.clz32,Math_trunc=Math.trunc,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function getUniqueRunDependency(e){return e}function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(e){var t;runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)&&(t=dependenciesFulfilled,dependenciesFulfilled=null,t())}function abort(e){throw Module.onAbort&&Module.onAbort(e),out(e+=""),err(e),ABORT=!0,EXITSTATUS=1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}Module.preloadedImages={},Module.preloadedAudios={};var memoryInitializer=null;function hasPrefix(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(e){return hasPrefix(e,dataURIPrefix)}var fileURIPrefix="file://";function isFileURI(e){return hasPrefix(e,fileURIPrefix)}var tempDouble,tempI64,wasmBinaryFile=window.AUDIOMASS_BASE_PATH+"rnn_denoise.wasm";function getBinary(){try{if(wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(wasmBinaryFile);throw"both async and sync fetching of the wasm failed"}catch(e){abort(e)}}function getBinaryPromise(){return wasmBinary||!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER||"function"!=typeof fetch||isFileURI(wasmBinaryFile)?new Promise(function(e,t){e(getBinary())}):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(e){if(e.ok)return e.arrayBuffer();throw"failed to load wasm binary file at '"+wasmBinaryFile+"'"}).catch(function(){return getBinary()})}function createWasm(){var t={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg};function n(e,t){e=e.exports;Module.asm=e,removeRunDependency("wasm-instantiate")}function a(e){n(e.instance)}function r(e){return getBinaryPromise().then(function(e){return WebAssembly.instantiate(e,t)}).then(e,function(e){err("failed to asynchronously prepare wasm: "+e),abort(e)})}if(addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(t,n)}catch(e){return err("Module.instantiateWasm callback failed with error: "+e),!1}return wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||"function"!=typeof fetch?r(a):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,t).then(a,function(e){return err("wasm streaming compile failed: "+e),err("falling back to ArrayBuffer instantiation"),r(a)})}),{}}isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function demangle(e){return e}function demangleAll(e){return e.replace(/\b_Z[\w\d_]+/g,function(e){var t=demangle(e);return e===t?e:t+" ["+e+"]"})}function jsStackTrace(){var t=new Error;if(!t.stack){try{throw new Error}catch(e){t=e}if(!t.stack)return"(no stack trace available)"}return t.stack.toString()}function stackTrace(){var e=jsStackTrace();return Module.extraStackTrace&&(e+="\n"+Module.extraStackTrace()),demangleAll(e)}__ATINIT__.push({func:function(){___wasm_call_ctors()}});var _emscripten_get_now=ENVIRONMENT_IS_NODE?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof dateNow?dateNow:function(){return performance.now()},_emscripten_get_now_is_monotonic=!0;function setErrNo(e){return HEAP32[___errno_location()>>2]=e}function _clock_gettime(e,t){var n;if(0===e)n=Date.now();else{if(1!==e&&4!==e||!_emscripten_get_now_is_monotonic)return setErrNo(28),-1;n=_emscripten_get_now()}return HEAP32[t>>2]=n/1e3|0,HEAP32[t+4>>2]=n%1e3*1e3*1e3|0,0}function _emscripten_get_sbrk_ptr(){return 97120}function _emscripten_memcpy_big(e,t,n){HEAPU8.copyWithin(e,t,t+n)}function _emscripten_get_heap_size(){return HEAPU8.length}function emscripten_realloc_buffer(e){try{return wasmMemory.grow(e-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch(e){}}function _emscripten_resize_heap(e){e>>>=0;var t=_emscripten_get_heap_size();if(!(2147483648<e))for(var n=1;n<=4;n*=2){var a=t*(1+.2/n),a=Math.min(a,e+100663296);if(emscripten_realloc_buffer(Math.min(2147483648,alignUp(Math.max(16777216,e,a),65536))))return!0}return!1}var PATH={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,a=e.length-1;0<=a;a--){var r=e[a];"."===r?e.splice(a,1):".."===r?(e.splice(a,1),n++):n&&(e.splice(a,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return(e=(e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"))||t?e:".")&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var e=PATH.splitPath(e),t=e[0],e=e[1];return t||e?t+(e=e&&e.substr(0,e.length-1)):"."},basename:function(e){var t;return"/"===e?"/":-1===(t=e.lastIndexOf("/"))?e:e.substr(t+1)},extname:function(e){return PATH.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return PATH.normalize(e.join("/"))},join2:function(e,t){return PATH.normalize(e+"/"+t)}},SYSCALLS={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=SYSCALLS.buffers[e];0===t||10===t?((1===e?out:err)(UTF8ArrayToString(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(e){return UTF8ToString(e)},get64:function(e,t){return e}};function _fd_close(e){return 0}function _fd_seek(e,t,n,a,r){}function flush_NO_FILESYSTEM(){"undefined"!=typeof _fflush&&_fflush(0);var e=SYSCALLS.buffers;e[1].length&&SYSCALLS.printChar(1,10),e[2].length&&SYSCALLS.printChar(2,10)}function _fd_write(e,t,n,a){for(var r=0,i=0;i<n;i++){for(var s=HEAP32[t+8*i>>2],o=HEAP32[t+(8*i+4)>>2],l=0;l<o;l++)SYSCALLS.printChar(e,HEAPU8[s+l]);r+=o}return HEAP32[a>>2]=r,0}function _setTempRet0(e){setTempRet0(0|e)}var ASSERTIONS=!1;function intArrayFromString(e,t,n){n=0<n?n:lengthBytesUTF8(e)+1,n=new Array(n),e=stringToUTF8Array(e,n,0,n.length);return t&&(n.length=e),n}function intArrayToString(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];255<a&&(ASSERTIONS&&assert(!1,"Character code "+a+" ("+String.fromCharCode(a)+")  at offset "+n+" not in 0x00-0xFF."),a&=255),t.push(String.fromCharCode(a))}return t.join("")}var calledRun,asmGlobalArg={},asmLibraryArg={clock_gettime:_clock_gettime,emscripten_get_sbrk_ptr:_emscripten_get_sbrk_ptr,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,setTempRet0:_setTempRet0,table:wasmTable},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},_rnnoise_get_size=Module._rnnoise_get_size=function(){return(_rnnoise_get_size=Module._rnnoise_get_size=Module.asm.rnnoise_get_size).apply(null,arguments)},_rnnoise_init=Module._rnnoise_init=function(){return(_rnnoise_init=Module._rnnoise_init=Module.asm.rnnoise_init).apply(null,arguments)},_rnnoise_create=Module._rnnoise_create=function(){return(_rnnoise_create=Module._rnnoise_create=Module.asm.rnnoise_create).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_rnnoise_destroy=Module._rnnoise_destroy=function(){return(_rnnoise_destroy=Module._rnnoise_destroy=Module.asm.rnnoise_destroy).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_rnnoise_process_frame=Module._rnnoise_process_frame=function(){return(_rnnoise_process_frame=Module._rnnoise_process_frame=Module.asm.rnnoise_process_frame).apply(null,arguments)},_denoise_proc=Module._denoise_proc=function(){return(_denoise_proc=Module._denoise_proc=Module.asm.denoise_proc).apply(null,arguments)},_rnnDenoise_rawmem=Module._rnnDenoise_rawmem=function(){return(_rnnDenoise_rawmem=Module._rnnDenoise_rawmem=Module.asm.rnnDenoise_rawmem).apply(null,arguments)},_rnnDenoise_rawmem_perf=Module._rnnDenoise_rawmem_perf=function(){return(_rnnDenoise_rawmem_perf=Module._rnnDenoise_rawmem_perf=Module.asm.rnnDenoise_rawmem_perf).apply(null,arguments)},_get_rnnDenoise_rawmem_time=Module._get_rnnDenoise_rawmem_time=function(){return(_get_rnnDenoise_rawmem_time=Module._get_rnnDenoise_rawmem_time=Module.asm.get_rnnDenoise_rawmem_time).apply(null,arguments)},_getResultPointer=Module._getResultPointer=function(){return(_getResultPointer=Module._getResultPointer=Module.asm.getResultPointer).apply(null,arguments)},_getResultSize=Module._getResultSize=function(){return(_getResultSize=Module._getResultSize=Module.asm.getResultSize).apply(null,arguments)},_getsampleRate=Module._getsampleRate=function(){return(_getsampleRate=Module._getsampleRate=Module.asm.getsampleRate).apply(null,arguments)},_getchannels=Module._getchannels=function(){return(_getchannels=Module._getchannels=Module.asm.getchannels).apply(null,arguments)},_getsampleCount=Module._getsampleCount=function(){return(_getsampleCount=Module._getsampleCount=Module.asm.getsampleCount).apply(null,arguments)},_freeBuffer=Module._freeBuffer=function(){return(_freeBuffer=Module._freeBuffer=Module.asm.freeBuffer).apply(null,arguments)},_main=Module._main=function(){return(_main=Module._main=Module.asm.main).apply(null,arguments)},___errno_location=Module.___errno_location=function(){return(___errno_location=Module.___errno_location=Module.asm.__errno_location).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__growWasmMemory=Module.__growWasmMemory=function(){return(__growWasmMemory=Module.__growWasmMemory=Module.asm.__growWasmMemory).apply(null,arguments)},dynCall_ii=Module.dynCall_ii=function(){return(dynCall_ii=Module.dynCall_ii=Module.asm.dynCall_ii).apply(null,arguments)},dynCall_iiii=Module.dynCall_iiii=function(){return(dynCall_iiii=Module.dynCall_iiii=Module.asm.dynCall_iiii).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)};function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}Module.cwrap=cwrap;var calledMain=!1;function callMain(e){var t=Module._main,n=(e=e||[]).length+1,a=stackAlloc(4*(n+1));HEAP32[a>>2]=allocateUTF8OnStack(thisProgram);for(var r,i=1;i<n;i++)HEAP32[(a>>2)+i]=allocateUTF8OnStack(e[i-1]);HEAP32[(a>>2)+n]=0;try{exit(t(n,a),!0)}catch(e){e instanceof ExitStatus||("unwind"==e?noExitRuntime=!0:((r=e)&&"object"==typeof e&&e.stack&&(r=[e,e.stack]),err("exception thrown: "+r),quit_(1,e)))}finally{calledMain=!0}}function run(e){function t(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT)||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(e),postRun())}e=e||arguments_,0<runDependencies||(preRun(),0<runDependencies)||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t())}function exit(e,t){t&&noExitRuntime&&0===e||(noExitRuntime||(ABORT=!0,EXITSTATUS=e,exitRuntime(),Module.onExit&&Module.onExit(e)),quit_(e,new ExitStatus(e)))}if(dependenciesFulfilled=function e(){calledRun||run(),calledRun||(dependenciesFulfilled=e)},Module.run=run,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);0<Module.preInit.length;)Module.preInit.pop()();var shouldRunNow=!0,BUFF_SIZE=(Module.noInitialRun&&(shouldRunNow=!1),noExitRuntime=!0,run(),16384),fileContents=null,leftchannel=[],rightchannel=[],denoisedchannel=[],recorder=null,recordingLength=0,volume=null,mediaStream=null,sampleRate=44100,sampleSize=0,context=null,blobIn=null,blobOut=null,wasm_processing_time=0,total_wasm_processing_time=0;function reset(){leftchannel=[],rightchannel=[],denoisedchannel=[],recordingLength=0,sampleRate=44100,blobOut=blobIn=context=mediaStream=volume=recorder=fileContents=null}function flattenArray(e,t){for(var n=new Float32Array(t),a=0,r=0;r<e.length;r++){var i=e[r];n.set(i,a),a+=i.length}return n}function playF32Audio(e,t,n){var a=new(window.AudioContext||window.webkitAudioContext)({sampleRate:n}),t=a.createBuffer(1,t,n),n=(t.copyToChannel(e,0,0),a.createBufferSource());n.buffer=t,n.connect(a.destination),n.start()}let wasm_getsampleCount=Module.cwrap("getsampleCount","number"),wasm_getsampleRate=Module.cwrap("getsampleRate","number"),wasm_getResultSize=Module.cwrap("getResultSize","number",[]),wasm_getResultPointer=Module.cwrap("getResultPointer","number",[]),wasm_rnnDenoise_rawmem=Module.cwrap("rnnDenoise_rawmem","number",["number","number","number","number"]),wasm_rnnDenoise_rawmem_perf=Module.cwrap("rnnDenoise_rawmem_perf","number",["number","number","number","number"]),wasm_get_rnnDenoise_rawmem_time=Module.cwrap("get_rnnDenoise_rawmem_time","number",[""]),wasm_freeBuffer=Module.cwrap("freeBuffer","",[]);function wasm_denoise_stream(e){var t=Module._malloc(4*e.length),t=(new Float32Array(wasmMemory.buffer,t,e.length).set(e),wasm_rnnDenoise_rawmem(t,sampleRate,1,e.length));return new Float32Array(wasmMemory.buffer,t,e.length)}function wasm_denoise_stream_perf(e){var t=Module._malloc(4*e.length),n=(new Float32Array(wasmMemory.buffer,t,e.length).set(e),performance.now()),t=wasm_rnnDenoise_rawmem(t,sampleRate,1,e.length),a=performance.now(),a=(total_wasm_processing_time+=wasm_processing_time=a-n,new Float32Array(wasmMemory.buffer,t,e.length));return a}(e=>{n=document.currentScript.src;let t=null!==(a=/[^\/]+$/.exec(n))?n.slice(0,a.index):"";var n,a;function l(e,t){var t=(e=e.exports).getLinearMemoryOffset()+t,n=e.memory.buffer.byteLength>>>16;return n<(t=t+65535>>>16)&&e.memory.grow(t-n),e.memory.buffer}e.LZ4BlockWASM=function(){this.lz4wasmInstance=void 0},e.LZ4BlockWASM.prototype={flavor:"wasm",init:function(){return"object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiateStreaming||(this.lz4wasmInstance=null),null===this.lz4wasmInstance?Promise.reject():this.lz4wasmInstance instanceof WebAssembly.Instance?Promise.resolve(this.lz4wasmInstance):(void 0===this.lz4wasmInstance&&(this.lz4wasmInstance=WebAssembly.instantiateStreaming(fetch(t+window.AUDIOMASS_BASE_PATH+""+window.AUDIOMASS_BASE_PATH+"lz4-block-codec.wasm",{mode:"same-origin"})).then(e=>(this.lz4wasmInstance=void 0,this.lz4wasmInstance=e&&e.instance||null,null!==this.lz4wasmInstance?this:null)),this.lz4wasmInstance.catch(()=>this.lz4wasmInstance=null)),this.lz4wasmInstance)},reset:function(){this.lz4wasmInstance=void 0},bytesInUse:function(){return this.lz4wasmInstance instanceof WebAssembly.Instance?this.lz4wasmInstance.exports.memory.buffer.byteLength:0},encodeBlock:function(e,t){if(this.lz4wasmInstance instanceof WebAssembly.Instance==!1)throw new Error("LZ4BlockWASM: not initialized");if(e instanceof ArrayBuffer)e=new Uint8Array(e);else if(e instanceof Uint8Array==!1)throw new TypeError;var n=this.lz4wasmInstance,a=n.exports,r=a.getLinearMemoryOffset(),i=262144,s=e.byteLength;if(2113929216<=s)throw new RangeError;var o=i+s+t+a.lz4BlockEncodeBound(s),n=l(n,o);if(new Int32Array(n,r,65536).fill(-65536,0,65536),new Uint8Array(n,r+i,s).set(e),0!==(o=a.lz4BlockEncode(r+i,s,r+i+s+t)))return new Uint8Array(n,r+i+s,t+o)},decodeBlock:function(e,t,n){if(this.lz4wasmInstance instanceof WebAssembly.Instance==!1)throw new Error("LZ4BlockWASM: not initialized");if(e instanceof ArrayBuffer)e=new Uint8Array(e);else if(e instanceof Uint8Array==!1)throw new TypeError;var a=this.lz4wasmInstance,r=e.byteLength,i=a.exports,s=i.getLinearMemoryOffset(),o=r+n,a=l(a,o),o=new Uint8Array(a,s,r);if(o.set(e),0!==(n=i.lz4BlockDecode(s+t,r-t,s+r)))return new Uint8Array(a,s+r,n)}}})(this||self);